function wV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function We(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gR={exports:{}},qm={},yR={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=Symbol.for("react.element"),bV=Symbol.for("react.portal"),EV=Symbol.for("react.fragment"),SV=Symbol.for("react.strict_mode"),xV=Symbol.for("react.profiler"),TV=Symbol.for("react.provider"),AV=Symbol.for("react.context"),PV=Symbol.for("react.forward_ref"),CV=Symbol.for("react.suspense"),IV=Symbol.for("react.memo"),OV=Symbol.for("react.lazy"),Gx=Symbol.iterator;function NV(t){return t===null||typeof t!="object"?null:(t=Gx&&t[Gx]||t["@@iterator"],typeof t=="function"?t:null)}var vR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_R=Object.assign,wR={};function Dl(t,e,n){this.props=t,this.context=e,this.refs=wR,this.updater=n||vR}Dl.prototype.isReactComponent={};Dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bR(){}bR.prototype=Dl.prototype;function Ob(t,e,n){this.props=t,this.context=e,this.refs=wR,this.updater=n||vR}var Nb=Ob.prototype=new bR;Nb.constructor=Ob;_R(Nb,Dl.prototype);Nb.isPureReactComponent=!0;var Kx=Array.isArray,ER=Object.prototype.hasOwnProperty,Rb={current:null},SR={key:!0,ref:!0,__self:!0,__source:!0};function xR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ER.call(e,r)&&!SR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xf,type:t,key:o,ref:s,props:i,_owner:Rb.current}}function RV(t,e){return{$$typeof:Xf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xf}function kV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qx=/\/+/g;function Wy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kV(""+t.key):e.toString(36)}function Ad(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Xf:case bV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Wy(s,0):r,Kx(i)?(n="",t!=null&&(n=t.replace(Qx,"$&/")+"/"),Ad(i,e,n,"",function(u){return u})):i!=null&&(kb(i)&&(i=RV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Qx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Kx(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Wy(o,a);s+=Ad(o,e,n,l,i)}else if(l=NV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Wy(o,a++),s+=Ad(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Vh(t,e,n){if(t==null)return t;var r=[],i=0;return Ad(t,r,"","",function(o){return e.call(n,o,i++)}),r}function MV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},Pd={transition:null},DV={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:Rb};function TR(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Vh,forEach:function(t,e,n){Vh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vh(t,function(){e++}),e},toArray:function(t){return Vh(t,function(e){return e})||[]},only:function(t){if(!kb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Dl;xe.Fragment=EV;xe.Profiler=xV;xe.PureComponent=Ob;xe.StrictMode=SV;xe.Suspense=CV;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DV;xe.act=TR;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_R({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Rb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ER.call(e,l)&&!SR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xf,type:t.type,key:i,ref:o,props:r,_owner:s}};xe.createContext=function(t){return t={$$typeof:AV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TV,_context:t},t.Consumer=t};xe.createElement=xR;xe.createFactory=function(t){var e=xR.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:PV,render:t}};xe.isValidElement=kb;xe.lazy=function(t){return{$$typeof:OV,_payload:{_status:-1,_result:t},_init:MV}};xe.memo=function(t,e){return{$$typeof:IV,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Pd.transition;Pd.transition={};try{t()}finally{Pd.transition=e}};xe.unstable_act=TR;xe.useCallback=function(t,e){return Tn.current.useCallback(t,e)};xe.useContext=function(t){return Tn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Tn.current.useEffect(t,e)};xe.useId=function(){return Tn.current.useId()};xe.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Tn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};xe.useRef=function(t){return Tn.current.useRef(t)};xe.useState=function(t){return Tn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Tn.current.useTransition()};xe.version="18.3.1";yR.exports=xe;var j=yR.exports;const D=We(j),jV=wV({__proto__:null,default:D},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $V=j,LV=Symbol.for("react.element"),FV=Symbol.for("react.fragment"),VV=Object.prototype.hasOwnProperty,BV=$V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UV={key:!0,ref:!0,__self:!0,__source:!0};function AR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)VV.call(e,r)&&!UV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:LV,type:t,key:o,ref:s,props:i,_owner:BV.current}}qm.Fragment=FV;qm.jsx=AR;qm.jsxs=AR;gR.exports=qm;var N=gR.exports,m_={},PR={exports:{}},Xn={},CR={exports:{}},IR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var Q=L.length;L.push(z);e:for(;0<Q;){var ee=Q-1>>>1,Y=L[ee];if(0<i(Y,z))L[ee]=z,L[Q]=Y,Q=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],Q=L.pop();if(Q!==z){L[0]=Q;e:for(var ee=0,Y=L.length,le=Y>>>1;ee<le;){var pe=2*(ee+1)-1,je=L[pe],Qe=pe+1,on=L[Qe];if(0>i(je,Q))Qe<Y&&0>i(on,je)?(L[ee]=on,L[Qe]=Q,ee=Qe):(L[ee]=je,L[pe]=Q,ee=pe);else if(Qe<Y&&0>i(on,Q))L[ee]=on,L[Qe]=Q,ee=Qe;else break e}}return z}function i(L,z){var Q=L.sortIndex-z.sortIndex;return Q!==0?Q:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function C(L){if(g=!1,b(L),!m)if(n(l)!==null)m=!0,W(S);else{var z=n(u);z!==null&&G(C,z.startTime-L)}}function S(L,z){m=!1,g&&(g=!1,w(x),x=-1),p=!0;var Q=d;try{for(b(z),f=n(l);f!==null&&(!(f.expirationTime>z)||L&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,d=f.priorityLevel;var Y=ee(f.expirationTime<=z);z=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),b(z)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var pe=n(u);pe!==null&&G(C,pe.startTime-z),le=!1}return le}finally{f=null,d=Q,p=!1}}var A=!1,E=null,x=-1,P=5,O=-1;function I(){return!(t.unstable_now()-O<P)}function k(){if(E!==null){var L=t.unstable_now();O=L;var z=!0;try{z=E(!0,L)}finally{z?R():(A=!1,E=null)}}else A=!1}var R;if(typeof v=="function")R=function(){v(k)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=k,R=function(){U.postMessage(null)}}else R=function(){y(k,0)};function W(L){E=L,A||(A=!0,R())}function G(L,z){x=y(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,W(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var Q=d;d=z;try{return L()}finally{d=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=d;d=L;try{return z()}finally{d=Q}},t.unstable_scheduleCallback=function(L,z,Q){var ee=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,L={id:c++,callback:z,priorityLevel:L,startTime:Q,expirationTime:Y,sortIndex:-1},Q>ee?(L.sortIndex=Q,e(u,L),n(l)===null&&L===n(u)&&(g?(w(x),x=-1):g=!0,G(C,Q-ee))):(L.sortIndex=Y,e(l,L),m||p||(m=!0,W(S))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var z=d;return function(){var Q=d;d=z;try{return L.apply(this,arguments)}finally{d=Q}}}})(IR);CR.exports=IR;var zV=CR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WV=j,Qn=zV;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OR=new Set,Rc={};function Us(t,e){Ha(t,e),Ha(t+"Capture",e)}function Ha(t,e){for(Rc[t]=e,t=0;t<e.length;t++)OR.add(e[t])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g_=Object.prototype.hasOwnProperty,qV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yx={},Xx={};function HV(t){return g_.call(Xx,t)?!0:g_.call(Yx,t)?!1:qV.test(t)?Xx[t]=!0:(Yx[t]=!0,!1)}function GV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KV(t,e,n,r){if(e===null||typeof e>"u"||GV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function An(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new An(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new An(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new An(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new An(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new An(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new An(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new An(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new An(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new An(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mb=/[\-:]([a-z])/g;function Db(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mb,Db);nn[e]=new An(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mb,Db);nn[e]=new An(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mb,Db);nn[e]=new An(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new An(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new An(t,1,!1,t.toLowerCase(),null,!0,!0)});function jb(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KV(e,n,i,r)&&(n=null),r||i===null?HV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Di=WV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),ha=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),$b=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),NR=Symbol.for("react.provider"),RR=Symbol.for("react.context"),Lb=Symbol.for("react.forward_ref"),v_=Symbol.for("react.suspense"),__=Symbol.for("react.suspense_list"),Fb=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),kR=Symbol.for("react.offscreen"),Jx=Symbol.iterator;function Pu(t){return t===null||typeof t!="object"?null:(t=Jx&&t[Jx]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,qy;function Ju(t){if(qy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qy=e&&e[1]||""}return`
`+qy+t}var Hy=!1;function Gy(t,e){if(!t||Hy)return"";Hy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Hy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ju(t):""}function QV(t){switch(t.tag){case 5:return Ju(t.type);case 16:return Ju("Lazy");case 13:return Ju("Suspense");case 19:return Ju("SuspenseList");case 0:case 2:case 15:return t=Gy(t.type,!1),t;case 11:return t=Gy(t.type.render,!1),t;case 1:return t=Gy(t.type,!0),t;default:return""}}function w_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case da:return"Fragment";case ha:return"Portal";case y_:return"Profiler";case $b:return"StrictMode";case v_:return"Suspense";case __:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RR:return(t.displayName||"Context")+".Consumer";case NR:return(t._context.displayName||"Context")+".Provider";case Lb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fb:return e=t.displayName||null,e!==null?e:w_(t.type)||"Memo";case Xi:e=t._payload,t=t._init;try{return w_(t(e))}catch{}}return null}function YV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w_(e);case 8:return e===$b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Co(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XV(t){var e=MR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uh(t){t._valueTracker||(t._valueTracker=XV(t))}function DR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function b_(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Co(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jR(t,e){e=e.checked,e!=null&&jb(t,"checked",e,!1)}function E_(t,e){jR(t,e);var n=Co(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?S_(t,e.type,n):e.hasOwnProperty("defaultValue")&&S_(t,e.type,Co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function eT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function S_(t,e,n){(e!=="number"||Kd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zu=Array.isArray;function Ca(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Co(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function x_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Zu(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Co(n)}}function $R(t,e){var n=Co(e.value),r=Co(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function T_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zh,FR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zh=zh||document.createElement("div"),zh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JV=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(t){JV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lc[e]=lc[t]})});function VR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lc.hasOwnProperty(t)&&lc[t]?(""+e).trim():e+"px"}function BR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZV=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A_(t,e){if(e){if(ZV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function P_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C_=null;function Vb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var I_=null,Ia=null,Oa=null;function rT(t){if(t=eh(t)){if(typeof I_!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Ym(e),I_(t.stateNode,t.type,e))}}function UR(t){Ia?Oa?Oa.push(t):Oa=[t]:Ia=t}function zR(){if(Ia){var t=Ia,e=Oa;if(Oa=Ia=null,rT(t),e)for(t=0;t<e.length;t++)rT(e[t])}}function WR(t,e){return t(e)}function qR(){}var Ky=!1;function HR(t,e,n){if(Ky)return t(e,n);Ky=!0;try{return WR(t,e,n)}finally{Ky=!1,(Ia!==null||Oa!==null)&&(qR(),zR())}}function Mc(t,e){var n=t.stateNode;if(n===null)return null;var r=Ym(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var O_=!1;if(xi)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){O_=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{O_=!1}function e3(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var uc=!1,Qd=null,Yd=!1,N_=null,t3={onError:function(t){uc=!0,Qd=t}};function n3(t,e,n,r,i,o,s,a,l){uc=!1,Qd=null,e3.apply(t3,arguments)}function r3(t,e,n,r,i,o,s,a,l){if(n3.apply(this,arguments),uc){if(uc){var u=Qd;uc=!1,Qd=null}else throw Error(J(198));Yd||(Yd=!0,N_=u)}}function zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iT(t){if(zs(t)!==t)throw Error(J(188))}function i3(t){var e=t.alternate;if(!e){if(e=zs(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return iT(i),t;if(o===r)return iT(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function KR(t){return t=i3(t),t!==null?QR(t):null}function QR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QR(t);if(e!==null)return e;t=t.sibling}return null}var YR=Qn.unstable_scheduleCallback,oT=Qn.unstable_cancelCallback,o3=Qn.unstable_shouldYield,s3=Qn.unstable_requestPaint,wt=Qn.unstable_now,a3=Qn.unstable_getCurrentPriorityLevel,Bb=Qn.unstable_ImmediatePriority,XR=Qn.unstable_UserBlockingPriority,Xd=Qn.unstable_NormalPriority,l3=Qn.unstable_LowPriority,JR=Qn.unstable_IdlePriority,Hm=null,Xr=null;function u3(t){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Hm,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:h3,c3=Math.log,f3=Math.LN2;function h3(t){return t>>>=0,t===0?32:31-(c3(t)/f3|0)|0}var Wh=64,qh=4194304;function ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ec(a):(o&=s,o!==0&&(r=ec(o)))}else s=n&~i,s!==0?r=ec(s):o!==0&&(r=ec(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),i=1<<n,r|=t[n],e&=~i;return r}function d3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Rr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=d3(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function R_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZR(){var t=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),t}function Qy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function m3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ub(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function ek(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tk,zb,nk,rk,ik,k_=!1,Hh=[],uo=null,co=null,fo=null,Dc=new Map,jc=new Map,eo=[],g3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sT(t,e){switch(t){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(e.pointerId)}}function Iu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=eh(e),e!==null&&zb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function y3(t,e,n,r,i){switch(e){case"focusin":return uo=Iu(uo,t,e,n,r,i),!0;case"dragenter":return co=Iu(co,t,e,n,r,i),!0;case"mouseover":return fo=Iu(fo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dc.set(o,Iu(Dc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jc.set(o,Iu(jc.get(o)||null,t,e,n,r,i)),!0}return!1}function ok(t){var e=as(t.target);if(e!==null){var n=zs(e);if(n!==null){if(e=n.tag,e===13){if(e=GR(n),e!==null){t.blockedOn=e,ik(t.priority,function(){nk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=M_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);C_=r,n.target.dispatchEvent(r),C_=null}else return e=eh(n),e!==null&&zb(e),t.blockedOn=n,!1;e.shift()}return!0}function aT(t,e,n){Cd(t)&&n.delete(e)}function v3(){k_=!1,uo!==null&&Cd(uo)&&(uo=null),co!==null&&Cd(co)&&(co=null),fo!==null&&Cd(fo)&&(fo=null),Dc.forEach(aT),jc.forEach(aT)}function Ou(t,e){t.blockedOn===e&&(t.blockedOn=null,k_||(k_=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,v3)))}function $c(t){function e(i){return Ou(i,t)}if(0<Hh.length){Ou(Hh[0],t);for(var n=1;n<Hh.length;n++){var r=Hh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(uo!==null&&Ou(uo,t),co!==null&&Ou(co,t),fo!==null&&Ou(fo,t),Dc.forEach(e),jc.forEach(e),n=0;n<eo.length;n++)r=eo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<eo.length&&(n=eo[0],n.blockedOn===null);)ok(n),n.blockedOn===null&&eo.shift()}var Na=Di.ReactCurrentBatchConfig,Zd=!0;function _3(t,e,n,r){var i=Le,o=Na.transition;Na.transition=null;try{Le=1,Wb(t,e,n,r)}finally{Le=i,Na.transition=o}}function w3(t,e,n,r){var i=Le,o=Na.transition;Na.transition=null;try{Le=4,Wb(t,e,n,r)}finally{Le=i,Na.transition=o}}function Wb(t,e,n,r){if(Zd){var i=M_(t,e,n,r);if(i===null)ov(t,e,r,ep,n),sT(t,r);else if(y3(i,t,e,n,r))r.stopPropagation();else if(sT(t,r),e&4&&-1<g3.indexOf(t)){for(;i!==null;){var o=eh(i);if(o!==null&&tk(o),o=M_(t,e,n,r),o===null&&ov(t,e,r,ep,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ov(t,e,r,null,n)}}var ep=null;function M_(t,e,n,r){if(ep=null,t=Vb(r),t=as(t),t!==null)if(e=zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ep=t,null}function sk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a3()){case Bb:return 1;case XR:return 4;case Xd:case l3:return 16;case JR:return 536870912;default:return 16}default:return 16}}var ro=null,qb=null,Id=null;function ak(){if(Id)return Id;var t,e=qb,n=e.length,r,i="value"in ro?ro.value:ro.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Id=i.slice(t,1<r?1-r:void 0)}function Od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gh(){return!0}function lT(){return!1}function Jn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gh:lT,this.isPropagationStopped=lT,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gh)},persist:function(){},isPersistent:Gh}),e}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hb=Jn(jl),Zf=ht({},jl,{view:0,detail:0}),b3=Jn(Zf),Yy,Xy,Nu,Gm=ht({},Zf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nu&&(Nu&&t.type==="mousemove"?(Yy=t.screenX-Nu.screenX,Xy=t.screenY-Nu.screenY):Xy=Yy=0,Nu=t),Yy)},movementY:function(t){return"movementY"in t?t.movementY:Xy}}),uT=Jn(Gm),E3=ht({},Gm,{dataTransfer:0}),S3=Jn(E3),x3=ht({},Zf,{relatedTarget:0}),Jy=Jn(x3),T3=ht({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),A3=Jn(T3),P3=ht({},jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C3=Jn(P3),I3=ht({},jl,{data:0}),cT=Jn(I3),O3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R3[t])?!!e[t]:!1}function Gb(){return k3}var M3=ht({},Zf,{key:function(t){if(t.key){var e=O3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gb,charCode:function(t){return t.type==="keypress"?Od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D3=Jn(M3),j3=ht({},Gm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fT=Jn(j3),$3=ht({},Zf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gb}),L3=Jn($3),F3=ht({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),V3=Jn(F3),B3=ht({},Gm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U3=Jn(B3),z3=[9,13,27,32],Kb=xi&&"CompositionEvent"in window,cc=null;xi&&"documentMode"in document&&(cc=document.documentMode);var W3=xi&&"TextEvent"in window&&!cc,lk=xi&&(!Kb||cc&&8<cc&&11>=cc),hT=" ",dT=!1;function uk(t,e){switch(t){case"keyup":return z3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ck(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function q3(t,e){switch(t){case"compositionend":return ck(e);case"keypress":return e.which!==32?null:(dT=!0,hT);case"textInput":return t=e.data,t===hT&&dT?null:t;default:return null}}function H3(t,e){if(pa)return t==="compositionend"||!Kb&&uk(t,e)?(t=ak(),Id=qb=ro=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lk&&e.locale!=="ko"?null:e.data;default:return null}}var G3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G3[t.type]:e==="textarea"}function fk(t,e,n,r){UR(r),e=tp(e,"onChange"),0<e.length&&(n=new Hb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fc=null,Lc=null;function K3(t){Ek(t,0)}function Km(t){var e=ya(t);if(DR(e))return t}function Q3(t,e){if(t==="change")return e}var hk=!1;if(xi){var Zy;if(xi){var ev="oninput"in document;if(!ev){var mT=document.createElement("div");mT.setAttribute("oninput","return;"),ev=typeof mT.oninput=="function"}Zy=ev}else Zy=!1;hk=Zy&&(!document.documentMode||9<document.documentMode)}function gT(){fc&&(fc.detachEvent("onpropertychange",dk),Lc=fc=null)}function dk(t){if(t.propertyName==="value"&&Km(Lc)){var e=[];fk(e,Lc,t,Vb(t)),HR(K3,e)}}function Y3(t,e,n){t==="focusin"?(gT(),fc=e,Lc=n,fc.attachEvent("onpropertychange",dk)):t==="focusout"&&gT()}function X3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Km(Lc)}function J3(t,e){if(t==="click")return Km(e)}function Z3(t,e){if(t==="input"||t==="change")return Km(e)}function eB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:eB;function Fc(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g_.call(e,i)||!Dr(t[i],e[i]))return!1}return!0}function yT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vT(t,e){var n=yT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yT(n)}}function pk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mk(){for(var t=window,e=Kd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kd(t.document)}return e}function Qb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tB(t){var e=mk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pk(n.ownerDocument.documentElement,n)){if(r!==null&&Qb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=vT(n,o);var s=vT(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nB=xi&&"documentMode"in document&&11>=document.documentMode,ma=null,D_=null,hc=null,j_=!1;function _T(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;j_||ma==null||ma!==Kd(r)||(r=ma,"selectionStart"in r&&Qb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hc&&Fc(hc,r)||(hc=r,r=tp(D_,"onSelect"),0<r.length&&(e=new Hb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ma)))}function Kh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:Kh("Animation","AnimationEnd"),animationiteration:Kh("Animation","AnimationIteration"),animationstart:Kh("Animation","AnimationStart"),transitionend:Kh("Transition","TransitionEnd")},tv={},gk={};xi&&(gk=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Qm(t){if(tv[t])return tv[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gk)return tv[t]=e[n];return t}var yk=Qm("animationend"),vk=Qm("animationiteration"),_k=Qm("animationstart"),wk=Qm("transitionend"),bk=new Map,wT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(t,e){bk.set(t,e),Us(e,[t])}for(var nv=0;nv<wT.length;nv++){var rv=wT[nv],rB=rv.toLowerCase(),iB=rv[0].toUpperCase()+rv.slice(1);Fo(rB,"on"+iB)}Fo(yk,"onAnimationEnd");Fo(vk,"onAnimationIteration");Fo(_k,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(wk,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oB=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function bT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,r3(r,e,void 0,t),t.currentTarget=null}function Ek(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;bT(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;bT(i,a,u),o=l}}}if(Yd)throw t=N_,Yd=!1,N_=null,t}function Xe(t,e){var n=e[B_];n===void 0&&(n=e[B_]=new Set);var r=t+"__bubble";n.has(r)||(Sk(e,t,2,!1),n.add(r))}function iv(t,e,n){var r=0;e&&(r|=4),Sk(n,t,r,e)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function Vc(t){if(!t[Qh]){t[Qh]=!0,OR.forEach(function(n){n!=="selectionchange"&&(oB.has(n)||iv(n,!1,t),iv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qh]||(e[Qh]=!0,iv("selectionchange",!1,e))}}function Sk(t,e,n,r){switch(sk(e)){case 1:var i=_3;break;case 4:i=w3;break;default:i=Wb}n=i.bind(null,e,n,t),i=void 0,!O_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ov(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=as(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}HR(function(){var u=o,c=Vb(n),f=[];e:{var d=bk.get(t);if(d!==void 0){var p=Hb,m=t;switch(t){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":p=D3;break;case"focusin":m="focus",p=Jy;break;case"focusout":m="blur",p=Jy;break;case"beforeblur":case"afterblur":p=Jy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=S3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=L3;break;case yk:case vk:case _k:p=A3;break;case wk:p=V3;break;case"scroll":p=b3;break;case"wheel":p=U3;break;case"copy":case"cut":case"paste":p=C3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fT}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,b;v!==null;){b=v;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,w!==null&&(C=Mc(v,w),C!=null&&g.push(Bc(v,C,b)))),y)break;v=v.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==C_&&(m=n.relatedTarget||n.fromElement)&&(as(m)||m[Ti]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?as(m):null,m!==null&&(y=zs(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=uT,C="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=fT,C="onPointerLeave",w="onPointerEnter",v="pointer"),y=p==null?d:ya(p),b=m==null?d:ya(m),d=new g(C,v+"leave",p,n,c),d.target=y,d.relatedTarget=b,C=null,as(c)===u&&(g=new g(w,v+"enter",m,n,c),g.target=b,g.relatedTarget=y,C=g),y=C,p&&m)t:{for(g=p,w=m,v=0,b=g;b;b=ea(b))v++;for(b=0,C=w;C;C=ea(C))b++;for(;0<v-b;)g=ea(g),v--;for(;0<b-v;)w=ea(w),b--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=ea(g),w=ea(w)}g=null}else g=null;p!==null&&ET(f,d,p,g,!1),m!==null&&y!==null&&ET(f,y,m,g,!0)}}e:{if(d=u?ya(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=Q3;else if(pT(d))if(hk)S=Z3;else{S=X3;var A=Y3}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=J3);if(S&&(S=S(t,u))){fk(f,S,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&S_(d,"number",d.value)}switch(A=u?ya(u):window,t){case"focusin":(pT(A)||A.contentEditable==="true")&&(ma=A,D_=u,hc=null);break;case"focusout":hc=D_=ma=null;break;case"mousedown":j_=!0;break;case"contextmenu":case"mouseup":case"dragend":j_=!1,_T(f,n,c);break;case"selectionchange":if(nB)break;case"keydown":case"keyup":_T(f,n,c)}var E;if(Kb)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else pa?uk(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(lk&&n.locale!=="ko"&&(pa||x!=="onCompositionStart"?x==="onCompositionEnd"&&pa&&(E=ak()):(ro=c,qb="value"in ro?ro.value:ro.textContent,pa=!0)),A=tp(u,x),0<A.length&&(x=new cT(x,t,null,n,c),f.push({event:x,listeners:A}),E?x.data=E:(E=ck(n),E!==null&&(x.data=E)))),(E=W3?q3(t,n):H3(t,n))&&(u=tp(u,"onBeforeInput"),0<u.length&&(c=new cT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}Ek(f,e)})}function Bc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mc(t,n),o!=null&&r.unshift(Bc(t,o,i)),o=Mc(t,e),o!=null&&r.push(Bc(t,o,i))),t=t.return}return r}function ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ET(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Mc(n,o),l!=null&&s.unshift(Bc(n,l,a))):i||(l=Mc(n,o),l!=null&&s.push(Bc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var sB=/\r\n?/g,aB=/\u0000|\uFFFD/g;function ST(t){return(typeof t=="string"?t:""+t).replace(sB,`
`).replace(aB,"")}function Yh(t,e,n){if(e=ST(e),ST(t)!==e&&n)throw Error(J(425))}function np(){}var $_=null,L_=null;function F_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var V_=typeof setTimeout=="function"?setTimeout:void 0,lB=typeof clearTimeout=="function"?clearTimeout:void 0,xT=typeof Promise=="function"?Promise:void 0,uB=typeof queueMicrotask=="function"?queueMicrotask:typeof xT<"u"?function(t){return xT.resolve(null).then(t).catch(cB)}:V_;function cB(t){setTimeout(function(){throw t})}function sv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$c(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$c(e)}function ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function TT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $l=Math.random().toString(36).slice(2),Kr="__reactFiber$"+$l,Uc="__reactProps$"+$l,Ti="__reactContainer$"+$l,B_="__reactEvents$"+$l,fB="__reactListeners$"+$l,hB="__reactHandles$"+$l;function as(t){var e=t[Kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ti]||n[Kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=TT(t);t!==null;){if(n=t[Kr])return n;t=TT(t)}return e}t=n,n=t.parentNode}return null}function eh(t){return t=t[Kr]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Ym(t){return t[Uc]||null}var U_=[],va=-1;function Vo(t){return{current:t}}function tt(t){0>va||(t.current=U_[va],U_[va]=null,va--)}function Ke(t,e){va++,U_[va]=t.current,t.current=e}var Io={},_n=Vo(Io),kn=Vo(!1),Ps=Io;function Ga(t,e){var n=t.type.contextTypes;if(!n)return Io;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mn(t){return t=t.childContextTypes,t!=null}function rp(){tt(kn),tt(_n)}function AT(t,e,n){if(_n.current!==Io)throw Error(J(168));Ke(_n,e),Ke(kn,n)}function xk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,YV(t)||"Unknown",i));return ht({},n,r)}function ip(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Io,Ps=_n.current,Ke(_n,t),Ke(kn,kn.current),!0}function PT(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=xk(t,e,Ps),r.__reactInternalMemoizedMergedChildContext=t,tt(kn),tt(_n),Ke(_n,t)):tt(kn),Ke(kn,n)}var hi=null,Xm=!1,av=!1;function Tk(t){hi===null?hi=[t]:hi.push(t)}function dB(t){Xm=!0,Tk(t)}function Bo(){if(!av&&hi!==null){av=!0;var t=0,e=Le;try{var n=hi;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hi=null,Xm=!1}catch(i){throw hi!==null&&(hi=hi.slice(t+1)),YR(Bb,Bo),i}finally{Le=e,av=!1}}return null}var _a=[],wa=0,op=null,sp=0,ir=[],or=0,Cs=null,di=1,pi="";function es(t,e){_a[wa++]=sp,_a[wa++]=op,op=t,sp=e}function Ak(t,e,n){ir[or++]=di,ir[or++]=pi,ir[or++]=Cs,Cs=t;var r=di;t=pi;var i=32-Rr(r)-1;r&=~(1<<i),n+=1;var o=32-Rr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,di=1<<32-Rr(e)+i|n<<i|r,pi=o+t}else di=1<<o|n<<i|r,pi=t}function Yb(t){t.return!==null&&(es(t,1),Ak(t,1,0))}function Xb(t){for(;t===op;)op=_a[--wa],_a[wa]=null,sp=_a[--wa],_a[wa]=null;for(;t===Cs;)Cs=ir[--or],ir[or]=null,pi=ir[--or],ir[or]=null,di=ir[--or],ir[or]=null}var Kn=null,Gn=null,nt=!1,Tr=null;function Pk(t,e){var n=lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function CT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Gn=ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cs!==null?{id:di,overflow:pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Gn=null,!0):!1;default:return!1}}function z_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function W_(t){if(nt){var e=Gn;if(e){var n=e;if(!CT(t,e)){if(z_(t))throw Error(J(418));e=ho(n.nextSibling);var r=Kn;e&&CT(t,e)?Pk(r,n):(t.flags=t.flags&-4097|2,nt=!1,Kn=t)}}else{if(z_(t))throw Error(J(418));t.flags=t.flags&-4097|2,nt=!1,Kn=t}}}function IT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function Xh(t){if(t!==Kn)return!1;if(!nt)return IT(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!F_(t.type,t.memoizedProps)),e&&(e=Gn)){if(z_(t))throw Ck(),Error(J(418));for(;e;)Pk(t,e),e=ho(e.nextSibling)}if(IT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gn=ho(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gn=null}}else Gn=Kn?ho(t.stateNode.nextSibling):null;return!0}function Ck(){for(var t=Gn;t;)t=ho(t.nextSibling)}function Ka(){Gn=Kn=null,nt=!1}function Jb(t){Tr===null?Tr=[t]:Tr.push(t)}var pB=Di.ReactCurrentBatchConfig;function Ru(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Jh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function OT(t){var e=t._init;return e(t._payload)}function Ik(t){function e(w,v){if(t){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=yo(w,v),w.index=0,w.sibling=null,w}function o(w,v,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,b,C){return v===null||v.tag!==6?(v=pv(b,w.mode,C),v.return=w,v):(v=i(v,b),v.return=w,v)}function l(w,v,b,C){var S=b.type;return S===da?c(w,v,b.props.children,C,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xi&&OT(S)===v.type)?(C=i(v,b.props),C.ref=Ru(w,v,b),C.return=w,C):(C=$d(b.type,b.key,b.props,null,w.mode,C),C.ref=Ru(w,v,b),C.return=w,C)}function u(w,v,b,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=mv(b,w.mode,C),v.return=w,v):(v=i(v,b.children||[]),v.return=w,v)}function c(w,v,b,C,S){return v===null||v.tag!==7?(v=_s(b,w.mode,C,S),v.return=w,v):(v=i(v,b),v.return=w,v)}function f(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pv(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bh:return b=$d(v.type,v.key,v.props,null,w.mode,b),b.ref=Ru(w,null,v),b.return=w,b;case ha:return v=mv(v,w.mode,b),v.return=w,v;case Xi:var C=v._init;return f(w,C(v._payload),b)}if(Zu(v)||Pu(v))return v=_s(v,w.mode,b,null),v.return=w,v;Jh(w,v)}return null}function d(w,v,b,C){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(w,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bh:return b.key===S?l(w,v,b,C):null;case ha:return b.key===S?u(w,v,b,C):null;case Xi:return S=b._init,d(w,v,S(b._payload),C)}if(Zu(b)||Pu(b))return S!==null?null:c(w,v,b,C,null);Jh(w,b)}return null}function p(w,v,b,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(b)||null,a(v,w,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Bh:return w=w.get(C.key===null?b:C.key)||null,l(v,w,C,S);case ha:return w=w.get(C.key===null?b:C.key)||null,u(v,w,C,S);case Xi:var A=C._init;return p(w,v,b,A(C._payload),S)}if(Zu(C)||Pu(C))return w=w.get(b)||null,c(v,w,C,S,null);Jh(v,C)}return null}function m(w,v,b,C){for(var S=null,A=null,E=v,x=v=0,P=null;E!==null&&x<b.length;x++){E.index>x?(P=E,E=null):P=E.sibling;var O=d(w,E,b[x],C);if(O===null){E===null&&(E=P);break}t&&E&&O.alternate===null&&e(w,E),v=o(O,v,x),A===null?S=O:A.sibling=O,A=O,E=P}if(x===b.length)return n(w,E),nt&&es(w,x),S;if(E===null){for(;x<b.length;x++)E=f(w,b[x],C),E!==null&&(v=o(E,v,x),A===null?S=E:A.sibling=E,A=E);return nt&&es(w,x),S}for(E=r(w,E);x<b.length;x++)P=p(E,w,x,b[x],C),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?x:P.key),v=o(P,v,x),A===null?S=P:A.sibling=P,A=P);return t&&E.forEach(function(I){return e(w,I)}),nt&&es(w,x),S}function g(w,v,b,C){var S=Pu(b);if(typeof S!="function")throw Error(J(150));if(b=S.call(b),b==null)throw Error(J(151));for(var A=S=null,E=v,x=v=0,P=null,O=b.next();E!==null&&!O.done;x++,O=b.next()){E.index>x?(P=E,E=null):P=E.sibling;var I=d(w,E,O.value,C);if(I===null){E===null&&(E=P);break}t&&E&&I.alternate===null&&e(w,E),v=o(I,v,x),A===null?S=I:A.sibling=I,A=I,E=P}if(O.done)return n(w,E),nt&&es(w,x),S;if(E===null){for(;!O.done;x++,O=b.next())O=f(w,O.value,C),O!==null&&(v=o(O,v,x),A===null?S=O:A.sibling=O,A=O);return nt&&es(w,x),S}for(E=r(w,E);!O.done;x++,O=b.next())O=p(E,w,x,O.value,C),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?x:O.key),v=o(O,v,x),A===null?S=O:A.sibling=O,A=O);return t&&E.forEach(function(k){return e(w,k)}),nt&&es(w,x),S}function y(w,v,b,C){if(typeof b=="object"&&b!==null&&b.type===da&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Bh:e:{for(var S=b.key,A=v;A!==null;){if(A.key===S){if(S=b.type,S===da){if(A.tag===7){n(w,A.sibling),v=i(A,b.props.children),v.return=w,w=v;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xi&&OT(S)===A.type){n(w,A.sibling),v=i(A,b.props),v.ref=Ru(w,A,b),v.return=w,w=v;break e}n(w,A);break}else e(w,A);A=A.sibling}b.type===da?(v=_s(b.props.children,w.mode,C,b.key),v.return=w,w=v):(C=$d(b.type,b.key,b.props,null,w.mode,C),C.ref=Ru(w,v,b),C.return=w,w=C)}return s(w);case ha:e:{for(A=b.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=i(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=mv(b,w.mode,C),v.return=w,w=v}return s(w);case Xi:return A=b._init,y(w,v,A(b._payload),C)}if(Zu(b))return m(w,v,b,C);if(Pu(b))return g(w,v,b,C);Jh(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,b),v.return=w,w=v):(n(w,v),v=pv(b,w.mode,C),v.return=w,w=v),s(w)):n(w,v)}return y}var Qa=Ik(!0),Ok=Ik(!1),ap=Vo(null),lp=null,ba=null,Zb=null;function eE(){Zb=ba=lp=null}function tE(t){var e=ap.current;tt(ap),t._currentValue=e}function q_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ra(t,e){lp=t,Zb=ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function dr(t){var e=t._currentValue;if(Zb!==t)if(t={context:t,memoizedValue:e,next:null},ba===null){if(lp===null)throw Error(J(308));ba=t,lp.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return e}var ls=null;function nE(t){ls===null?ls=[t]:ls.push(t)}function Nk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ai(t,r)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ji=!1;function rE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function po(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ai(t,n)}return i=r.interleaved,i===null?(e.next=e,nE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ai(t,n)}function Nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ub(t,n)}}function NT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function up(t,e,n,r){var i=t.updateQueue;Ji=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=ht({},f,d);break e;case 2:Ji=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Os|=s,t.lanes=s,t.memoizedState=f}}function RT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var th={},Jr=Vo(th),zc=Vo(th),Wc=Vo(th);function us(t){if(t===th)throw Error(J(174));return t}function iE(t,e){switch(Ke(Wc,e),Ke(zc,t),Ke(Jr,th),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:T_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=T_(e,t)}tt(Jr),Ke(Jr,e)}function Ya(){tt(Jr),tt(zc),tt(Wc)}function kk(t){us(Wc.current);var e=us(Jr.current),n=T_(e,t.type);e!==n&&(Ke(zc,t),Ke(Jr,n))}function oE(t){zc.current===t&&(tt(Jr),tt(zc))}var lt=Vo(0);function cp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lv=[];function sE(){for(var t=0;t<lv.length;t++)lv[t]._workInProgressVersionPrimary=null;lv.length=0}var Rd=Di.ReactCurrentDispatcher,uv=Di.ReactCurrentBatchConfig,Is=0,ut=null,kt=null,Ht=null,fp=!1,dc=!1,qc=0,mB=0;function sn(){throw Error(J(321))}function aE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function lE(t,e,n,r,i,o){if(Is=o,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rd.current=t===null||t.memoizedState===null?_B:wB,t=n(r,i),dc){o=0;do{if(dc=!1,qc=0,25<=o)throw Error(J(301));o+=1,Ht=kt=null,e.updateQueue=null,Rd.current=bB,t=n(r,i)}while(dc)}if(Rd.current=hp,e=kt!==null&&kt.next!==null,Is=0,Ht=kt=ut=null,fp=!1,e)throw Error(J(300));return t}function uE(){var t=qc!==0;return qc=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ut.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function pr(){if(kt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Ht===null?ut.memoizedState:Ht.next;if(e!==null)Ht=e,kt=t;else{if(t===null)throw Error(J(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ht===null?ut.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Hc(t,e){return typeof e=="function"?e(t):e}function cv(t){var e=pr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=kt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ut.lanes|=c,Os|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Dr(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ut.lanes|=o,Os|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fv(t){var e=pr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Dr(o,e.memoizedState)||(On=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Mk(){}function Dk(t,e){var n=ut,r=pr(),i=e(),o=!Dr(r.memoizedState,i);if(o&&(r.memoizedState=i,On=!0),r=r.queue,cE(Lk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,Gc(9,$k.bind(null,n,r,i,e),void 0,null),Qt===null)throw Error(J(349));Is&30||jk(n,e,i)}return i}function jk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $k(t,e,n,r){e.value=n,e.getSnapshot=r,Fk(e)&&Vk(t)}function Lk(t,e,n){return n(function(){Fk(e)&&Vk(t)})}function Fk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function Vk(t){var e=Ai(t,1);e!==null&&kr(e,t,1,-1)}function kT(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:t},e.queue=t,t=t.dispatch=vB.bind(null,ut,t),[e.memoizedState,t]}function Gc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bk(){return pr().memoizedState}function kd(t,e,n,r){var i=qr();ut.flags|=t,i.memoizedState=Gc(1|e,n,void 0,r===void 0?null:r)}function Jm(t,e,n,r){var i=pr();r=r===void 0?null:r;var o=void 0;if(kt!==null){var s=kt.memoizedState;if(o=s.destroy,r!==null&&aE(r,s.deps)){i.memoizedState=Gc(e,n,o,r);return}}ut.flags|=t,i.memoizedState=Gc(1|e,n,o,r)}function MT(t,e){return kd(8390656,8,t,e)}function cE(t,e){return Jm(2048,8,t,e)}function Uk(t,e){return Jm(4,2,t,e)}function zk(t,e){return Jm(4,4,t,e)}function Wk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qk(t,e,n){return n=n!=null?n.concat([t]):null,Jm(4,4,Wk.bind(null,e,t),n)}function fE(){}function Hk(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gk(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Kk(t,e,n){return Is&21?(Dr(n,e)||(n=ZR(),ut.lanes|=n,Os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function gB(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=uv.transition;uv.transition={};try{t(!1),e()}finally{Le=n,uv.transition=r}}function Qk(){return pr().memoizedState}function yB(t,e,n){var r=go(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yk(t))Xk(e,n);else if(n=Nk(t,e,n,r),n!==null){var i=xn();kr(n,t,r,i),Jk(n,e,r)}}function vB(t,e,n){var r=go(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yk(t))Xk(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Dr(a,s)){var l=e.interleaved;l===null?(i.next=i,nE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Nk(t,e,i,r),n!==null&&(i=xn(),kr(n,t,r,i),Jk(n,e,r))}}function Yk(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function Xk(t,e){dc=fp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ub(t,n)}}var hp={readContext:dr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},_B={readContext:dr,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:dr,useEffect:MT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kd(4194308,4,Wk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kd(4194308,4,t,e)},useInsertionEffect:function(t,e){return kd(4,2,t,e)},useMemo:function(t,e){var n=qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yB.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:kT,useDebugValue:fE,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=kT(!1),e=t[0];return t=gB.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=qr();if(nt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Qt===null)throw Error(J(349));Is&30||jk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,MT(Lk.bind(null,r,o,t),[t]),r.flags|=2048,Gc(9,$k.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=qr(),e=Qt.identifierPrefix;if(nt){var n=pi,r=di;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wB={readContext:dr,useCallback:Hk,useContext:dr,useEffect:cE,useImperativeHandle:qk,useInsertionEffect:Uk,useLayoutEffect:zk,useMemo:Gk,useReducer:cv,useRef:Bk,useState:function(){return cv(Hc)},useDebugValue:fE,useDeferredValue:function(t){var e=pr();return Kk(e,kt.memoizedState,t)},useTransition:function(){var t=cv(Hc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:Mk,useSyncExternalStore:Dk,useId:Qk,unstable_isNewReconciler:!1},bB={readContext:dr,useCallback:Hk,useContext:dr,useEffect:cE,useImperativeHandle:qk,useInsertionEffect:Uk,useLayoutEffect:zk,useMemo:Gk,useReducer:fv,useRef:Bk,useState:function(){return fv(Hc)},useDebugValue:fE,useDeferredValue:function(t){var e=pr();return kt===null?e.memoizedState=t:Kk(e,kt.memoizedState,t)},useTransition:function(){var t=fv(Hc)[0],e=pr().memoizedState;return[t,e]},useMutableSource:Mk,useSyncExternalStore:Dk,useId:Qk,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function H_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zm={isMounted:function(t){return(t=t._reactInternals)?zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xn(),i=go(t),o=_i(r,i);o.payload=e,n!=null&&(o.callback=n),e=po(t,o,i),e!==null&&(kr(e,t,i,r),Nd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xn(),i=go(t),o=_i(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=po(t,o,i),e!==null&&(kr(e,t,i,r),Nd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),r=go(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=po(t,i,r),e!==null&&(kr(e,t,r,n),Nd(e,t,r))}};function DT(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Fc(n,r)||!Fc(i,o):!0}function Zk(t,e,n){var r=!1,i=Io,o=e.contextType;return typeof o=="object"&&o!==null?o=dr(o):(i=Mn(e)?Ps:_n.current,r=e.contextTypes,o=(r=r!=null)?Ga(t,i):Io),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function jT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zm.enqueueReplaceState(e,e.state,null)}function G_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},rE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=dr(o):(o=Mn(e)?Ps:_n.current,i.context=Ga(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(H_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zm.enqueueReplaceState(i,i.state,null),up(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xa(t,e){try{var n="",r=e;do n+=QV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function hv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function K_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EB=typeof WeakMap=="function"?WeakMap:Map;function e2(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pp||(pp=!0,i0=r),K_(t,e)},n}function t2(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){K_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){K_(t,e),typeof r!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function $T(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jB.bind(null,t,e,n),e.then(t,t))}function LT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,po(n,e,1))),n.lanes|=1),t)}var SB=Di.ReactCurrentOwner,On=!1;function bn(t,e,n,r){e.child=t===null?Ok(e,null,n,r):Qa(e,t.child,n,r)}function VT(t,e,n,r,i){n=n.render;var o=e.ref;return Ra(e,i),r=lE(t,e,n,r,o,i),n=uE(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(nt&&n&&Yb(e),e.flags|=1,bn(t,e,r,i),e.child)}function BT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!_E(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,n2(t,e,o,r,i)):(t=$d(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fc,n(s,r)&&t.ref===e.ref)return Pi(t,e,i)}return e.flags|=1,t=yo(o,r),t.ref=e.ref,t.return=e,e.child=t}function n2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Fc(o,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,Pi(t,e,i)}return Q_(t,e,n,r,i)}function r2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Sa,Wn),Wn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(Sa,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke(Sa,Wn),Wn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ke(Sa,Wn),Wn|=r;return bn(t,e,i,n),e.child}function i2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Q_(t,e,n,r,i){var o=Mn(n)?Ps:_n.current;return o=Ga(e,o),Ra(e,i),n=lE(t,e,n,r,o,i),r=uE(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(nt&&r&&Yb(e),e.flags|=1,bn(t,e,n,i),e.child)}function UT(t,e,n,r,i){if(Mn(n)){var o=!0;ip(e)}else o=!1;if(Ra(e,i),e.stateNode===null)Md(t,e),Zk(e,n,r),G_(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=dr(u):(u=Mn(n)?Ps:_n.current,u=Ga(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&jT(e,s,r,u),Ji=!1;var d=e.memoizedState;s.state=d,up(e,r,s,i),l=e.memoizedState,a!==r||d!==l||kn.current||Ji?(typeof c=="function"&&(H_(e,n,c,r),l=e.memoizedState),(a=Ji||DT(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Rk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:br(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=dr(l):(l=Mn(n)?Ps:_n.current,l=Ga(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&jT(e,s,r,l),Ji=!1,d=e.memoizedState,s.state=d,up(e,r,s,i);var m=e.memoizedState;a!==f||d!==m||kn.current||Ji?(typeof p=="function"&&(H_(e,n,p,r),m=e.memoizedState),(u=Ji||DT(e,n,u,r,d,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Y_(t,e,n,r,o,i)}function Y_(t,e,n,r,i,o){i2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&PT(e,n,!1),Pi(t,e,o);r=e.stateNode,SB.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Qa(e,t.child,null,o),e.child=Qa(e,null,a,o)):bn(t,e,a,o),e.memoizedState=r.state,i&&PT(e,n,!0),e.child}function o2(t){var e=t.stateNode;e.pendingContext?AT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&AT(t,e.context,!1),iE(t,e.containerInfo)}function zT(t,e,n,r,i){return Ka(),Jb(i),e.flags|=256,bn(t,e,n,r),e.child}var X_={dehydrated:null,treeContext:null,retryLane:0};function J_(t){return{baseLanes:t,cachePool:null,transitions:null}}function s2(t,e,n){var r=e.pendingProps,i=lt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(lt,i&1),t===null)return W_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ng(s,r,0,null),t=_s(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=J_(n),e.memoizedState=X_,t):hE(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xB(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=yo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=yo(a,o):(o=_s(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?J_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=X_,r}return o=t.child,t=o.sibling,r=yo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hE(t,e){return e=ng({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zh(t,e,n,r){return r!==null&&Jb(r),Qa(e,t.child,null,n),t=hE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xB(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=hv(Error(J(422))),Zh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ng({mode:"visible",children:r.children},i,0,null),o=_s(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Qa(e,t.child,null,s),e.child.memoizedState=J_(s),e.memoizedState=X_,o);if(!(e.mode&1))return Zh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(J(419)),r=hv(o,r,void 0),Zh(t,e,s,r)}if(a=(s&t.childLanes)!==0,On||a){if(r=Qt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ai(t,i),kr(r,t,i,-1))}return vE(),r=hv(Error(J(421))),Zh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$B.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gn=ho(i.nextSibling),Kn=e,nt=!0,Tr=null,t!==null&&(ir[or++]=di,ir[or++]=pi,ir[or++]=Cs,di=t.id,pi=t.overflow,Cs=e),e=hE(e,r.children),e.flags|=4096,e)}function WT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),q_(t.return,e,n)}function dv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function a2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(bn(t,e,r.children,n),r=lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WT(t,n,e);else if(t.tag===19)WT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(lt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dv(e,!0,n,null,o);break;case"together":dv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=yo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TB(t,e,n){switch(e.tag){case 3:o2(e),Ka();break;case 5:kk(e);break;case 1:Mn(e.type)&&ip(e);break;case 4:iE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(ap,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(lt,lt.current&1),e.flags|=128,null):n&e.child.childLanes?s2(t,e,n):(Ke(lt,lt.current&1),t=Pi(t,e,n),t!==null?t.sibling:null);Ke(lt,lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return a2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(lt,lt.current),r)break;return null;case 22:case 23:return e.lanes=0,r2(t,e,n)}return Pi(t,e,n)}var l2,Z_,u2,c2;l2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Z_=function(){};u2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,us(Jr.current);var o=null;switch(n){case"input":i=b_(t,i),r=b_(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=x_(t,i),r=x_(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=np)}A_(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};c2=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AB(t,e,n){var r=e.pendingProps;switch(Xb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return Mn(e.type)&&rp(),an(e),null;case 3:return r=e.stateNode,Ya(),tt(kn),tt(_n),sE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tr!==null&&(a0(Tr),Tr=null))),Z_(t,e),an(e),null;case 5:oE(e);var i=us(Wc.current);if(n=e.type,t!==null&&e.stateNode!=null)u2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return an(e),null}if(t=us(Jr.current),Xh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Kr]=e,r[Uc]=o,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<tc.length;i++)Xe(tc[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Zx(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":tT(r,o),Xe("invalid",r)}A_(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Yh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Yh(r.textContent,a,t),i=["children",""+a]):Rc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Uh(r),eT(r,o,!0);break;case"textarea":Uh(r),nT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=np)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Kr]=e,t[Uc]=r,l2(t,e,!1,!1),e.stateNode=t;e:{switch(s=P_(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<tc.length;i++)Xe(tc[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":Zx(t,r),i=b_(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":tT(t,r),i=x_(t,r),Xe("invalid",t);break;default:i=r}A_(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?BR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Xe("scroll",t):l!=null&&jb(t,o,l,s))}switch(n){case"input":Uh(t),eT(t,r,!1);break;case"textarea":Uh(t),nT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Co(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ca(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=np)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)c2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=us(Wc.current),us(Jr.current),Xh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kr]=e,(o=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:Yh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kr]=e,e.stateNode=r}return an(e),null;case 13:if(tt(lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Gn!==null&&e.mode&1&&!(e.flags&128))Ck(),Ka(),e.flags|=98560,o=!1;else if(o=Xh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Kr]=e}else Ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),o=!1}else Tr!==null&&(a0(Tr),Tr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||lt.current&1?jt===0&&(jt=3):vE())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return Ya(),Z_(t,e),t===null&&Vc(e.stateNode.containerInfo),an(e),null;case 10:return tE(e.type._context),an(e),null;case 17:return Mn(e.type)&&rp(),an(e),null;case 19:if(tt(lt),o=e.memoizedState,o===null)return an(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ku(o,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=cp(t),s!==null){for(e.flags|=128,ku(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(lt,lt.current&1|2),e.child}t=t.sibling}o.tail!==null&&wt()>Ja&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304)}else{if(!r)if(t=cp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!nt)return an(e),null}else 2*wt()-o.renderingStartTime>Ja&&n!==1073741824&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=wt(),e.sibling=null,n=lt.current,Ke(lt,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return yE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function PB(t,e){switch(Xb(e),e.tag){case 1:return Mn(e.type)&&rp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ya(),tt(kn),tt(_n),sE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oE(e),null;case 13:if(tt(lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(lt),null;case 4:return Ya(),null;case 10:return tE(e.type._context),null;case 22:case 23:return yE(),null;case 24:return null;default:return null}}var ed=!1,fn=!1,CB=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function e0(t,e,n){try{n()}catch(r){pt(t,e,r)}}var qT=!1;function IB(t,e){if($_=Zd,t=mk(),Qb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(L_={focusedElem:t,selectionRange:n},Zd=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:br(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(C){pt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return m=qT,qT=!1,m}function pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&e0(e,n,o)}i=i.next}while(i!==r)}}function eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function t0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function f2(t){var e=t.alternate;e!==null&&(t.alternate=null,f2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kr],delete e[Uc],delete e[B_],delete e[fB],delete e[hB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h2(t){return t.tag===5||t.tag===3||t.tag===4}function HT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function n0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=np));else if(r!==4&&(t=t.child,t!==null))for(n0(t,e,n),t=t.sibling;t!==null;)n0(t,e,n),t=t.sibling}function r0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(r0(t,e,n),t=t.sibling;t!==null;)r0(t,e,n),t=t.sibling}var Zt=null,Er=!1;function Yi(t,e,n){for(n=n.child;n!==null;)d2(t,e,n),n=n.sibling}function d2(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Hm,n)}catch{}switch(n.tag){case 5:fn||Ea(n,e);case 6:var r=Zt,i=Er;Zt=null,Yi(t,e,n),Zt=r,Er=i,Zt!==null&&(Er?(t=Zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zt.removeChild(n.stateNode));break;case 18:Zt!==null&&(Er?(t=Zt,n=n.stateNode,t.nodeType===8?sv(t.parentNode,n):t.nodeType===1&&sv(t,n),$c(t)):sv(Zt,n.stateNode));break;case 4:r=Zt,i=Er,Zt=n.stateNode.containerInfo,Er=!0,Yi(t,e,n),Zt=r,Er=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&e0(n,e,s),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!fn&&(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,Yi(t,e,n),fn=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function GT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CB),e.forEach(function(r){var i=LB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Zt=a.stateNode,Er=!1;break e;case 3:Zt=a.stateNode.containerInfo,Er=!0;break e;case 4:Zt=a.stateNode.containerInfo,Er=!0;break e}a=a.return}if(Zt===null)throw Error(J(160));d2(o,s,i),Zt=null,Er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p2(e,t),e=e.sibling}function p2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_r(e,t),Ur(t),r&4){try{pc(3,t,t.return),eg(3,t)}catch(g){pt(t,t.return,g)}try{pc(5,t,t.return)}catch(g){pt(t,t.return,g)}}break;case 1:_r(e,t),Ur(t),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(_r(e,t),Ur(t),r&512&&n!==null&&Ea(n,n.return),t.flags&32){var i=t.stateNode;try{kc(i,"")}catch(g){pt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&jR(i,o),P_(a,s);var u=P_(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?BR(i,f):c==="dangerouslySetInnerHTML"?FR(i,f):c==="children"?kc(i,f):jb(i,c,f,u)}switch(a){case"input":E_(i,o);break;case"textarea":$R(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ca(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ca(i,!!o.multiple,o.defaultValue,!0):Ca(i,!!o.multiple,o.multiple?[]:"",!1))}i[Uc]=o}catch(g){pt(t,t.return,g)}}break;case 6:if(_r(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){pt(t,t.return,g)}}break;case 3:if(_r(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$c(e.containerInfo)}catch(g){pt(t,t.return,g)}break;case 4:_r(e,t),Ur(t);break;case 13:_r(e,t),Ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(mE=wt())),r&4&&GT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(u=fn)||c,_r(e,t),fn=u):_r(e,t),Ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(d=se,p=d.child,d.tag){case 0:case 11:case 14:case 15:pc(4,d,d.return);break;case 1:Ea(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){pt(r,n,g)}}break;case 5:Ea(d,d.return);break;case 22:if(d.memoizedState!==null){QT(f);continue}}p!==null?(p.return=d,se=p):QT(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=VR("display",s))}catch(g){pt(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){pt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_r(e,t),Ur(t),r&4&&GT(t);break;case 21:break;default:_r(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(h2(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kc(i,""),r.flags&=-33);var o=HT(t);r0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=HT(t);n0(t,a,s);break;default:throw Error(J(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OB(t,e,n){se=t,m2(t)}function m2(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ed;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||fn;a=ed;var u=fn;if(ed=s,(fn=l)&&!u)for(se=i;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?YT(i):l!==null?(l.return=s,se=l):YT(i);for(;o!==null;)se=o,m2(o),o=o.sibling;se=i,ed=a,fn=u}KT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):KT(t)}}function KT(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||eg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&RT(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}RT(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&$c(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}fn||e.flags&512&&t0(e)}catch(d){pt(e,e.return,d)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function QT(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function YT(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{eg(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var o=e.return;try{t0(e)}catch(l){pt(e,o,l)}break;case 5:var s=e.return;try{t0(e)}catch(l){pt(e,s,l)}}}catch(l){pt(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var NB=Math.ceil,dp=Di.ReactCurrentDispatcher,dE=Di.ReactCurrentOwner,cr=Di.ReactCurrentBatchConfig,Re=0,Qt=null,At=null,tn=0,Wn=0,Sa=Vo(0),jt=0,Kc=null,Os=0,tg=0,pE=0,mc=null,In=null,mE=0,Ja=1/0,fi=null,pp=!1,i0=null,mo=null,td=!1,io=null,mp=0,gc=0,o0=null,Dd=-1,jd=0;function xn(){return Re&6?wt():Dd!==-1?Dd:Dd=wt()}function go(t){return t.mode&1?Re&2&&tn!==0?tn&-tn:pB.transition!==null?(jd===0&&(jd=ZR()),jd):(t=Le,t!==0||(t=window.event,t=t===void 0?16:sk(t.type)),t):1}function kr(t,e,n,r){if(50<gc)throw gc=0,o0=null,Error(J(185));Jf(t,n,r),(!(Re&2)||t!==Qt)&&(t===Qt&&(!(Re&2)&&(tg|=n),jt===4&&to(t,tn)),Dn(t,r),n===1&&Re===0&&!(e.mode&1)&&(Ja=wt()+500,Xm&&Bo()))}function Dn(t,e){var n=t.callbackNode;p3(t,e);var r=Jd(t,t===Qt?tn:0);if(r===0)n!==null&&oT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&oT(n),e===1)t.tag===0?dB(XT.bind(null,t)):Tk(XT.bind(null,t)),uB(function(){!(Re&6)&&Bo()}),n=null;else{switch(ek(r)){case 1:n=Bb;break;case 4:n=XR;break;case 16:n=Xd;break;case 536870912:n=JR;break;default:n=Xd}n=S2(n,g2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g2(t,e){if(Dd=-1,jd=0,Re&6)throw Error(J(327));var n=t.callbackNode;if(ka()&&t.callbackNode!==n)return null;var r=Jd(t,t===Qt?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gp(t,r);else{e=r;var i=Re;Re|=2;var o=v2();(Qt!==t||tn!==e)&&(fi=null,Ja=wt()+500,vs(t,e));do try{MB();break}catch(a){y2(t,a)}while(!0);eE(),dp.current=o,Re=i,At!==null?e=0:(Qt=null,tn=0,e=jt)}if(e!==0){if(e===2&&(i=R_(t),i!==0&&(r=i,e=s0(t,i))),e===1)throw n=Kc,vs(t,0),to(t,r),Dn(t,wt()),n;if(e===6)to(t,r);else{if(i=t.current.alternate,!(r&30)&&!RB(i)&&(e=gp(t,r),e===2&&(o=R_(t),o!==0&&(r=o,e=s0(t,o))),e===1))throw n=Kc,vs(t,0),to(t,r),Dn(t,wt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:ts(t,In,fi);break;case 3:if(to(t,r),(r&130023424)===r&&(e=mE+500-wt(),10<e)){if(Jd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=V_(ts.bind(null,t,In,fi),e);break}ts(t,In,fi);break;case 4:if(to(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Rr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NB(r/1960))-r,10<r){t.timeoutHandle=V_(ts.bind(null,t,In,fi),r);break}ts(t,In,fi);break;case 5:ts(t,In,fi);break;default:throw Error(J(329))}}}return Dn(t,wt()),t.callbackNode===n?g2.bind(null,t):null}function s0(t,e){var n=mc;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=gp(t,e),t!==2&&(e=In,In=n,e!==null&&a0(e)),t}function a0(t){In===null?In=t:In.push.apply(In,t)}function RB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Dr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function to(t,e){for(e&=~pE,e&=~tg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function XT(t){if(Re&6)throw Error(J(327));ka();var e=Jd(t,0);if(!(e&1))return Dn(t,wt()),null;var n=gp(t,e);if(t.tag!==0&&n===2){var r=R_(t);r!==0&&(e=r,n=s0(t,r))}if(n===1)throw n=Kc,vs(t,0),to(t,e),Dn(t,wt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,In,fi),Dn(t,wt()),null}function gE(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(Ja=wt()+500,Xm&&Bo())}}function Ns(t){io!==null&&io.tag===0&&!(Re&6)&&ka();var e=Re;Re|=1;var n=cr.transition,r=Le;try{if(cr.transition=null,Le=1,t)return t()}finally{Le=r,cr.transition=n,Re=e,!(Re&6)&&Bo()}}function yE(){Wn=Sa.current,tt(Sa)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lB(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(Xb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rp();break;case 3:Ya(),tt(kn),tt(_n),sE();break;case 5:oE(r);break;case 4:Ya();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:tE(r.type._context);break;case 22:case 23:yE()}n=n.return}if(Qt=t,At=t=yo(t.current,null),tn=Wn=e,jt=0,Kc=null,pE=tg=Os=0,In=mc=null,ls!==null){for(e=0;e<ls.length;e++)if(n=ls[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ls=null}return t}function y2(t,e){do{var n=At;try{if(eE(),Rd.current=hp,fp){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fp=!1}if(Is=0,Ht=kt=ut=null,dc=!1,qc=0,dE.current=null,n===null||n.return===null){jt=1,Kc=e,At=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=LT(s);if(p!==null){p.flags&=-257,FT(p,s,a,o,e),p.mode&1&&$T(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){$T(o,u,e),vE();break e}l=Error(J(426))}}else if(nt&&a.mode&1){var y=LT(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),FT(y,s,a,o,e),Jb(Xa(l,a));break e}}o=l=Xa(l,a),jt!==4&&(jt=2),mc===null?mc=[o]:mc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=e2(o,l,e);NT(o,w);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(mo===null||!mo.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=t2(o,a,e);NT(o,C);break e}}o=o.return}while(o!==null)}w2(n)}catch(S){e=S,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function v2(){var t=dp.current;return dp.current=hp,t===null?hp:t}function vE(){(jt===0||jt===3||jt===2)&&(jt=4),Qt===null||!(Os&268435455)&&!(tg&268435455)||to(Qt,tn)}function gp(t,e){var n=Re;Re|=2;var r=v2();(Qt!==t||tn!==e)&&(fi=null,vs(t,e));do try{kB();break}catch(i){y2(t,i)}while(!0);if(eE(),Re=n,dp.current=r,At!==null)throw Error(J(261));return Qt=null,tn=0,jt}function kB(){for(;At!==null;)_2(At)}function MB(){for(;At!==null&&!o3();)_2(At)}function _2(t){var e=E2(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?w2(t):At=e,dE.current=null}function w2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PB(n,e),n!==null){n.flags&=32767,At=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,At=null;return}}else if(n=AB(n,e,Wn),n!==null){At=n;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);jt===0&&(jt=5)}function ts(t,e,n){var r=Le,i=cr.transition;try{cr.transition=null,Le=1,DB(t,e,n,r)}finally{cr.transition=i,Le=r}return null}function DB(t,e,n,r){do ka();while(io!==null);if(Re&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(m3(t,o),t===Qt&&(At=Qt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||td||(td=!0,S2(Xd,function(){return ka(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cr.transition,cr.transition=null;var s=Le;Le=1;var a=Re;Re|=4,dE.current=null,IB(t,n),p2(n,t),tB(L_),Zd=!!$_,L_=$_=null,t.current=n,OB(n),s3(),Re=a,Le=s,cr.transition=o}else t.current=n;if(td&&(td=!1,io=t,mp=i),o=t.pendingLanes,o===0&&(mo=null),u3(n.stateNode),Dn(t,wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pp)throw pp=!1,t=i0,i0=null,t;return mp&1&&t.tag!==0&&ka(),o=t.pendingLanes,o&1?t===o0?gc++:(gc=0,o0=t):gc=0,Bo(),null}function ka(){if(io!==null){var t=ek(mp),e=cr.transition,n=Le;try{if(cr.transition=null,Le=16>t?16:t,io===null)var r=!1;else{if(t=io,io=null,mp=0,Re&6)throw Error(J(331));var i=Re;for(Re|=4,se=t.current;se!==null;){var o=se,s=o.child;if(se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:pc(8,c,o)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var d=c.sibling,p=c.return;if(f2(c),c===u){se=null;break}if(d!==null){d.return=p,se=d;break}se=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,se=s;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,se=w;break e}se=o.return}}var v=t.current;for(se=v;se!==null;){s=se;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,se=b;else e:for(s=v;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:eg(9,a)}}catch(S){pt(a,a.return,S)}if(a===s){se=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,se=C;break e}se=a.return}}if(Re=i,Bo(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Hm,t)}catch{}r=!0}return r}finally{Le=n,cr.transition=e}}return!1}function JT(t,e,n){e=Xa(n,e),e=e2(t,e,1),t=po(t,e,1),e=xn(),t!==null&&(Jf(t,1,e),Dn(t,e))}function pt(t,e,n){if(t.tag===3)JT(t,t,n);else for(;e!==null;){if(e.tag===3){JT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mo===null||!mo.has(r))){t=Xa(n,t),t=t2(e,t,1),e=po(e,t,1),t=xn(),e!==null&&(Jf(e,1,t),Dn(e,t));break}}e=e.return}}function jB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(tn&n)===n&&(jt===4||jt===3&&(tn&130023424)===tn&&500>wt()-mE?vs(t,0):pE|=n),Dn(t,e)}function b2(t,e){e===0&&(t.mode&1?(e=qh,qh<<=1,!(qh&130023424)&&(qh=4194304)):e=1);var n=xn();t=Ai(t,e),t!==null&&(Jf(t,e,n),Dn(t,n))}function $B(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),b2(t,n)}function LB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),b2(t,n)}var E2;E2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,TB(t,e,n);On=!!(t.flags&131072)}else On=!1,nt&&e.flags&1048576&&Ak(e,sp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Md(t,e),t=e.pendingProps;var i=Ga(e,_n.current);Ra(e,n),i=lE(null,e,r,t,i,n);var o=uE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(r)?(o=!0,ip(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rE(e),i.updater=Zm,e.stateNode=i,i._reactInternals=e,G_(e,r,t,n),e=Y_(null,e,r,!0,o,n)):(e.tag=0,nt&&o&&Yb(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Md(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VB(r),t=br(r,t),i){case 0:e=Q_(null,e,r,t,n);break e;case 1:e=UT(null,e,r,t,n);break e;case 11:e=VT(null,e,r,t,n);break e;case 14:e=BT(null,e,r,br(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),Q_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),UT(t,e,r,i,n);case 3:e:{if(o2(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Rk(t,e),up(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Xa(Error(J(423)),e),e=zT(t,e,r,n,i);break e}else if(r!==i){i=Xa(Error(J(424)),e),e=zT(t,e,r,n,i);break e}else for(Gn=ho(e.stateNode.containerInfo.firstChild),Kn=e,nt=!0,Tr=null,n=Ok(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===i){e=Pi(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return kk(e),t===null&&W_(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,F_(r,i)?s=null:o!==null&&F_(r,o)&&(e.flags|=32),i2(t,e),bn(t,e,s,n),e.child;case 6:return t===null&&W_(e),null;case 13:return s2(t,e,n);case 4:return iE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qa(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),VT(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ke(ap,r._currentValue),r._currentValue=s,o!==null)if(Dr(o.value,s)){if(o.children===i.children&&!kn.current){e=Pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_i(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),q_(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),q_(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ra(e,n),i=dr(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),BT(t,e,r,i,n);case 15:return n2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),Md(t,e),e.tag=1,Mn(r)?(t=!0,ip(e)):t=!1,Ra(e,n),Zk(e,r,i),G_(e,r,i,n),Y_(null,e,r,!0,t,n);case 19:return a2(t,e,n);case 22:return r2(t,e,n)}throw Error(J(156,e.tag))};function S2(t,e){return YR(t,e)}function FB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,n,r){return new FB(t,e,n,r)}function _E(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VB(t){if(typeof t=="function")return _E(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lb)return 11;if(t===Fb)return 14}return 2}function yo(t,e){var n=t.alternate;return n===null?(n=lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $d(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")_E(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case da:return _s(n.children,i,o,e);case $b:s=8,i|=8;break;case y_:return t=lr(12,n,e,i|2),t.elementType=y_,t.lanes=o,t;case v_:return t=lr(13,n,e,i),t.elementType=v_,t.lanes=o,t;case __:return t=lr(19,n,e,i),t.elementType=__,t.lanes=o,t;case kR:return ng(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NR:s=10;break e;case RR:s=9;break e;case Lb:s=11;break e;case Fb:s=14;break e;case Xi:s=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=lr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function _s(t,e,n,r){return t=lr(7,t,r,e),t.lanes=n,t}function ng(t,e,n,r){return t=lr(22,t,r,e),t.elementType=kR,t.lanes=n,t.stateNode={isHidden:!1},t}function pv(t,e,n){return t=lr(6,t,null,e),t.lanes=n,t}function mv(t,e,n){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qy(0),this.expirationTimes=Qy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wE(t,e,n,r,i,o,s,a,l){return t=new BB(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=lr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rE(o),t}function UB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function x2(t){if(!t)return Io;t=t._reactInternals;e:{if(zs(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Mn(n))return xk(t,n,e)}return e}function T2(t,e,n,r,i,o,s,a,l){return t=wE(n,r,!0,t,i,o,s,a,l),t.context=x2(null),n=t.current,r=xn(),i=go(n),o=_i(r,i),o.callback=e??null,po(n,o,i),t.current.lanes=i,Jf(t,i,r),Dn(t,r),t}function rg(t,e,n,r){var i=e.current,o=xn(),s=go(i);return n=x2(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=po(i,e,s),t!==null&&(kr(t,i,s,o),Nd(t,i,s)),s}function yp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bE(t,e){ZT(t,e),(t=t.alternate)&&ZT(t,e)}function zB(){return null}var A2=typeof reportError=="function"?reportError:function(t){console.error(t)};function EE(t){this._internalRoot=t}ig.prototype.render=EE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));rg(t,e,null,null)};ig.prototype.unmount=EE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){rg(null,t,null,null)}),e[Ti]=null}};function ig(t){this._internalRoot=t}ig.prototype.unstable_scheduleHydration=function(t){if(t){var e=rk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<eo.length&&e!==0&&e<eo[n].priority;n++);eo.splice(n,0,t),n===0&&ok(t)}};function SE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eA(){}function WB(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=yp(s);o.call(u)}}var s=T2(e,r,t,0,null,!1,!1,"",eA);return t._reactRootContainer=s,t[Ti]=s.current,Vc(t.nodeType===8?t.parentNode:t),Ns(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=yp(l);a.call(u)}}var l=wE(t,0,!1,null,null,!1,!1,"",eA);return t._reactRootContainer=l,t[Ti]=l.current,Vc(t.nodeType===8?t.parentNode:t),Ns(function(){rg(e,l,n,r)}),l}function sg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=yp(s);a.call(l)}}rg(e,s,t,i)}else s=WB(n,e,t,i,r);return yp(s)}tk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ec(e.pendingLanes);n!==0&&(Ub(e,n|1),Dn(e,wt()),!(Re&6)&&(Ja=wt()+500,Bo()))}break;case 13:Ns(function(){var r=Ai(t,1);if(r!==null){var i=xn();kr(r,t,1,i)}}),bE(t,1)}};zb=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=xn();kr(e,t,134217728,n)}bE(t,134217728)}};nk=function(t){if(t.tag===13){var e=go(t),n=Ai(t,e);if(n!==null){var r=xn();kr(n,t,e,r)}bE(t,e)}};rk=function(){return Le};ik=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};I_=function(t,e,n){switch(e){case"input":if(E_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ym(r);if(!i)throw Error(J(90));DR(r),E_(r,i)}}}break;case"textarea":$R(t,n);break;case"select":e=n.value,e!=null&&Ca(t,!!n.multiple,e,!1)}};WR=gE;qR=Ns;var qB={usingClientEntryPoint:!1,Events:[eh,ya,Ym,UR,zR,gE]},Mu={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HB={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KR(t),t===null?null:t.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||zB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{Hm=nd.inject(HB),Xr=nd}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qB;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!SE(e))throw Error(J(200));return UB(t,e,null,n)};Xn.createRoot=function(t,e){if(!SE(t))throw Error(J(299));var n=!1,r="",i=A2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wE(t,1,!1,null,null,n,!1,r,i),t[Ti]=e.current,Vc(t.nodeType===8?t.parentNode:t),new EE(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=KR(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return Ns(t)};Xn.hydrate=function(t,e,n){if(!og(e))throw Error(J(200));return sg(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!SE(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=A2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=T2(e,null,t,1,n??null,i,!1,o,s),t[Ti]=e.current,Vc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ig(e)};Xn.render=function(t,e,n){if(!og(e))throw Error(J(200));return sg(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!og(t))throw Error(J(40));return t._reactRootContainer?(Ns(function(){sg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Xn.unstable_batchedUpdates=gE;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!og(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return sg(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function P2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P2)}catch(t){console.error(t)}}P2(),PR.exports=Xn;var GB=PR.exports,tA=GB;m_.createRoot=tA.createRoot,m_.hydrateRoot=tA.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}var oo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oo||(oo={}));const nA="popstate";function KB(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return l0("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vp(i)}return YB(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QB(){return Math.random().toString(36).substr(2,8)}function rA(t,e){return{usr:t.state,key:t.key,idx:e}}function l0(t,e,n,r){return n===void 0&&(n=null),Qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ll(e):e,{state:n,key:e&&e.key||r||QB()})}function vp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=oo.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Qc({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=oo.Pop;let y=c(),w=y==null?null:y-u;u=y,l&&l({action:a,location:g.location,delta:w})}function d(y,w){a=oo.Push;let v=l0(g.location,y,w);u=c()+1;let b=rA(v,u),C=g.createHref(v);try{s.pushState(b,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}o&&l&&l({action:a,location:g.location,delta:1})}function p(y,w){a=oo.Replace;let v=l0(g.location,y,w);u=c();let b=rA(v,u),C=g.createHref(v);s.replaceState(b,"",C),o&&l&&l({action:a,location:g.location,delta:0})}function m(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:vp(y);return v=v.replace(/ $/,"%20"),ct(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(nA,f),l=y,()=>{i.removeEventListener(nA,f),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let w=m(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:p,go(y){return s.go(y)}};return g}var iA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(iA||(iA={}));function XB(t,e,n){return n===void 0&&(n="/"),JB(t,e,n)}function JB(t,e,n,r){let i=typeof e=="string"?Ll(e):e,o=Za(i.pathname||"/",n);if(o==null)return null;let s=C2(t);ZB(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=c6(o);a=l6(s[l],u)}return a}function C2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=vo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),C2(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:s6(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of I2(o.path))i(o,s,l)}),e}function I2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=I2(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e6=/^:[\w-]+$/,t6=3,n6=2,r6=1,i6=10,o6=-2,oA=t=>t==="*";function s6(t,e){let n=t.split("/"),r=n.length;return n.some(oA)&&(r+=o6),e&&(r+=n6),n.filter(i=>!oA(i)).reduce((i,o)=>i+(e6.test(o)?t6:o===""?r6:i6),r)}function a6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function l6(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=u0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:vo([o,f.pathname]),pathnameBase:m6(vo([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=vo([o,f.pathnameBase]))}return s}function u0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=a[f]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[f];return p&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function u6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function c6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Za(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const f6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h6=t=>f6.test(t);function d6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ll(t):t,o;if(n)if(h6(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),xE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=sA(n.substring(1),"/"):o=sA(n,e)}else o=e;return{pathname:o,search:g6(r),hash:y6(i)}}function sA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TE(t,e){let n=p6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function AE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ll(t):(i=Qc({},t),ct(!i.pathname||!i.pathname.includes("?"),gv("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),gv("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),gv("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=d6(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const vo=t=>t.join("/").replace(/\/\/+/g,"/"),m6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const O2=["post","put","patch","delete"];new Set(O2);const _6=["get",...O2];new Set(_6);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}const ag=j.createContext(null),N2=j.createContext(null),ji=j.createContext(null),lg=j.createContext(null),Uo=j.createContext({outlet:null,matches:[],isDataRoute:!1}),R2=j.createContext(null);function w6(t,e){let{relative:n}=e===void 0?{}:e;Fl()||ct(!1);let{basename:r,navigator:i}=j.useContext(ji),{hash:o,pathname:s,search:a}=ug(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:vo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Fl(){return j.useContext(lg)!=null}function Vl(){return Fl()||ct(!1),j.useContext(lg).location}function k2(t){j.useContext(ji).static||j.useLayoutEffect(t)}function M2(){let{isDataRoute:t}=j.useContext(Uo);return t?k6():b6()}function b6(){Fl()||ct(!1);let t=j.useContext(ag),{basename:e,future:n,navigator:r}=j.useContext(ji),{matches:i}=j.useContext(Uo),{pathname:o}=Vl(),s=JSON.stringify(TE(i,n.v7_relativeSplatPath)),a=j.useRef(!1);return k2(()=>{a.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=AE(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:vo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function ug(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(ji),{matches:i}=j.useContext(Uo),{pathname:o}=Vl(),s=JSON.stringify(TE(i,r.v7_relativeSplatPath));return j.useMemo(()=>AE(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function E6(t,e){return S6(t,e)}function S6(t,e,n,r){Fl()||ct(!1);let{navigator:i}=j.useContext(ji),{matches:o}=j.useContext(Uo),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Vl(),c;if(e){var f;let y=typeof e=="string"?Ll(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||ct(!1),c=y}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=XB(t,{pathname:p}),g=C6(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:vo([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:vo([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&g?j.createElement(lg.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:oo.Pop}},g):g}function x6(){let t=R6(),e=v6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const T6=j.createElement(x6,null);class A6 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Uo.Provider,{value:this.props.routeContext},j.createElement(R2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P6(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(ag);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Uo.Provider,{value:e},r)}function C6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||ct(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let p,m=!1,g=null,y=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||T6,l&&(u<0&&d===0?(M6("route-fallback"),m=!0,y=null):u===d&&(m=!0,y=f.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,d+1)),v=()=>{let b;return p?b=g:m?b=y:f.route.Component?b=j.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,j.createElement(P6,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?j.createElement(A6,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var D2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(D2||{}),j2=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(j2||{});function I6(t){let e=j.useContext(ag);return e||ct(!1),e}function O6(t){let e=j.useContext(N2);return e||ct(!1),e}function N6(t){let e=j.useContext(Uo);return e||ct(!1),e}function $2(t){let e=N6(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function R6(){var t;let e=j.useContext(R2),n=O6(),r=$2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function k6(){let{router:t}=I6(D2.UseNavigateStable),e=$2(j2.UseNavigateStable),n=j.useRef(!1);return k2(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yc({fromRouteId:e},o)))},[t,e])}const aA={};function M6(t,e,n){aA[t]||(aA[t]=!0)}function D6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function j6(t){let{to:e,replace:n,state:r,relative:i}=t;Fl()||ct(!1);let{future:o,static:s}=j.useContext(ji),{matches:a}=j.useContext(Uo),{pathname:l}=Vl(),u=M2(),c=AE(e,TE(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return j.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function nc(t){ct(!1)}function $6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=oo.Pop,navigator:o,static:s=!1,future:a}=t;Fl()&&ct(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:o,static:s,future:Yc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Ll(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:m="default"}=r,g=j.useMemo(()=>{let y=Za(c,l);return y==null?null:{location:{pathname:y,search:f,hash:d,state:p,key:m},navigationType:i}},[l,c,f,d,p,m,i]);return g==null?null:j.createElement(ji.Provider,{value:u},j.createElement(lg.Provider,{children:n,value:g}))}function L6(t){let{children:e,location:n}=t;return E6(c0(e),n)}new Promise(()=>{});function c0(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,c0(r.props.children,o));return}r.type!==nc&&ct(!1),!r.props.index||!r.props.children||ct(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=c0(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function L2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V6(t,e){return t.button===0&&(!e||e==="_self")&&!F6(t)}const B6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],z6="6";try{window.__reactRouterVersion=z6}catch{}const W6=j.createContext({isTransitioning:!1}),q6="startTransition",lA=jV[q6];function H6(t){let{basename:e,children:n,future:r,window:i}=t,o=j.useRef();o.current==null&&(o.current=KB({window:i,v5Compat:!0}));let s=o.current,[a,l]=j.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=j.useCallback(f=>{u&&lA?lA(()=>l(f)):l(f)},[l,u]);return j.useLayoutEffect(()=>s.listen(c),[s,c]),j.useEffect(()=>D6(r),[r]),j.createElement($6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const G6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q6=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=L2(e,B6),{basename:p}=j.useContext(ji),m,g=!1;if(typeof u=="string"&&K6.test(u)&&(m=u,G6))try{let b=new URL(window.location.href),C=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=Za(C.pathname,p);C.origin===b.origin&&S!=null?u=S+C.search+C.hash:g=!0}catch{}let y=w6(u,{relative:i}),w=X6(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||w(b)}return j.createElement("a",_p({},d,{href:m||y,onClick:g||o?r:v,ref:n,target:l}))}),yv=j.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:u,children:c}=e,f=L2(e,U6),d=ug(l,{relative:f.relative}),p=Vl(),m=j.useContext(N2),{navigator:g,basename:y}=j.useContext(ji),w=m!=null&&J6(d)&&u===!0,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,b=p.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(b=b.toLowerCase(),C=C?C.toLowerCase():null,v=v.toLowerCase()),C&&y&&(C=Za(C,y)||C);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let A=b===v||!s&&b.startsWith(v)&&b.charAt(S)==="/",E=C!=null&&(C===v||!s&&C.startsWith(v)&&C.charAt(v.length)==="/"),x={isActive:A,isPending:E,isTransitioning:w},P=A?r:void 0,O;typeof o=="function"?O=o(x):O=[o,A?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(x):a;return j.createElement(Q6,_p({},f,{"aria-current":P,className:O,ref:n,style:I,to:l,viewTransition:u}),typeof c=="function"?c(x):c)});var f0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(f0||(f0={}));var uA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uA||(uA={}));function Y6(t){let e=j.useContext(ag);return e||ct(!1),e}function X6(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=M2(),u=Vl(),c=ug(t,{relative:s});return j.useCallback(f=>{if(V6(f,n)){f.preventDefault();let d=r!==void 0?r:vp(u)===vp(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}function J6(t,e){e===void 0&&(e={});let n=j.useContext(W6);n==null&&ct(!1);let{basename:r}=Y6(f0.useViewTransitionState),i=ug(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Za(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Za(n.nextLocation.pathname,r)||n.nextLocation.pathname;return u0(i.pathname,s)!=null||u0(i.pathname,o)!=null}const Z6=()=>{};var cA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z=function(t,e){if(!t)throw Bl(e)},Bl=function(t){return new Error("Firebase Database ("+F2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(V2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new tU;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B2=function(t){const e=V2(t);return PE.encodeByteArray(e,!0)},wp=function(t){return B2(t).replace(/\./g,"")},h0=function(t){try{return PE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){return U2(void 0,t)}function U2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!rU(n)||(t[n]=U2(t[n],e[n]));return t}function rU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=()=>iU().__FIREBASE_DEFAULTS__,sU=()=>{if(typeof process>"u"||typeof cA>"u")return;const t=cA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h0(t[1]);return e&&JSON.parse(e)},CE=()=>{try{return Z6()||oU()||sU()||aU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lU=t=>{var e,n;return(n=(e=CE())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},z2=t=>{const e=lU(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},W2=()=>{var t;return(t=CE())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wp(JSON.stringify(n)),wp(JSON.stringify(s)),""].join(".")}const yc={};function uU(){const t={prod:[],emulator:[]};for(const e of Object.keys(yc))yc[e]?t.emulator.push(e):t.prod.push(e);return t}function cU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fA=!1;function G2(t,e){if(typeof window>"u"||typeof document>"u"||!nh(window.location.host)||yc[t]===e||yc[t]||fA)return;yc[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",o=uU().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{fA=!0,s()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=cU(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const b=d.element;a(b),c(y,g);const C=u();l(v,w),b.append(v,m,y,C),document.body.appendChild(b)}o?(m.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K2())}function fU(){var e;const t=(e=CE())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dU(){return F2.NODE_ADMIN===!0}function pU(){return!fU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mU(){try{return typeof indexedDB=="object"}catch{return!1}}function gU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="FirebaseError";class Ul extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yU,Object.setPrototypeOf(this,Ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y2.prototype.create)}}class Y2{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?vU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ul(i,a,r)}}function vU(t,e){return t.replace(_U,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _U=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){return JSON.parse(t)}function Mt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Xc(h0(o[0])||""),n=Xc(h0(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},wU=function(t){const e=X2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bU=function(t){const e=X2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function el(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Jc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(dA(o)&&dA(s)){if(!Jc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let f=0;f<80;f++){f<40?f<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):f<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const d=(i<<5|i>>>27)+u+l+c+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function IE(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,Z(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t&&t._delegate?t._delegate:t}class tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PU(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AU(t){return t===ns?void 0:t}function PU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const IU={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},OU=Ae.INFO,NU={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},RU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class OE{constructor(e){this.name=e,this._logLevel=OU,this._logHandler=RU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const kU=(t,e)=>e.some(n=>t instanceof n);let pA,mA;function MU(){return pA||(pA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DU(){return mA||(mA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J2=new WeakMap,d0=new WeakMap,Z2=new WeakMap,vv=new WeakMap,NE=new WeakMap;function jU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(_o(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&J2.set(n,t)}).catch(()=>{}),NE.set(e,t),e}function $U(t){if(d0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});d0.set(t,e)}let p0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Z2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LU(t){p0=t(p0)}function FU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_v(this),e,...n);return Z2.set(r,e.sort?e.sort():[e]),_o(r)}:DU().includes(t)?function(...e){return t.apply(_v(this),e),_o(J2.get(this))}:function(...e){return _o(t.apply(_v(this),e))}}function VU(t){return typeof t=="function"?FU(t):(t instanceof IDBTransaction&&$U(t),kU(t,MU())?new Proxy(t,p0):t)}function _o(t){if(t instanceof IDBRequest)return jU(t);if(vv.has(t))return vv.get(t);const e=VU(t);return e!==t&&(vv.set(t,e),NE.set(e,t)),e}const _v=t=>NE.get(t);function BU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=_o(s);return r&&s.addEventListener("upgradeneeded",l=>{r(_o(s.result),l.oldVersion,l.newVersion,_o(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const UU=["get","getKey","getAll","getAllKeys","count"],zU=["put","add","delete","clear"],wv=new Map;function gA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wv.get(e))return wv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UU.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return wv.set(e,o),o}LU(t=>({...t,get:(e,n,r)=>gA(e,n)||t.get(e,n,r),has:(e,n)=>!!gA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const m0="@firebase/app",yA="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new OE("@firebase/app"),HU="@firebase/app-compat",GU="@firebase/analytics-compat",KU="@firebase/analytics",QU="@firebase/app-check-compat",YU="@firebase/app-check",XU="@firebase/auth",JU="@firebase/auth-compat",ZU="@firebase/database",e5="@firebase/data-connect",t5="@firebase/database-compat",n5="@firebase/functions",r5="@firebase/functions-compat",i5="@firebase/installations",o5="@firebase/installations-compat",s5="@firebase/messaging",a5="@firebase/messaging-compat",l5="@firebase/performance",u5="@firebase/performance-compat",c5="@firebase/remote-config",f5="@firebase/remote-config-compat",h5="@firebase/storage",d5="@firebase/storage-compat",p5="@firebase/firestore",m5="@firebase/ai",g5="@firebase/firestore-compat",y5="firebase",v5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="[DEFAULT]",_5={[m0]:"fire-core",[HU]:"fire-core-compat",[KU]:"fire-analytics",[GU]:"fire-analytics-compat",[YU]:"fire-app-check",[QU]:"fire-app-check-compat",[XU]:"fire-auth",[JU]:"fire-auth-compat",[ZU]:"fire-rtdb",[e5]:"fire-data-connect",[t5]:"fire-rtdb-compat",[n5]:"fire-fn",[r5]:"fire-fn-compat",[i5]:"fire-iid",[o5]:"fire-iid-compat",[s5]:"fire-fcm",[a5]:"fire-fcm-compat",[l5]:"fire-perf",[u5]:"fire-perf-compat",[c5]:"fire-rc",[f5]:"fire-rc-compat",[h5]:"fire-gcs",[d5]:"fire-gcs-compat",[p5]:"fire-fst",[g5]:"fire-fst-compat",[m5]:"fire-vertex","fire-js":"fire-js",[y5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,w5=new Map,y0=new Map;function vA(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ef(t){const e=t.name;if(y0.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;y0.set(e,t);for(const n of Zc.values())vA(n,t);for(const n of w5.values())vA(n,t);return!0}function eM(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tM(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new Y2("app","Firebase",b5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=v5;function hg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:g0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw wo.create("bad-app-name",{appName:String(i)});if(n||(n=W2()),!n)throw wo.create("no-options");const o=Zc.get(i);if(o){if(Jc(n,o.options)&&Jc(r,o.config))return o;throw wo.create("duplicate-app",{appName:i})}const s=new CU(i);for(const l of y0.values())s.addComponent(l);const a=new E5(n,r,s);return Zc.set(i,a),a}function rM(t=g0){const e=Zc.get(t);if(!e&&t===g0&&W2())return hg();if(!e)throw wo.create("no-app",{appName:t});return e}function _A(){return Array.from(Zc.values())}function bo(t,e,n){let r=_5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(s.join(" "));return}ef(new tl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="firebase-heartbeat-database",x5=1,tf="firebase-heartbeat-store";let bv=null;function iM(){return bv||(bv=BU(S5,x5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tf)}catch(n){console.warn(n)}}}}).catch(t=>{throw wo.create("idb-open",{originalErrorMessage:t.message})})),bv}async function T5(t){try{const n=(await iM()).transaction(tf),r=await n.objectStore(tf).get(oM(t));return await n.done,r}catch(e){if(e instanceof Ul)Ci.warn(e.message);else{const n=wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function wA(t,e){try{const r=(await iM()).transaction(tf,"readwrite");await r.objectStore(tf).put(e,oM(t)),await r.done}catch(n){if(n instanceof Ul)Ci.warn(n.message);else{const r=wo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(r.message)}}}function oM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=1024,P5=30;class C5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>P5){const s=N5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bA(),{heartbeatsToSend:r,unsentEntries:i}=I5(this._heartbeatsCache.heartbeats),o=wp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ci.warn(n),""}}}function bA(){return new Date().toISOString().substring(0,10)}function I5(t,e=A5){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),EA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),EA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mU()?gU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function EA(t){return wp(JSON.stringify({version:2,heartbeats:t})).length}function N5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){ef(new tl("platform-logger",e=>new WU(e),"PRIVATE")),ef(new tl("heartbeat",e=>new C5(e),"PRIVATE")),bo(m0,yA,t),bo(m0,yA,"esm2020"),bo("fire-js","")}R5("");var k5="firebase",M5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bo(k5,M5,"app");var SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,sM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,x){function P(){}P.prototype=x.prototype,E.F=x.prototype,E.prototype=new P,E.prototype.constructor=E,E.D=function(O,I,k){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return x.prototype[I].apply(O,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,x,P){P||(P=0);const O=Array(16);if(typeof x=="string")for(var I=0;I<16;++I)O[I]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(I=0;I<16;++I)O[I]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=E.g[0],P=E.g[1],I=E.g[2];let k=E.g[3],R;R=x+(k^P&(I^k))+O[0]+3614090360&4294967295,x=P+(R<<7&4294967295|R>>>25),R=k+(I^x&(P^I))+O[1]+3905402710&4294967295,k=x+(R<<12&4294967295|R>>>20),R=I+(P^k&(x^P))+O[2]+606105819&4294967295,I=k+(R<<17&4294967295|R>>>15),R=P+(x^I&(k^x))+O[3]+3250441966&4294967295,P=I+(R<<22&4294967295|R>>>10),R=x+(k^P&(I^k))+O[4]+4118548399&4294967295,x=P+(R<<7&4294967295|R>>>25),R=k+(I^x&(P^I))+O[5]+1200080426&4294967295,k=x+(R<<12&4294967295|R>>>20),R=I+(P^k&(x^P))+O[6]+2821735955&4294967295,I=k+(R<<17&4294967295|R>>>15),R=P+(x^I&(k^x))+O[7]+4249261313&4294967295,P=I+(R<<22&4294967295|R>>>10),R=x+(k^P&(I^k))+O[8]+1770035416&4294967295,x=P+(R<<7&4294967295|R>>>25),R=k+(I^x&(P^I))+O[9]+2336552879&4294967295,k=x+(R<<12&4294967295|R>>>20),R=I+(P^k&(x^P))+O[10]+4294925233&4294967295,I=k+(R<<17&4294967295|R>>>15),R=P+(x^I&(k^x))+O[11]+2304563134&4294967295,P=I+(R<<22&4294967295|R>>>10),R=x+(k^P&(I^k))+O[12]+1804603682&4294967295,x=P+(R<<7&4294967295|R>>>25),R=k+(I^x&(P^I))+O[13]+4254626195&4294967295,k=x+(R<<12&4294967295|R>>>20),R=I+(P^k&(x^P))+O[14]+2792965006&4294967295,I=k+(R<<17&4294967295|R>>>15),R=P+(x^I&(k^x))+O[15]+1236535329&4294967295,P=I+(R<<22&4294967295|R>>>10),R=x+(I^k&(P^I))+O[1]+4129170786&4294967295,x=P+(R<<5&4294967295|R>>>27),R=k+(P^I&(x^P))+O[6]+3225465664&4294967295,k=x+(R<<9&4294967295|R>>>23),R=I+(x^P&(k^x))+O[11]+643717713&4294967295,I=k+(R<<14&4294967295|R>>>18),R=P+(k^x&(I^k))+O[0]+3921069994&4294967295,P=I+(R<<20&4294967295|R>>>12),R=x+(I^k&(P^I))+O[5]+3593408605&4294967295,x=P+(R<<5&4294967295|R>>>27),R=k+(P^I&(x^P))+O[10]+38016083&4294967295,k=x+(R<<9&4294967295|R>>>23),R=I+(x^P&(k^x))+O[15]+3634488961&4294967295,I=k+(R<<14&4294967295|R>>>18),R=P+(k^x&(I^k))+O[4]+3889429448&4294967295,P=I+(R<<20&4294967295|R>>>12),R=x+(I^k&(P^I))+O[9]+568446438&4294967295,x=P+(R<<5&4294967295|R>>>27),R=k+(P^I&(x^P))+O[14]+3275163606&4294967295,k=x+(R<<9&4294967295|R>>>23),R=I+(x^P&(k^x))+O[3]+4107603335&4294967295,I=k+(R<<14&4294967295|R>>>18),R=P+(k^x&(I^k))+O[8]+1163531501&4294967295,P=I+(R<<20&4294967295|R>>>12),R=x+(I^k&(P^I))+O[13]+2850285829&4294967295,x=P+(R<<5&4294967295|R>>>27),R=k+(P^I&(x^P))+O[2]+4243563512&4294967295,k=x+(R<<9&4294967295|R>>>23),R=I+(x^P&(k^x))+O[7]+1735328473&4294967295,I=k+(R<<14&4294967295|R>>>18),R=P+(k^x&(I^k))+O[12]+2368359562&4294967295,P=I+(R<<20&4294967295|R>>>12),R=x+(P^I^k)+O[5]+4294588738&4294967295,x=P+(R<<4&4294967295|R>>>28),R=k+(x^P^I)+O[8]+2272392833&4294967295,k=x+(R<<11&4294967295|R>>>21),R=I+(k^x^P)+O[11]+1839030562&4294967295,I=k+(R<<16&4294967295|R>>>16),R=P+(I^k^x)+O[14]+4259657740&4294967295,P=I+(R<<23&4294967295|R>>>9),R=x+(P^I^k)+O[1]+2763975236&4294967295,x=P+(R<<4&4294967295|R>>>28),R=k+(x^P^I)+O[4]+1272893353&4294967295,k=x+(R<<11&4294967295|R>>>21),R=I+(k^x^P)+O[7]+4139469664&4294967295,I=k+(R<<16&4294967295|R>>>16),R=P+(I^k^x)+O[10]+3200236656&4294967295,P=I+(R<<23&4294967295|R>>>9),R=x+(P^I^k)+O[13]+681279174&4294967295,x=P+(R<<4&4294967295|R>>>28),R=k+(x^P^I)+O[0]+3936430074&4294967295,k=x+(R<<11&4294967295|R>>>21),R=I+(k^x^P)+O[3]+3572445317&4294967295,I=k+(R<<16&4294967295|R>>>16),R=P+(I^k^x)+O[6]+76029189&4294967295,P=I+(R<<23&4294967295|R>>>9),R=x+(P^I^k)+O[9]+3654602809&4294967295,x=P+(R<<4&4294967295|R>>>28),R=k+(x^P^I)+O[12]+3873151461&4294967295,k=x+(R<<11&4294967295|R>>>21),R=I+(k^x^P)+O[15]+530742520&4294967295,I=k+(R<<16&4294967295|R>>>16),R=P+(I^k^x)+O[2]+3299628645&4294967295,P=I+(R<<23&4294967295|R>>>9),R=x+(I^(P|~k))+O[0]+4096336452&4294967295,x=P+(R<<6&4294967295|R>>>26),R=k+(P^(x|~I))+O[7]+1126891415&4294967295,k=x+(R<<10&4294967295|R>>>22),R=I+(x^(k|~P))+O[14]+2878612391&4294967295,I=k+(R<<15&4294967295|R>>>17),R=P+(k^(I|~x))+O[5]+4237533241&4294967295,P=I+(R<<21&4294967295|R>>>11),R=x+(I^(P|~k))+O[12]+1700485571&4294967295,x=P+(R<<6&4294967295|R>>>26),R=k+(P^(x|~I))+O[3]+2399980690&4294967295,k=x+(R<<10&4294967295|R>>>22),R=I+(x^(k|~P))+O[10]+4293915773&4294967295,I=k+(R<<15&4294967295|R>>>17),R=P+(k^(I|~x))+O[1]+2240044497&4294967295,P=I+(R<<21&4294967295|R>>>11),R=x+(I^(P|~k))+O[8]+1873313359&4294967295,x=P+(R<<6&4294967295|R>>>26),R=k+(P^(x|~I))+O[15]+4264355552&4294967295,k=x+(R<<10&4294967295|R>>>22),R=I+(x^(k|~P))+O[6]+2734768916&4294967295,I=k+(R<<15&4294967295|R>>>17),R=P+(k^(I|~x))+O[13]+1309151649&4294967295,P=I+(R<<21&4294967295|R>>>11),R=x+(I^(P|~k))+O[4]+4149444226&4294967295,x=P+(R<<6&4294967295|R>>>26),R=k+(P^(x|~I))+O[11]+3174756917&4294967295,k=x+(R<<10&4294967295|R>>>22),R=I+(x^(k|~P))+O[2]+718787259&4294967295,I=k+(R<<15&4294967295|R>>>17),R=P+(k^(I|~x))+O[9]+3951481745&4294967295,E.g[0]=E.g[0]+x&4294967295,E.g[1]=E.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+k&4294967295}r.prototype.v=function(E,x){x===void 0&&(x=E.length);const P=x-this.blockSize,O=this.C;let I=this.h,k=0;for(;k<x;){if(I==0)for(;k<=P;)i(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<x;)if(O[I++]=E.charCodeAt(k++),I==this.blockSize){i(this,O),I=0;break}}else for(;k<x;)if(O[I++]=E[k++],I==this.blockSize){i(this,O),I=0;break}}this.h=I,this.o+=x},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var x=1;x<E.length-8;++x)E[x]=0;x=this.o*8;for(var P=E.length-8;P<E.length;++P)E[P]=x&255,x/=256;for(this.v(E),E=Array(16),x=0,P=0;P<4;++P)for(let O=0;O<32;O+=8)E[x++]=this.g[P]>>>O&255;return E};function o(E,x){var P=a;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=x(E)}function s(E,x){this.h=x;const P=[];let O=!0;for(let I=E.length-1;I>=0;I--){const k=E[I]|0;O&&k==x||(P[I]=k,O=!1)}this.g=P}var a={};function l(E){return-128<=E&&E<128?o(E,function(x){return new s([x|0],x<0?-1:0)}):new s([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return y(u(-E));const x=[];let P=1;for(let O=0;E>=P;O++)x[O]=E/P|0,P*=4294967296;return new s(x,0)}function c(E,x){if(E.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(E.charAt(0)=="-")return y(c(E.substring(1),x));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(x,8));let O=f;for(let k=0;k<E.length;k+=8){var I=Math.min(8,E.length-k);const R=parseInt(E.substring(k,k+I),x);I<8?(I=u(Math.pow(x,I)),O=O.j(I).add(u(R))):(O=O.j(P),O=O.add(u(R)))}return O}var f=l(0),d=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-y(this).m();let E=0,x=1;for(let P=0;P<this.g.length;P++){const O=this.i(P);E+=(O>=0?O:4294967296+O)*x,x*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(m(this))return"0";if(g(this))return"-"+y(this).toString(E);const x=u(Math.pow(E,6));var P=this;let O="";for(;;){const I=C(P,x).g;P=w(P,I.j(x));let k=((P.g.length>0?P.g[0]:P.h)>>>0).toString(E);if(P=I,m(P))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function m(E){if(E.h!=0)return!1;for(let x=0;x<E.g.length;x++)if(E.g[x]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=w(this,E),g(E)?-1:m(E)?0:1};function y(E){const x=E.g.length,P=[];for(let O=0;O<x;O++)P[O]=~E.g[O];return new s(P,~E.h).add(d)}t.abs=function(){return g(this)?y(this):this},t.add=function(E){const x=Math.max(this.g.length,E.g.length),P=[];let O=0;for(let I=0;I<=x;I++){let k=O+(this.i(I)&65535)+(E.i(I)&65535),R=(k>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);O=R>>>16,k&=65535,R&=65535,P[I]=R<<16|k}return new s(P,P[P.length-1]&-2147483648?-1:0)};function w(E,x){return E.add(y(x))}t.j=function(E){if(m(this)||m(E))return f;if(g(this))return g(E)?y(this).j(y(E)):y(y(this).j(E));if(g(E))return y(this.j(y(E)));if(this.l(p)<0&&E.l(p)<0)return u(this.m()*E.m());const x=this.g.length+E.g.length,P=[];for(var O=0;O<2*x;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<E.g.length;I++){const k=this.i(O)>>>16,R=this.i(O)&65535,B=E.i(I)>>>16,U=E.i(I)&65535;P[2*O+2*I]+=R*U,v(P,2*O+2*I),P[2*O+2*I+1]+=k*U,v(P,2*O+2*I+1),P[2*O+2*I+1]+=R*B,v(P,2*O+2*I+1),P[2*O+2*I+2]+=k*B,v(P,2*O+2*I+2)}for(E=0;E<x;E++)P[E]=P[2*E+1]<<16|P[2*E];for(E=x;E<2*x;E++)P[E]=0;return new s(P,0)};function v(E,x){for(;(E[x]&65535)!=E[x];)E[x+1]+=E[x]>>>16,E[x]&=65535,x++}function b(E,x){this.g=E,this.h=x}function C(E,x){if(m(x))throw Error("division by zero");if(m(E))return new b(f,f);if(g(E))return x=C(y(E),x),new b(y(x.g),y(x.h));if(g(x))return x=C(E,y(x)),new b(y(x.g),x.h);if(E.g.length>30){if(g(E)||g(x))throw Error("slowDivide_ only works with positive integers.");for(var P=d,O=x;O.l(E)<=0;)P=S(P),O=S(O);var I=A(P,1),k=A(O,1);for(O=A(O,2),P=A(P,2);!m(O);){var R=k.add(O);R.l(E)<=0&&(I=I.add(P),k=R),O=A(O,1),P=A(P,1)}return x=w(E,I.j(x)),new b(I,x)}for(I=f;E.l(x)>=0;){for(P=Math.max(1,Math.floor(E.m()/x.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=u(P),R=k.j(x);g(R)||R.l(E)>0;)P-=O,k=u(P),R=k.j(x);m(k)&&(k=d),I=I.add(k),E=w(E,R)}return new b(I,E)}t.B=function(E){return C(this,E).h},t.and=function(E){const x=Math.max(this.g.length,E.g.length),P=[];for(let O=0;O<x;O++)P[O]=this.i(O)&E.i(O);return new s(P,this.h&E.h)},t.or=function(E){const x=Math.max(this.g.length,E.g.length),P=[];for(let O=0;O<x;O++)P[O]=this.i(O)|E.i(O);return new s(P,this.h|E.h)},t.xor=function(E){const x=Math.max(this.g.length,E.g.length),P=[];for(let O=0;O<x;O++)P[O]=this.i(O)^E.i(O);return new s(P,this.h^E.h)};function S(E){const x=E.g.length+1,P=[];for(let O=0;O<x;O++)P[O]=E.i(O)<<1|E.i(O-1)>>>31;return new s(P,E.h)}function A(E,x){const P=x>>5;x%=32;const O=E.g.length-P,I=[];for(let k=0;k<O;k++)I[k]=x>0?E.i(k+P)>>>x|E.i(k+P+1)<<32-x:E.i(k+P);return new s(I,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sM=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Eo=s}).apply(typeof SA<"u"?SA:typeof self<"u"?self:typeof window<"u"?window:{});var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aM,rc,lM,Ld,v0,uM,cM,fM;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof rd=="object"&&rd];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var T=r;h=h.split(".");for(var M=0;M<h.length-1;M++){var $=h[M];if(!($ in T))break e;T=T[$]}h=h[h.length-1],M=T[h],_=_(M),_!=M&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(_){var T=[],M;for(M in _)Object.prototype.hasOwnProperty.call(_,M)&&T.push([M,_[M]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function l(h,_,T){return h.call.apply(h.bind,arguments)}function u(h,_,T){return u=l,u.apply(null,arguments)}function c(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function f(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(M,$,V){for(var te=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)te[ve-2]=arguments[ve];return _.prototype[$].apply(M,te)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const _=h.length;if(_>0){const T=Array(_);for(let M=0;M<_;M++)T[M]=h[M];return T}return[]}function m(h,_){for(let M=1;M<arguments.length;M++){const $=arguments[M];var T=typeof $;if(T=T!="object"?T:$?Array.isArray($)?"array":T:"null",T=="array"||T=="object"&&typeof $.length=="number"){T=h.length||0;const V=$.length||0;h.length=T+V;for(let te=0;te<V;te++)h[T+te]=$[te]}else h.push($)}}class g{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(h){s.setTimeout(()=>{throw h},0)}function w(){var h=E;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class v{constructor(){this.h=this.g=null}add(_,T){const M=b.get();M.set(_,T),this.h?this.h.next=M:this.g=M,this.h=M}}var b=new g(()=>new C,h=>h.reset());class C{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let S,A=!1,E=new v,x=()=>{const h=Promise.resolve(void 0);S=()=>{h.then(P)}};function P(){for(var h;h=w();){try{h.h.call(h.g)}catch(T){y(T)}var _=b;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}A=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};s.addEventListener("test",T,_),s.removeEventListener("test",T,_)}catch{}return h}();function R(h){return/^[\s\xa0]*$/.test(h)}function B(h,_){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}f(B,I),B.prototype.init=function(h,_){const T=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var U="closure_listenable_"+(Math.random()*1e6|0),W=0;function G(h,_,T,M,$){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!M,this.ha=$,this.key=++W,this.da=this.fa=!1}function L(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h,_,T){for(const M in h)_.call(T,h[M],M,h)}function Q(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function ee(h){const _={};for(const T in h)_[T]=h[T];return _}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,_){let T,M;for(let $=1;$<arguments.length;$++){M=arguments[$];for(T in M)h[T]=M[T];for(let V=0;V<Y.length;V++)T=Y[V],Object.prototype.hasOwnProperty.call(M,T)&&(h[T]=M[T])}}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,_,T,M,$){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const te=Qe(h,_,M,$);return te>-1?(_=h[te],T||(_.fa=!1)):(_=new G(_,this.src,V,!!M,$),_.fa=T,h.push(_)),_};function je(h,_){const T=_.type;if(T in h.g){var M=h.g[T],$=Array.prototype.indexOf.call(M,_,void 0),V;(V=$>=0)&&Array.prototype.splice.call(M,$,1),V&&(L(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Qe(h,_,T,M){for(let $=0;$<h.length;++$){const V=h[$];if(!V.da&&V.listener==_&&V.capture==!!T&&V.ha==M)return $}return-1}var on="closure_lm_"+(Math.random()*1e6|0),Vt={};function re(h,_,T,M,$){if(Array.isArray(_)){for(let V=0;V<_.length;V++)re(h,_[V],T,M,$);return null}return T=vr(T),h&&h[U]?h.J(_,T,a(M)?!!M.capture:!1,$):me(h,_,T,!1,M,$)}function me(h,_,T,M,$,V){if(!_)throw Error("Invalid event type");const te=a($)?!!$.capture:!!$;let ve=st(h);if(ve||(h[on]=ve=new pe(h)),T=ve.add(_,T,M,te,V),T.proxy)return T;if(M=ye(),T.proxy=M,M.src=h,M.listener=T,h.addEventListener)k||($=te),$===void 0&&($=!1),h.addEventListener(_.toString(),M,$);else if(h.attachEvent)h.attachEvent(Te(_.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ye(){function h(T){return _.call(h.src,h.listener,T)}const _=vt;return h}function K(h,_,T,M,$){if(Array.isArray(_))for(var V=0;V<_.length;V++)K(h,_[V],T,M,$);else M=a(M)?!!M.capture:!!M,T=vr(T),h&&h[U]?(h=h.i,V=String(_).toString(),V in h.g&&(_=h.g[V],T=Qe(_,T,M,$),T>-1&&(L(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[V],h.h--)))):h&&(h=st(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Qe(_,T,M,$)),(T=h>-1?_[h]:null)&&qe(T))}function qe(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[U])je(_.i,h);else{var T=h.type,M=h.proxy;_.removeEventListener?_.removeEventListener(T,M,h.capture):_.detachEvent?_.detachEvent(Te(T),M):_.addListener&&_.removeListener&&_.removeListener(M),(T=st(_))?(je(T,h),T.h==0&&(T.src=null,_[on]=null)):L(h)}}}function Te(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function vt(h,_){if(h.da)h=!0;else{_=new B(_,this);const T=h.listener,M=h.ha||h.src;h.fa&&qe(h),h=T.call(M,_)}return h}function st(h){return h=h[on],h instanceof pe?h:null}var Bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function vr(h){return typeof h=="function"?h:(h[Bt]||(h[Bt]=function(_){return h.handleEvent(_)}),h[Bt])}function at(){O.call(this),this.i=new pe(this),this.M=this,this.G=null}f(at,O),at.prototype[U]=!0,at.prototype.removeEventListener=function(h,_,T,M){K(this,h,_,T,M)};function St(h,_){var T,M=h.G;if(M)for(T=[];M;M=M.G)T.push(M);if(h=h.M,M=_.type||_,typeof _=="string")_=new I(_,h);else if(_ instanceof I)_.target=_.target||h;else{var $=_;_=new I(M,h),le(_,$)}$=!0;let V,te;if(T)for(te=T.length-1;te>=0;te--)V=_.g=T[te],$=Zn(V,M,!0,_)&&$;if(V=_.g=h,$=Zn(V,M,!0,_)&&$,$=Zn(V,M,!1,_)&&$,T)for(te=0;te<T.length;te++)V=_.g=T[te],$=Zn(V,M,!1,_)&&$}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let M=0;M<T.length;M++)L(T[M]);delete h.g[_],h.h--}}this.G=null},at.prototype.J=function(h,_,T,M){return this.i.add(String(h),_,!1,T,M)},at.prototype.K=function(h,_,T,M){return this.i.add(String(h),_,!0,T,M)};function Zn(h,_,T,M){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let V=0;V<_.length;++V){const te=_[V];if(te&&!te.da&&te.capture==T){const ve=te.listener,Ot=te.ha||te.src;te.fa&&je(h.i,te),$=ve.call(Ot,M)!==!1&&$}}return $&&!M.defaultPrevented}function li(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:s.setTimeout(h,_||0)}function Ys(h){h.g=li(()=>{h.g=null,h.i&&(h.i=!1,Ys(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Ph extends O{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ys(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(h){O.call(this),this.h=h,this.g={}}f(zi,O);var ex=[];function tx(h){z(h.g,function(_,T){this.g.hasOwnProperty(T)&&qe(_)},h),h.g={}}zi.prototype.N=function(){zi.Z.N.call(this),tx(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Py=s.JSON.stringify,Y4=s.JSON.parse,X4=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function nx(){}function rx(){}var hu={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Cy(){I.call(this,"d")}f(Cy,I);function Iy(){I.call(this,"c")}f(Iy,I);var Ko={},ix=null;function Ch(){return ix=ix||new at}Ko.Ia="serverreachability";function ox(h){I.call(this,Ko.Ia,h)}f(ox,I);function du(h){const _=Ch();St(_,new ox(_))}Ko.STAT_EVENT="statevent";function sx(h,_){I.call(this,Ko.STAT_EVENT,h),this.stat=_}f(sx,I);function wn(h){const _=Ch();St(_,new sx(_,h))}Ko.Ja="timingevent";function ax(h,_){I.call(this,Ko.Ja,h),this.size=_}f(ax,I);function pu(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},_)}function mu(){this.g=!0}mu.prototype.ua=function(){this.g=!1};function J4(h,_,T,M,$,V){h.info(function(){if(h.g)if(V){var te="",ve=V.split("&");for(let Be=0;Be<ve.length;Be++){var Ot=ve[Be].split("=");if(Ot.length>1){const Ut=Ot[0];Ot=Ot[1];const Br=Ut.split("_");te=Br.length>=2&&Br[1]=="type"?te+(Ut+"="+Ot+"&"):te+(Ut+"=redacted&")}}}else te=null;else te=V;return"XMLHTTP REQ ("+M+") [attempt "+$+"]: "+_+`
`+T+`
`+te})}function Z4(h,_,T,M,$,V,te){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+$+"]: "+_+`
`+T+`
`+V+" "+te})}function Xs(h,_,T,M){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+tV(h,T)+(M?" "+M:"")})}function eV(h,_){h.info(function(){return"TIMEOUT: "+_})}mu.prototype.info=function(){};function tV(h,_){if(!h.g)return _;if(!_)return null;try{const V=JSON.parse(_);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var T=V[h];if(!(T.length<2)){var M=T[1];if(Array.isArray(M)&&!(M.length<1)){var $=M[0];if($!="noop"&&$!="stop"&&$!="close")for(let te=1;te<M.length;te++)M[te]=""}}}}return Py(V)}catch{return _}}var Ih={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lx={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ux;function Oy(){}f(Oy,nx),Oy.prototype.g=function(){return new XMLHttpRequest},ux=new Oy;function gu(h){return encodeURIComponent(String(h))}function nV(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function Wi(h,_,T,M){this.j=h,this.i=_,this.l=T,this.S=M||1,this.V=new zi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new cx}function cx(){this.i=null,this.g="",this.h=!1}var fx={},Ny={};function Ry(h,_,T){h.M=1,h.A=Nh(Vr(_)),h.u=T,h.R=!0,hx(h,null)}function hx(h,_){h.F=Date.now(),Oh(h),h.B=Vr(h.A);var T=h.B,M=h.S;Array.isArray(M)||(M=[String(M)]),Tx(T.i,"t",M),h.C=0,T=h.j.L,h.h=new cx,h.g=zx(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Ph(u(h.Y,h,h.g),h.P)),_=h.V,T=h.g,M=h.ba;var $="readystatechange";Array.isArray($)||($&&(ex[0]=$.toString()),$=ex);for(let V=0;V<$.length;V++){const te=re(T,$[V],M||_.handleEvent,!1,_.h||_);if(!te)break;_.g[te.key]=te}_=h.J?ee(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),du(),J4(h.i,h.v,h.B,h.l,h.S,h.u)}Wi.prototype.ba=function(h){h=h.target;const _=this.O;_&&Gi(h)==3?_.j():this.Y(h)},Wi.prototype.Y=function(h){try{if(h==this.g)e:{const ve=Gi(this.g),Ot=this.g.ya(),Be=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||Rx(this.g)))){this.K||ve!=4||Ot==7||(Ot==8||Be<=0?du(3):du(2)),ky(this);var _=this.g.ca();this.X=_;var T=rV(this);if(this.o=_==200,Z4(this.i,this.v,this.B,this.l,this.S,ve,_),this.o){if(this.U&&!this.L){t:{if(this.g){var M,$=this.g;if((M=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(M)){var V=M;break t}}V=null}if(h=V)Xs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,My(this,h);else{this.o=!1,this.m=3,wn(12),Qo(this),yu(this);break e}}if(this.R){h=!0;let Ut;for(;!this.K&&this.C<T.length;)if(Ut=iV(this,T),Ut==Ny){ve==4&&(this.m=4,wn(14),h=!1),Xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==fx){this.m=4,wn(15),Xs(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Xs(this.i,this.l,Ut,null),My(this,Ut);if(dx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||T.length!=0||this.h.h||(this.m=1,wn(16),h=!1),this.o=this.o&&h,!h)Xs(this.i,this.l,T,"[Invalid Chunked Response]"),Qo(this),yu(this);else if(T.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Uy(te),te.P=!0,wn(11))}}else Xs(this.i,this.l,T,null),My(this,T);ve==4&&Qo(this),this.o&&!this.K&&(ve==4?Fx(this.j,this):(this.o=!1,Oh(this)))}else vV(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,wn(12)):(this.m=0,wn(13)),Qo(this),yu(this)}}}catch{}finally{}};function rV(h){if(!dx(h))return h.g.la();const _=Rx(h.g);if(_==="")return"";let T="";const M=_.length,$=Gi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Qo(h),yu(h),"";h.h.i=new s.TextDecoder}for(let V=0;V<M;V++)h.h.h=!0,T+=h.h.i.decode(_[V],{stream:!($&&V==M-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function dx(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function iV(h,_){var T=h.C,M=_.indexOf(`
`,T);return M==-1?Ny:(T=Number(_.substring(T,M)),isNaN(T)?fx:(M+=1,M+T>_.length?Ny:(_=_.slice(M,M+T),h.C=M+T,_)))}Wi.prototype.cancel=function(){this.K=!0,Qo(this)};function Oh(h){h.T=Date.now()+h.H,px(h,h.H)}function px(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pu(u(h.aa,h),_)}function ky(h){h.D&&(s.clearTimeout(h.D),h.D=null)}Wi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(eV(this.i,this.B),this.M!=2&&(du(),wn(17)),Qo(this),this.m=2,yu(this)):px(this,this.T-h)};function yu(h){h.j.I==0||h.K||Fx(h.j,h)}function Qo(h){ky(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,tx(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function My(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Dy(T.h,h))){if(!h.L&&Dy(T.h,h)&&T.I==3){try{var M=T.Ba.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var $=M;if($[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)jh(T),Mh(T);else break e;By(T),wn(18)}}else T.xa=$[1],0<T.xa-T.K&&$[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=pu(u(T.Va,T),6e3));yx(T.h)<=1&&T.ta&&(T.ta=void 0)}else Xo(T,11)}else if((h.L||T.g==h)&&jh(T),!R(_))for($=T.Ba.g.parse(_),_=0;_<$.length;_++){let Be=$[_];const Ut=Be[0];if(!(Ut<=T.K))if(T.K=Ut,Be=Be[1],T.I==2)if(Be[0]=="c"){T.M=Be[1],T.ba=Be[2];const Br=Be[3];Br!=null&&(T.ka=Br,T.j.info("VER="+T.ka));const Jo=Be[4];Jo!=null&&(T.za=Jo,T.j.info("SVER="+T.za));const Ki=Be[5];Ki!=null&&typeof Ki=="number"&&Ki>0&&(M=1.5*Ki,T.O=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const Qi=h.g;if(Qi){const Lh=Qi.g?Qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lh){var V=M.h;V.g||Lh.indexOf("spdy")==-1&&Lh.indexOf("quic")==-1&&Lh.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(jy(V,V.h),V.h=null))}if(M.G){const zy=Qi.g?Qi.g.getResponseHeader("X-HTTP-Session-Id"):null;zy&&(M.wa=zy,Ye(M.J,M.G,zy))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),M=T;var te=h;if(M.na=Ux(M,M.L?M.ba:null,M.W),te.L){vx(M.h,te);var ve=te,Ot=M.O;Ot&&(ve.H=Ot),ve.D&&(ky(ve),Oh(ve)),M.g=te}else $x(M);T.i.length>0&&Dh(T)}else Be[0]!="stop"&&Be[0]!="close"||Xo(T,7);else T.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Xo(T,7):Vy(T):Be[0]!="noop"&&T.l&&T.l.qa(Be),T.A=0)}}du(4)}catch{}}var oV=class{constructor(h,_){this.g=h,this.map=_}};function mx(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gx(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function yx(h){return h.h?1:h.g?h.g.size:0}function Dy(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function jy(h,_){h.g?h.g.add(_):h.h=_}function vx(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}mx.prototype.cancel=function(){if(this.i=_x(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _x(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return p(h.i)}var wx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sV(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const M=h[T].indexOf("=");let $,V=null;M>=0?($=h[T].substring(0,M),V=h[T].substring(M+1)):$=h[T],_($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function qi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof qi?(this.l=h.l,vu(this,h.j),this.o=h.o,this.g=h.g,_u(this,h.u),this.h=h.h,$y(this,Ax(h.i)),this.m=h.m):h&&(_=String(h).match(wx))?(this.l=!1,vu(this,_[1]||"",!0),this.o=wu(_[2]||""),this.g=wu(_[3]||"",!0),_u(this,_[4]),this.h=wu(_[5]||"",!0),$y(this,_[6]||"",!0),this.m=wu(_[7]||"")):(this.l=!1,this.i=new Eu(null,this.l))}qi.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(bu(_,bx,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(bu(_,bx,!0),"@"),h.push(gu(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(bu(T,T.charAt(0)=="/"?uV:lV,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",bu(T,fV)),h.join("")},qi.prototype.resolve=function(h){const _=Vr(this);let T=!!h.j;T?vu(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var M=h.h;if(T)_u(_,h.u);else if(T=!!h.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var $=_.h.lastIndexOf("/");$!=-1&&(M=_.h.slice(0,$+1)+M)}if($=M,$==".."||$==".")M="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){M=$.lastIndexOf("/",0)==0,$=$.split("/");const V=[];for(let te=0;te<$.length;){const ve=$[te++];ve=="."?M&&te==$.length&&V.push(""):ve==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),M&&te==$.length&&V.push("")):(V.push(ve),M=!0)}M=V.join("/")}else M=$}return T?_.h=M:T=h.i.toString()!=="",T?$y(_,Ax(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Vr(h){return new qi(h)}function vu(h,_,T){h.j=T?wu(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function _u(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function $y(h,_,T){_ instanceof Eu?(h.i=_,hV(h.i,h.l)):(T||(_=bu(_,cV)),h.i=new Eu(_,h.l))}function Ye(h,_,T){h.i.set(_,T)}function Nh(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function wu(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function bu(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,aV),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function aV(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var bx=/[#\/\?@]/g,lV=/[#\?:]/g,uV=/[#\?]/g,cV=/[#\?@]/g,fV=/#/g;function Eu(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Yo(h){h.g||(h.g=new Map,h.h=0,h.i&&sV(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Eu.prototype,t.add=function(h,_){Yo(this),this.i=null,h=Js(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Ex(h,_){Yo(h),_=Js(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Sx(h,_){return Yo(h),_=Js(h,_),h.g.has(_)}t.forEach=function(h,_){Yo(this),this.g.forEach(function(T,M){T.forEach(function($){h.call(_,$,M,this)},this)},this)};function xx(h,_){Yo(h);let T=[];if(typeof _=="string")Sx(h,_)&&(T=T.concat(h.g.get(Js(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return Yo(this),this.i=null,h=Js(this,h),Sx(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=xx(this,h),h.length>0?String(h[0]):_):_};function Tx(h,_,T){Ex(h,_),T.length>0&&(h.i=null,h.g.set(Js(h,_),p(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let M=0;M<_.length;M++){var T=_[M];const $=gu(T);T=xx(this,T);for(let V=0;V<T.length;V++){let te=$;T[V]!==""&&(te+="="+gu(T[V])),h.push(te)}}return this.i=h.join("&")};function Ax(h){const _=new Eu;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Js(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function hV(h,_){_&&!h.j&&(Yo(h),h.i=null,h.g.forEach(function(T,M){const $=M.toLowerCase();M!=$&&(Ex(this,M),Tx(this,$,T))},h)),h.j=_}function dV(h,_){const T=new mu;if(s.Image){const M=new Image;M.onload=c(Hi,T,"TestLoadImage: loaded",!0,_,M),M.onerror=c(Hi,T,"TestLoadImage: error",!1,_,M),M.onabort=c(Hi,T,"TestLoadImage: abort",!1,_,M),M.ontimeout=c(Hi,T,"TestLoadImage: timeout",!1,_,M),s.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else _(!1)}function pV(h,_){const T=new mu,M=new AbortController,$=setTimeout(()=>{M.abort(),Hi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:M.signal}).then(V=>{clearTimeout($),V.ok?Hi(T,"TestPingServer: ok",!0,_):Hi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),Hi(T,"TestPingServer: error",!1,_)})}function Hi(h,_,T,M,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),M(T)}catch{}}function mV(){this.g=new X4}function Ly(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Ly,nx),Ly.prototype.g=function(){return new Rh(this.i,this.h)};function Rh(h,_){at.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Rh,at),t=Rh.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,xu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||s).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Su(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Px(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Px(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Su(this):xu(this),this.readyState==3&&Px(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Su(this))},t.Na=function(h){this.g&&(this.response=h,Su(this))},t.ga=function(){this.g&&Su(this)};function Su(h){h.readyState=4,h.l=null,h.j=null,h.B=null,xu(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function xu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Cx(h){let _="";return z(h,function(T,M){_+=M,_+=":",_+=T,_+=`\r
`}),_}function Fy(h,_,T){e:{for(M in T){var M=!1;break e}M=!0}M||(T=Cx(T),typeof h=="string"?T!=null&&gu(T):Ye(h,_,T))}function dt(h){at.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(dt,at);var gV=/^https?$/i,yV=["POST","PUT"];t=dt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ux.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(V){Ix(this,V);return}if(h=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var $ in M)T.set($,M[$]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const V of M.keys())T.set(V,M.get(V));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(V=>V.toLowerCase()=="content-type"),$=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(yV,_,void 0)>=0)||M||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,te]of T)this.g.setRequestHeader(V,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){Ix(this,V)}};function Ix(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Ox(h),kh(h)}function Ox(h){h.A||(h.A=!0,St(h,"complete"),St(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,St(this,"complete"),St(this,"abort"),kh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kh(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Nx(this):this.Xa())},t.Xa=function(){Nx(this)};function Nx(h){if(h.h&&typeof o<"u"){if(h.v&&Gi(h)==4)setTimeout(h.Ca.bind(h),0);else if(St(h,"readystatechange"),Gi(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var M;if(M=V===0){let te=String(h.D).match(wx)[1]||null;!te&&s.self&&s.self.location&&(te=s.self.location.protocol.slice(0,-1)),M=!gV.test(te?te.toLowerCase():"")}T=M}if(T)St(h,"complete"),St(h,"success");else{h.o=6;try{var $=Gi(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",Ox(h)}}finally{kh(h)}}}}function kh(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||St(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Y4(_)}};function Rx(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function vV(h){const _={};h=(h.g&&Gi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(R(h[M]))continue;var T=nV(h[M]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const V=_[$]||[];_[$]=V,V.push(T)}Q(_,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tu(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function kx(h){this.za=0,this.i=[],this.j=new mu,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Tu("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Tu("baseRetryDelayMs",5e3,h),this.Za=Tu("retryDelaySeedMs",1e4,h),this.Ta=Tu("forwardChannelMaxRetries",2,h),this.va=Tu("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new mx(h&&h.concurrentRequestLimit),this.Ba=new mV,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=kx.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,M){wn(0),this.W=h,this.H=_||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.J=Ux(this,null,this.W),Dh(this)};function Vy(h){if(Mx(h),h.I==3){var _=h.V++,T=Vr(h.J);if(Ye(T,"SID",h.M),Ye(T,"RID",_),Ye(T,"TYPE","terminate"),Au(h,T),_=new Wi(h,h.j,_),_.M=2,_.A=Nh(Vr(T)),T=!1,s.navigator&&s.navigator.sendBeacon)try{T=s.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&s.Image&&(new Image().src=_.A,T=!0),T||(_.g=zx(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Oh(_)}Bx(h)}function Mh(h){h.g&&(Uy(h),h.g.cancel(),h.g=null)}function Mx(h){Mh(h),h.v&&(s.clearTimeout(h.v),h.v=null),jh(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Dh(h){if(!gx(h.h)&&!h.m){h.m=!0;var _=h.Ea;S||x(),A||(S(),A=!0),E.add(_,h),h.D=0}}function _V(h,_){return yx(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pu(u(h.Ea,h,_),Vx(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new Wi(this,this.j,h);let V=this.o;if(this.U&&(V?(V=ee(V),le(V,this.U)):V=this.U),this.u!==null||this.R||($.J=V,V=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=jx(this,$,_),T=Vr(this.J),Ye(T,"RID",h),Ye(T,"CVER",22),this.G&&Ye(T,"X-HTTP-Session-Id",this.G),Au(this,T),V&&(this.R?_="headers="+gu(Cx(V))+"&"+_:this.u&&Fy(T,this.u,V)),jy(this.h,$),this.Ra&&Ye(T,"TYPE","init"),this.S?(Ye(T,"$req",_),Ye(T,"SID","null"),$.U=!0,Ry($,T,null)):Ry($,T,_),this.I=2}}else this.I==3&&(h?Dx(this,h):this.i.length==0||gx(this.h)||Dx(this))};function Dx(h,_){var T;_?T=_.l:T=h.V++;const M=Vr(h.J);Ye(M,"SID",h.M),Ye(M,"RID",T),Ye(M,"AID",h.K),Au(h,M),h.u&&h.o&&Fy(M,h.u,h.o),T=new Wi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=jx(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),jy(h.h,T),Ry(T,M,_)}function Au(h,_){h.H&&z(h.H,function(T,M){Ye(_,M,T)}),h.l&&z({},function(T,M){Ye(_,M,T)})}function jx(h,_,T){T=Math.min(h.i.length,T);const M=h.l?u(h.l.Ka,h.l,h):null;e:{var $=h.i;let ve=-1;for(;;){const Ot=["count="+T];ve==-1?T>0?(ve=$[0].g,Ot.push("ofs="+ve)):ve=0:Ot.push("ofs="+ve);let Be=!0;for(let Ut=0;Ut<T;Ut++){var V=$[Ut].g;const Br=$[Ut].map;if(V-=ve,V<0)ve=Math.max(0,$[Ut].g-100),Be=!1;else try{V="req"+V+"_"||"";try{var te=Br instanceof Map?Br:Object.entries(Br);for(const[Jo,Ki]of te){let Qi=Ki;a(Ki)&&(Qi=Py(Ki)),Ot.push(V+Jo+"="+encodeURIComponent(Qi))}}catch(Jo){throw Ot.push(V+"type="+encodeURIComponent("_badmap")),Jo}}catch{M&&M(Br)}}if(Be){te=Ot.join("&");break e}}te=void 0}return h=h.i.splice(0,T),_.G=h,te}function $x(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;S||x(),A||(S(),A=!0),E.add(_,h),h.A=0}}function By(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pu(u(h.Da,h),Vx(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Lx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pu(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wn(10),Mh(this),Lx(this))};function Uy(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function Lx(h){h.g=new Wi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Vr(h.na);Ye(_,"RID","rpc"),Ye(_,"SID",h.M),Ye(_,"AID",h.K),Ye(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(_,"TO",h.ia),Ye(_,"TYPE","xmlhttp"),Au(h,_),h.u&&h.o&&Fy(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Nh(Vr(_)),T.u=null,T.R=!0,hx(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Mh(this),By(this),wn(19))};function jh(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function Fx(h,_){var T=null;if(h.g==_){jh(h),Uy(h),h.g=null;var M=2}else if(Dy(h.h,_))T=_.G,vx(h.h,_),M=1;else return;if(h.I!=0){if(_.o)if(M==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var $=h.D;M=Ch(),St(M,new ax(M,T)),Dh(h)}else $x(h);else if($=_.m,$==3||$==0&&_.X>0||!(M==1&&_V(h,_)||M==2&&By(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),$){case 1:Xo(h,5);break;case 4:Xo(h,10);break;case 3:Xo(h,6);break;default:Xo(h,2)}}}function Vx(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Xo(h,_){if(h.j.info("Error code "+_),_==2){var T=u(h.bb,h),M=h.Ua;const $=!M;M=new qi(M||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||vu(M,"https"),Nh(M),$?dV(M.toString(),T):pV(M.toString(),T)}else wn(2);h.I=0,h.l&&h.l.pa(_),Bx(h),Mx(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function Bx(h){if(h.I=0,h.ja=[],h.l){const _=_x(h.h);(_.length!=0||h.i.length!=0)&&(m(h.ja,_),m(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function Ux(h,_,T){var M=T instanceof qi?Vr(T):new qi(T);if(M.g!="")_&&(M.g=_+"."+M.g),_u(M,M.u);else{var $=s.location;M=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const V=new qi(null);M&&vu(V,M),_&&(V.g=_),$&&_u(V,$),T&&(V.h=T),M=V}return T=h.G,_=h.wa,T&&_&&Ye(M,T,_),Ye(M,"VER",h.ka),Au(h,M),M}function zx(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new dt(new Ly({ab:T})):new dt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wx(){}t=Wx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $h(){}$h.prototype.g=function(h,_){return new Bn(h,_)};function Bn(h,_){at.call(this),this.g=new kx(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!R(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Zs(this)}f(Bn,at),Bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){Vy(this.g)},Bn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Py(h),h=T);_.i.push(new oV(_.Ya++,h)),_.I==3&&Dh(_)},Bn.prototype.N=function(){this.g.l=null,delete this.j,Vy(this.g),delete this.g,Bn.Z.N.call(this)};function qx(h){Cy.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}f(qx,Cy);function Hx(){Iy.call(this),this.status=1}f(Hx,Iy);function Zs(h){this.g=h}f(Zs,Wx),Zs.prototype.ra=function(){St(this.g,"a")},Zs.prototype.qa=function(h){St(this.g,new qx(h))},Zs.prototype.pa=function(h){St(this.g,new Hx)},Zs.prototype.oa=function(){St(this.g,"b")},$h.prototype.createWebChannel=$h.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,fM=function(){return new $h},cM=function(){return Ch()},uM=Ko,v0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ih.NO_ERROR=0,Ih.TIMEOUT=8,Ih.HTTP_ERROR=6,Ld=Ih,lx.COMPLETE="complete",lM=lx,rx.EventType=hu,hu.OPEN="a",hu.CLOSE="b",hu.ERROR="c",hu.MESSAGE="d",at.prototype.listen=at.prototype.J,rc=rx,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,aM=dt}).apply(typeof rd<"u"?rd:typeof self<"u"?self:typeof window<"u"?window:{});const xA="@firebase/firestore",TA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new OE("@firebase/firestore");function la(){return Rs.logLevel}function oe(t,...e){if(Rs.logLevel<=Ae.DEBUG){const n=e.map(RE);Rs.debug(`Firestore (${zl}): ${t}`,...n)}}function Ii(t,...e){if(Rs.logLevel<=Ae.ERROR){const n=e.map(RE);Rs.error(`Firestore (${zl}): ${t}`,...n)}}function nl(t,...e){if(Rs.logLevel<=Ae.WARN){const n=e.map(RE);Rs.warn(`Firestore (${zl}): ${t}`,...n)}}function RE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hM(t,r,n)}function hM(t,e,n){let r=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ii(r),new Error(r)}function ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||hM(e,i,r)}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Ul{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class j5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $5{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ws,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ws)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new dM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class L5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new L5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tM(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const r=o=>{o.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=B5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function _0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Ev(i)===Ev(o)?Pe(i,o):Ev(i)?1:-1}return Pe(t.length,e.length)}const U5=55296,z5=57343;function Ev(t){const e=t.charCodeAt(0);return e>=U5&&e<=z5}function rl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="__name__";class Hr{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Hr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Pe(e.length,n.length)}static compareSegments(e,n){const r=Hr.isNumericId(e),i=Hr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Hr.extractNumericId(e).compare(Hr.extractNumericId(n)):_0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class rt extends Hr{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const W5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Hr{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return W5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PA}static keyField(){return new gn([PA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ie(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ie(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(rt.fromString(e))}static fromName(e){return new ue(rt.fromString(e).popFirst(5))}static empty(){return new ue(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t,e,n){if(!n)throw new ie(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H5(t,e,n,r){if(e===!0&&r===!0)throw new ie(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CA(t){if(ue.isDocumentKey(t))throw new ie(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function Ma(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dg(t);throw new ie(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function G5(t,e){if(e<=0)throw new ie(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function rh(t,e){if(!mM(t))throw new ie(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ie(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=-62135596800,OA=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*OA);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IA)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OA}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rh(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ct("string",it._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new it(0,0))}static max(){return new he(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=-1;function K5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Oo(i,ue.empty(),e)}function Q5(t){return new Oo(t.readTime,t.key,nf)}class Oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oo(he.min(),ue.empty(),nf)}static max(){return new Oo(he.max(),ue.empty(),nf)}}function Y5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==X5)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new H((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Z5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=-1;function gg(t){return t==null}function Ep(t){return t===0&&1/t==-1/0}function t9(t){return typeof t=="number"&&Number.isInteger(t)&&!Ep(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="";function n9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NA(e)),e=r9(t.get(n),e);return NA(e)}function r9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case gM:n+="";break;default:n+=o}}return n}function NA(t){return t+gM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yt=class w0{constructor(e,n){this.comparator=e,this.root=n||So.EMPTY}insert(e,n){return new w0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,So.BLACK,null,null))}remove(e){return new w0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,So.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}},id=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},So=class ci{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ci.RED,this.left=i??ci.EMPTY,this.right=o??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ci(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ci.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}};So.EMPTY=null,So.RED=!0,So.BLACK=!1;So.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new So(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kA(this.data.getIterator())}getIteratorFrom(e){return new kA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class kA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new so([])}unionWith(e){let n=new Lt(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new so(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vM("Invalid base64 string: "+o):o}}(e);return new rn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const i9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=i9.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="server_timestamp",wM="__type__",bM="__previous_value__",EM="__local_write_time__";function kE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wM])==null?void 0:r.stringValue)===_M}function yg(t){const e=t.mapValue.fields[bM];return kE(e)?yg(e):e}function rf(t){const e=No(t.mapValue.fields[EM].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Sp="(default)";class of{constructor(e,n){this.projectId=e,this.database=n||Sp}static empty(){return new of("","")}get isDefaultDatabase(){return this.database===Sp}isEqual(e){return e instanceof of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="__type__",s9="__max__",od={mapValue:{}},xM="__vector__",xp="value";function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kE(t)?4:l9(t)?9007199254740991:a9(t)?10:11:de(28295,{value:t})}function ii(t,e){if(t===e)return!0;const n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rf(t).isEqual(rf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=No(i.timestampValue),a=No(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ro(i.bytesValue).isEqual(Ro(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=_t(i.doubleValue),a=_t(o.doubleValue);return s===a?Ep(s)===Ep(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(RA(s)!==RA(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ii(s[l],a[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function sf(t,e){return(t.values||[]).find(n=>ii(n,e))!==void 0}function il(t,e){if(t===e)return 0;const n=ko(t),r=ko(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=_t(o.integerValue||o.doubleValue),l=_t(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return MA(t.timestampValue,e.timestampValue);case 4:return MA(rf(t),rf(e));case 5:return _0(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ro(o),l=Ro(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Pe(a[u],l[u]);if(c!==0)return c}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Pe(_t(o.latitude),_t(s.latitude));return a!==0?a:Pe(_t(o.longitude),_t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var d,p,m,g;const a=o.fields||{},l=s.fields||{},u=(d=a[xp])==null?void 0:d.arrayValue,c=(p=l[xp])==null?void 0:p.arrayValue,f=Pe(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((g=c==null?void 0:c.values)==null?void 0:g.length)||0);return f!==0?f:DA(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===od.mapValue&&s===od.mapValue)return 0;if(o===od.mapValue)return 1;if(s===od.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=_0(l[f],c[f]);if(d!==0)return d;const p=il(a[l[f]],u[c[f]]);if(p!==0)return p}return Pe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function MA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=No(t),r=No(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function DA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=il(n[i],r[i]);if(o)return o}return Pe(n.length,r.length)}function ol(t){return b0(t)}function b0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=No(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ro(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=b0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${b0(n.fields[s])}`;return i+"}"}(t.mapValue):de(61005,{value:t})}function Fd(t){switch(ko(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yg(t);return e?16+Fd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Fd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ql(r.fields,(o,s)=>{i+=o.length+Fd(s)}),i}(t.mapValue);default:throw de(13486,{value:t})}}function jA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E0(t){return!!t&&"integerValue"in t}function ME(t){return!!t&&"arrayValue"in t}function $A(t){return!!t&&"nullValue"in t}function LA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sv(t){return!!t&&"mapValue"in t}function a9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SM])==null?void 0:r.stringValue)===xM}function vc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ql(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return{...t}}function l9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===s9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=gn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=vc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ql(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Qr(vc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,he.min(),he.min(),he.min(),Qr.empty(),0)}static newFoundDocument(e,n,r,i){return new hn(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new hn(e,2,n,he.min(),he.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,he.min(),he.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.position=e,this.inclusive=n}}function FA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=il(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n="asc"){this.field=e,this.dir=n}}function u9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{}class Pt extends TM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f9(e,n,r):n==="array-contains"?new p9(e,r):n==="in"?new m9(e,r):n==="not-in"?new g9(e,r):n==="array-contains-any"?new y9(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h9(e,r):new d9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(il(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends TM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $r(e,n)}matches(e){return AM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AM(t){return t.op==="and"}function PM(t){return c9(t)&&AM(t)}function c9(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function S0(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+ol(t.value);if(PM(t))return t.filters.map(e=>S0(e)).join(",");{const e=t.filters.map(n=>S0(n)).join(",");return`${t.op}(${e})`}}function CM(t,e){return t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&ii(r.value,i.value)}(t,e):t instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&CM(s,i.filters[a]),!0):!1}(t,e):void de(19439)}function IM(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(IM).join(" ,")+"}"}(t):"Filter"}class f9 extends Pt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class h9 extends Pt{constructor(e,n){super(e,"in",n),this.keys=OM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d9 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=OM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class p9 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ME(n)&&sf(n.arrayValue,this.value)}}class m9 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sf(this.value.arrayValue,n)}}class g9 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sf(this.value.arrayValue,n)}}class y9 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ME(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function BA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new v9(t,e,n,r,i,o,s)}function DE(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>S0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),gg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ol(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ol(r)).join(",")),e.Te=n}return e.Te}function jE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VA(t.startAt,e.startAt)&&VA(t.endAt,e.endAt)}function x0(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _9(t,e,n,r,i,o,s,a){return new Hl(t,e,n,r,i,o,s,a)}function $E(t){return new Hl(t)}function UA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NM(t){return t.collectionGroup!==null}function _c(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Lt(gn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new af(o,r))}),n.has(gn.keyField().canonicalString())||e.Ie.push(new af(gn.keyField(),r))}return e.Ie}function Zr(t){const e=Oe(t);return e.Ee||(e.Ee=w9(e,_c(t))),e.Ee}function w9(t,e){if(t.limitType==="F")return BA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new af(i.field,o)});const n=t.endAt?new Tp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tp(t.startAt.position,t.startAt.inclusive):null;return BA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function T0(t,e){const n=t.filters.concat([e]);return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ap(t,e,n){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vg(t,e){return jE(Zr(t),Zr(e))&&t.limitType===e.limitType}function RM(t){return`${DE(Zr(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IM(i)).join(", ")}]`),gg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ol(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ol(i)).join(",")),`Target(${r})`}(Zr(t))}; limitType=${t.limitType})`}function _g(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of _c(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=FA(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,_c(r),i)||r.endAt&&!function(s,a,l){const u=FA(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,_c(r),i))}(t,e)}function b9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kM(t){return(e,n)=>{let r=!1;for(const i of _c(t)){const o=E9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function E9(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?il(l,u):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return yM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=new Yt(ue.comparator);function Mo(){return S9}const MM=new Yt(ue.comparator);function ic(...t){let e=MM;for(const n of t)e=e.insert(n.key,n);return e}function x9(t){let e=MM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cs(){return wc()}function DM(){return wc()}function wc(){return new Ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const T9=new Lt(ue.comparator);function Ne(...t){let e=T9;for(const n of t)e=e.add(n);return e}const A9=new Lt(Pe);function P9(){return A9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ep(e)?"-0":e}}function jM(t){return{integerValue:""+t}}function C9(t,e){return t9(e)?jM(e):LE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this._=void 0}}function I9(t,e,n){return t instanceof A0?function(i,o){const s={fields:{[wM]:{stringValue:_M},[EM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&kE(o)&&(o=yg(o)),o&&(s.fields[bM]=o),{mapValue:s}}(n,e):t instanceof Pp?$M(t,e):t instanceof Cp?LM(t,e):function(i,o){const s=N9(i,o),a=zA(s)+zA(i.Ae);return E0(s)&&E0(i.Ae)?jM(a):LE(i.serializer,a)}(t,e)}function O9(t,e,n){return t instanceof Pp?$M(t,e):t instanceof Cp?LM(t,e):n}function N9(t,e){return t instanceof P0?function(r){return E0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class A0 extends wg{}class Pp extends wg{constructor(e){super(),this.elements=e}}function $M(t,e){const n=FM(e);for(const r of t.elements)n.some(i=>ii(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cp extends wg{constructor(e){super(),this.elements=e}}function LM(t,e){let n=FM(e);for(const r of t.elements)n=n.filter(i=>!ii(i,r));return{arrayValue:{values:n}}}class P0 extends wg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zA(t){return _t(t.integerValue||t.doubleValue)}function FM(t){return ME(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function R9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pp&&i instanceof Pp||r instanceof Cp&&i instanceof Cp?rl(r.elements,i.elements,ii):r instanceof P0&&i instanceof P0?ii(r.Ae,i.Ae):r instanceof A0&&i instanceof A0}(t.transform,e.transform)}class bs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class FE{}function VM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M9(t.key,bs.none()):new VE(t.key,t.data,bs.none());{const n=t.data,r=Qr.empty();let i=new Lt(gn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new bg(t.key,r,new so(i.toArray()),bs.none())}}function k9(t,e,n){t instanceof VE?function(i,o,s){const a=i.value.clone(),l=qA(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bg?function(i,o,s){if(!Vd(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=qA(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(BM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bc(t,e,n,r){return t instanceof VE?function(o,s,a,l){if(!Vd(o.precondition,s))return a;const u=o.value.clone(),c=HA(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bg?function(o,s,a,l){if(!Vd(o.precondition,s))return a;const u=HA(o.fieldTransforms,l,s),c=s.data;return c.setAll(BM(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Vd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function WA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rl(r,i,(o,s)=>R9(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class VE extends FE{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bg extends FE{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qA(t,e,n){const r=new Map;ft(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,O9(s,a,n[i]))}return r}function HA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,I9(o,s,e))}return r}class M9 extends FE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&k9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=VM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(n,r)=>WA(n,r))&&rl(this.baseMutations,e.baseMutations,(n,r)=>WA(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ie;function UM(t){if(t===void 0)return Ii("GRPC error has no .code"),X.UNKNOWN;switch(t){case xt.OK:return X.OK;case xt.CANCELLED:return X.CANCELLED;case xt.UNKNOWN:return X.UNKNOWN;case xt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case xt.INTERNAL:return X.INTERNAL;case xt.UNAVAILABLE:return X.UNAVAILABLE;case xt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case xt.NOT_FOUND:return X.NOT_FOUND;case xt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case xt.ABORTED:return X.ABORTED;case xt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case xt.DATA_LOSS:return X.DATA_LOSS;default:return de(39323,{code:t})}}(Ie=xt||(xt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new Eo([4294967295,4294967295],0);function GA(t){const e=L9().encode(t),n=new sM;return n.update(e),new Uint8Array(n.digest())}function KA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Eo([n,r],0),new Eo([i,o],0)]}class BE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Eo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Eo.fromNumber(r)));return i.compare(F9)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GA(e),[r,i]=KA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new BE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=GA(e),[r,i]=KA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ih.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eg(he.min(),i,new Yt(Pe),Mo(),Ne())}}class ih{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ih(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class zM{constructor(e,n){this.targetId=e,this.Ce=n}}class WM{constructor(e,n,r=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QA{constructor(){this.ve=0,this.Fe=YA(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de(38017,{changeType:o})}}),new ih(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=YA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mo(),this.Je=sd(),this.He=sd(),this.Ye=new Yt(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(x0(o))if(r===0){const s=new ue(o.path);this.et(n,s,hn.newNoDocument(s,he.min()))}else ft(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ro(r).toUint8Array()}catch(l){if(l instanceof vM)return nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new BE(s,i,o)}catch(l){return nl(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&x0(a.target)){const l=new ue(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,hn.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Ne();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Eg(e,n,this.Ye,this.je,r);return this.je=Mo(),this.Je=sd(),this.He=sd(),this.Ye=new Yt(Pe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new QA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QA),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sd(){return new Yt(ue.comparator)}function YA(){return new Yt(ue.comparator)}const B9={asc:"ASCENDING",desc:"DESCENDING"},U9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z9={and:"AND",or:"OR"};class W9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C0(t,e){return t.useProto3Json||gg(e)?e:{value:e}}function I0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Da(t){return ft(!!t,49232),he.fromTimestamp(function(n){const r=No(n);return new it(r.seconds,r.nanos)}(t))}function HM(t,e){return O0(t,e).canonicalString()}function O0(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GM(t){const e=rt.fromString(t);return ft(JM(e),10190,{key:e.toString()}),e}function xv(t,e){const n=GM(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(QM(n))}function KM(t,e){return HM(t.databaseId,e)}function q9(t){const e=GM(t);return e.length===4?rt.emptyPath():QM(e)}function XA(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QM(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function H9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ft(c===void 0||typeof c=="string",58123),rn.fromBase64String(c||"")):(ft(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),rn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?X.UNKNOWN:UM(u.code);return new ie(c,u.message||"")}(s);n=new WM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xv(t,r.document.name),o=Da(r.document.updateTime),s=r.document.createTime?Da(r.document.createTime):he.min(),a=new Qr({mapValue:{fields:r.document.fields}}),l=hn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Bd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xv(t,r.document),o=r.readTime?Da(r.readTime):he.min(),s=hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Bd([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xv(t,r.document),o=r.removedTargetIds||[];n=new Bd([],o,i,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new $9(i,o),a=r.targetId;n=new zM(a,s)}}return n}function G9(t,e){return{documents:[KM(t,e.path)]}}function K9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KM(t,i);const o=function(u){if(u.length!==0)return XM($r.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:ca(d.field),direction:X9(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=C0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function Q9(t){let e=q9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ft(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=YM(f);return d instanceof $r&&PM(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(m){return new af(fa(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,gg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Tp(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Tp(p,d)}(n.endAt)),_9(e,i,s,o,a,"F",l,u)}function Y9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fa(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fa(n.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fa(n.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fa(n.unaryFilter.field);return Pt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(fa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>YM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function X9(t){return B9[t]}function J9(t){return U9[t]}function Z9(t){return z9[t]}function ca(t){return{fieldPath:t.canonicalString()}}function fa(t){return gn.fromServerFormat(t.fieldPath)}function XM(t){return t instanceof Pt?function(n){if(n.op==="=="){if(LA(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NAN"}};if($A(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LA(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NAN"}};if($A(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(n.field),op:J9(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(i=>XM(i));return r.length===1?r[0]:{compositeFilter:{op:Z9(n.op),filters:r}}}(t):de(54877,{filter:t})}function JM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r,i,o=he.min(),s=he.min(),a=rn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.yt=e}}function tz(t){const e=Q9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.Cn=new rz}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Oo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class rz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZM=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(ZM,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="LruGarbageCollector",iz=1048576;function eP([t,e],[n,r]){const i=Pe(t,n);return i===0?Pe(e,r):i}class oz{constructor(e){this.Ir=e,this.buffer=new Lt(eP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(ZA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wl(n)?oe(ZA,"Ignoring IndexedDB error during garbage collection: ",n):await pg(n)}await this.Vr(3e5)})}}class az{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(mg.ce);const r=new oz(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(JA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),la()<=Ae.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function lz(t,e){return new az(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bc(r.mutation,i,so.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ic();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mo();const s=wc(),a=function(){return wc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof bg)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),bc(c.mutation,u,c.mutation.getFieldMask(),it.now())):s.set(u.key,so.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new cz(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=wc();let i=new Yt((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||so.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=DM();c.forEach(d=>{if(!o.has(d)){const p=VM(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(cs());let a=nf,l=o;return s.next(u=>H.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?H.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ne())).next(c=>({batchId:a,changes:x9(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ic();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{const u=function(f,d){return new Hl(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,hn.newInvalidDocument(c)))});let a=ic();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&bc(c.mutation,u,so.empty(),it.now()),_g(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Da(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:tz(i.bundledQuery),readTime:Da(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(){this.overlays=new Yt(ue.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cs();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=cs(),o=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Yt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=cs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=cs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return H.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new j9(n,r));let o=this.qr.get(n);o===void 0&&(o=Ne(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.Qr=new Lt(Wt.$r),this.Ur=new Lt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ue(new rt([])),r=new Wt(n,e),i=new Wt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new rt([])),r=new Wt(n,e),i=new Wt(n,e+1);let o=Ne();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Wt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Wt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new D9(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Wt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?e9:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),i=new Wt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Pe);return n.forEach(i=>{const o=new Wt(i,0),s=new Wt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ue.isDocumentKey(o)||(o=o.child(""));const s=new Wt(new ue(o),0);let a=new Lt(Pe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,i=>{const o=new Wt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Wt(n,0),i=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.ri=e,this.docs=function(){return new Yt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=Mo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mo();const s=n.path,a=new ue(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Y5(Q5(c),r)<=0||(i.has(c.key)||_g(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){de(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yz(this)}getSize(e){return H.resolve(this.size)}}class yz extends uz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.persistence=e,this.si=new Ws(n=>DE(n),jE),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new UE,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.ui={},this.overlays={},this.ci=new mg(0),this.li=!1,this.li=!0,this.hi=new pz,this.referenceDelegate=e(this),this.Pi=new vz(this),this.indexManager=new nz,this.remoteDocumentCache=function(i){return new gz(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new ez(n),this.Ii=new hz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new _z(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class _z extends J5{constructor(e){super(),this.currentSequenceNumber=e}}class zE{constructor(e){this.persistence=e,this.Ri=new UE,this.Vi=null}static mi(e){return new zE(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const i=ue.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ip{constructor(e,n){this.persistence=e,this.pi=new Ws(r=>n9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lz(this,n)}static mi(e,n){return new Ip(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,he.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fd(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ne(),i=Ne();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new WE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return pU()?8:Z5(K2())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new wz;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(la()<=Ae.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(la()<=Ae.DEBUG&&oe("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(la()<=Ae.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):H.resolve())}ys(e,n){if(UA(n))return H.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ap(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ne(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,Ap(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return UA(n)||i.isEqual(he.min())?H.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?H.resolve(null):(la()<=Ae.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ua(n)),this.vs(e,s,n,K5(i,nf)).next(a=>a))})}Ds(e,n){let r=new Lt(kM(e));return n.forEach((i,o)=>{_g(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return la()<=Ae.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ua(n)),this.ps.getDocumentsMatchingQuery(e,n,Oo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="LocalStore",Ez=3e8;class Sz{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Yt(Pe),this.xs=new Ws(o=>DE(o),jE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function xz(t,e,n,r){return new Sz(t,e,n,r)}async function tD(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ne();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function nD(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Tz(t,e){const n=Oe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(rn.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Ez?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,p,c)&&a.push(n.Pi.updateTargetData(o,p))});let l=Mo(),u=Ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Az(o,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(he.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function Az(t,e,n){let r=Ne(),i=Ne();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mo();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):oe(qE,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function Pz(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new ao(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function N0(t,e,n){const r=Oe(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Wl(s))throw s;oe(qE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function tP(t,e,n){const r=Oe(t);let i=he.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Oe(l),d=f.xs.get(c);return d!==void 0?H.resolve(f.Ms.get(d)):f.Pi.getTargetData(u,c)}(r,s,Zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:he.min(),n?o:Ne())).next(a=>(Cz(r,b9(e),a),{documents:a,Qs:o})))}function Cz(t,e,n){let r=t.Os.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class nP{constructor(){this.activeTargetIds=P9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iz{constructor(){this.Mo=new nP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="ConnectivityMonitor";class iP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(rP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(rP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad=null;function R0(){return ad===null?ad=function(){return 268435456+Math.round(2147483648*Math.random())}():ad++,"0x"+ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="RestConnection",Nz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=R0(),a=this.zo(e,n.toUriEncodedString());oe(Tv,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=nh(u);return this.Jo(e,a,l,r,c).then(f=>(oe(Tv,`Received RPC '${e}' ${s}: `,f),f),f=>{throw nl(Tv,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=Nz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class Mz extends Rz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=R0();return new Promise((a,l)=>{const u=new aM;u.setWithCredentials(!0),u.listenOnce(lM.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ld.NO_ERROR:const f=u.getResponseJson();oe(ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ld.TIMEOUT:oe(ln,`RPC '${e}' ${s} timed out`),l(new ie(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:const d=u.getStatus();if(oe(ln,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(v)>=0?v:X.UNKNOWN}(m.status);l(new ie(g,m.message))}else l(new ie(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ie(X.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{oe(ln,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe(ln,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=R0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fM(),a=cM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");oe(ln,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let d=!1,p=!1;const m=new kz({Yo:y=>{p?oe(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(oe(ln,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),oe(ln,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,w,v)=>{y.listen(w,b=>{try{v(b)}catch(C){setTimeout(()=>{throw C},0)}})};return g(f,rc.EventType.OPEN,()=>{p||(oe(ln,`RPC '${e}' stream ${i} transport opened.`),m.o_())}),g(f,rc.EventType.CLOSE,()=>{p||(p=!0,oe(ln,`RPC '${e}' stream ${i} transport closed`),m.a_(),this.E_(f))}),g(f,rc.EventType.ERROR,y=>{p||(p=!0,nl(ln,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),m.a_(new ie(X.UNAVAILABLE,"The operation could not be completed")))}),g(f,rc.EventType.MESSAGE,y=>{var w;if(!p){const v=y.data[0];ft(!!v,16349);const b=v,C=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(C){oe(ln,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let A=function(P){const O=xt[P];if(O!==void 0)return UM(O)}(S),E=C.message;A===void 0&&(A=X.INTERNAL,E="Unknown error status: "+S+" with message "+C.message),p=!0,m.a_(new ie(A,E)),f.close()}else oe(ln,`RPC '${e}' stream ${i} received:`,v),m.u_(v)}}),g(a,uM.STAT_EVENT,y=>{y.stat===v0.PROXY?oe(ln,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===v0.NOPROXY&&oe(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){return new W9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="PersistentStream";class Dz{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ie(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(oP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(oP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jz extends Dz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H9(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Da(s.readTime):he.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=XA(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=x0(l)?{documents:G9(o,l)}:{query:K9(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qM(o,s.resumeToken);const u=C0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=I0(o,s.snapshotVersion.toTimestamp());const u=C0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Y9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=XA(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{}class Lz extends $z{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,O0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(X.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,O0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(X.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Fz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="RemoteStore";class Vz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{sh(this)&&(oe(al,"Restarting streams for network reachability change."),await async function(l){const u=Oe(l);u.Ea.add(4),await oh(u),u.Ra.set("Unknown"),u.Ea.delete(4),await xg(u)}(this))})}),this.Ra=new Fz(r,i)}}async function xg(t){if(sh(t))for(const e of t.da)await e(!0)}async function oh(t){for(const e of t.da)await e(!1)}function iD(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),QE(n)?KE(n):Gl(n).O_()&&GE(n,e))}function HE(t,e){const n=Oe(t),r=Gl(n);n.Ia.delete(e),r.O_()&&oD(n,e),n.Ia.size===0&&(r.O_()?r.L_():sh(n)&&n.Ra.set("Unknown"))}function GE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(t).Y_(e)}function oD(t,e){t.Va.Ue(e),Gl(t).Z_(e)}function KE(t){t.Va=new V9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gl(t).start(),t.Ra.ua()}function QE(t){return sh(t)&&!Gl(t).x_()&&t.Ia.size>0}function sh(t){return Oe(t).Ea.size===0}function sD(t){t.Va=void 0}async function Bz(t){t.Ra.set("Online")}async function Uz(t){t.Ia.forEach((e,n)=>{GE(t,e)})}async function zz(t,e){sD(t),QE(t)?(t.Ra.ha(e),KE(t)):t.Ra.set("Unknown")}async function Wz(t,e,n){if(t.Ra.set("Online"),e instanceof WM&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){oe(al,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sP(t,r)}else if(e instanceof Bd?t.Va.Ze(e):e instanceof zM?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await nD(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(rn.EMPTY_BYTE_STRING,c.snapshotVersion)),oD(o,l);const f=new ao(c.target,l,u,c.sequenceNumber);GE(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe(al,"Failed to raise snapshot:",r),await sP(t,r)}}async function sP(t,e,n){if(!Wl(e))throw e;t.Ea.add(1),await oh(t),t.Ra.set("Offline"),n||(n=()=>nD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(al,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xg(t)})}async function aP(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),oe(al,"RemoteStore received new credentials");const r=sh(n);n.Ea.add(3),await oh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xg(n)}async function qz(t,e){const n=Oe(t);e?(n.Ea.delete(2),await xg(n)):e||(n.Ea.add(2),await oh(n),n.Ra.set("Unknown"))}function Gl(t){return t.ma||(t.ma=function(n,r,i){const o=Oe(n);return o.sa(),new jz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Bz.bind(null,t),t_:Uz.bind(null,t),r_:zz.bind(null,t),H_:Wz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),QE(t)?KE(t):t.Ra.set("Unknown")):(await t.ma.stop(),sD(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new YE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aD(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),Wl(t))return new ie(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(e){return new ja(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.ga=new Yt(ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ll{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ll(e,n,ja.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Gz{constructor(){this.queries=uP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Oe(n),o=i.queries;i.queries=uP(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ie(X.ABORTED,"Firestore shutting down"))}}function uP(){return new Ws(t=>RM(t),vg)}async function lD(t,e){const n=Oe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new Hz,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=aD(s,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&XE(n)}async function uD(t,e){const n=Oe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Kz(t,e){const n=Oe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&XE(n)}function Qz(t,e,n){const r=Oe(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function XE(t){t.Ca.forEach(e=>{e.next()})}var k0,cP;(cP=k0||(k0={})).Ma="default",cP.Cache="cache";class cD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==k0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.key=e}}class hD{constructor(e){this.key=e}}class Yz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=kM(e),this.tu=new ja(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lP,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=_g(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),y=!0):this.su(d,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),y=!0):d&&!p&&(r.track({type:1,doc:d}),y=!0,(l||u)&&(a=!0)),y&&(p?(s=s.add(p),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(p,m){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:y})}};return g(p)-g(m)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new ll(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new hD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new fD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const JE="SyncEngine";class Xz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jz{constructor(e){this.key=e,this.hu=!1}}class Zz{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ws(a=>RM(a),vg),this.Iu=new Map,this.Eu=new Set,this.du=new Yt(ue.comparator),this.Au=new Map,this.Ru=new UE,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e8(t,e,n=!0){const r=yD(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await dD(r,e,n,!0),i}async function t8(t,e){const n=yD(t);await dD(n,e,!0,!1)}async function dD(t,e,n,r){const i=await Pz(t.localStore,Zr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await n8(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&iD(t.remoteStore,i),a}async function n8(t,e,n,r,i){t.pu=(f,d,p)=>async function(g,y,w,v){let b=y.view.ru(w);b.Cs&&(b=await tP(g.localStore,y.query,!1).then(({documents:E})=>y.view.ru(E,b)));const C=v&&v.targetChanges.get(y.targetId),S=v&&v.targetMismatches.get(y.targetId)!=null,A=y.view.applyChanges(b,g.isPrimaryClient,C,S);return hP(g,y.targetId,A.au),A.snapshot}(t,f,d,p);const o=await tP(t.localStore,e,!0),s=new Yz(e,o.Qs),a=s.ru(o.documents),l=ih.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);hP(t,n,u.au);const c=new Xz(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function r8(t,e,n){const r=Oe(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!vg(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await N0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&HE(r.remoteStore,i.targetId),M0(r,i.targetId)}).catch(pg)):(M0(r,i.targetId),await N0(r.localStore,i.targetId,!0))}async function i8(t,e){const n=Oe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),HE(n.remoteStore,r.targetId))}async function pD(t,e){const n=Oe(t);try{const r=await Tz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ft(s.hu,14607):i.removedDocuments.size>0&&(ft(s.hu,42227),s.hu=!1))}),await gD(n,r,e)}catch(r){await pg(r)}}function fP(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Oe(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Sa)d.va(a)&&(u=!0)}),u&&XE(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o8(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Yt(ue.comparator);s=s.insert(o,hn.newNoDocument(o,he.min()));const a=Ne().add(o),l=new Eg(he.min(),new Map,new Yt(Pe),s,a);await pD(r,l),r.du=r.du.remove(o),r.Au.delete(e),ZE(r)}else await N0(r.localStore,e,!1).then(()=>M0(r,e,n)).catch(pg)}function M0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||mD(t,r)})}function mD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(HE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ZE(t))}function hP(t,e,n){for(const r of n)r instanceof fD?(t.Ru.addReference(r.key,e),s8(t,r)):r instanceof hD?(oe(JE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mD(t,r.key)):de(19791,{wu:r})}function s8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(oe(JE,"New document in limbo: "+n),t.Eu.add(r),ZE(t))}function ZE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new Jz(n)),t.du=t.du.insert(n,r),iD(t.remoteStore,new ao(Zr($E(n.path)),r,"TargetPurposeLimboResolution",mg.ce))}}async function gD(t,e,n){const r=Oe(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=WE.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=Oe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(u,d=>H.forEach(d.Es,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>H.forEach(d.ds,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Wl(f))throw f;oe(qE,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.Ms.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.Ms=c.Ms.insert(d,g)}}}(r.localStore,o))}async function a8(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){oe(JE,"User change. New user:",e.toKey());const r=await tD(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new ie(X.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gD(n,r.Ls)}}function l8(t,e){const n=Oe(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let i=Ne();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function yD(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o8.bind(null,e),e.Pu.H_=Kz.bind(null,e.eventManager),e.Pu.yu=Qz.bind(null,e.eventManager),e}class Op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xz(this.persistence,new bz,e.initialUser,this.serializer)}Cu(e){return new eD(zE.mi,this.serializer)}Du(e){return new Iz}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Op.provider={build:()=>new Op};class u8 extends Op{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof Ip,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new eD(r=>Ip.mi(r,n),this.serializer)}}class D0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a8.bind(null,this.syncEngine),await qz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gz}()}createDatastore(e){const n=Sg(e.databaseInfo.databaseId),r=function(o){return new Mz(o)}(e.databaseInfo);return function(o,s,a,l){return new Lz(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Vz(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>fP(this.syncEngine,n,0),function(){return iP.v()?new iP:new Oz}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Zz(i,o,s,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Oe(i);oe(al,"RemoteStore shutting down."),o.Ea.add(5),await oh(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}D0.provider={build:()=>new D0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="FirestoreClient";class c8{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=pM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{oe(Do,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe(Do,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aD(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pv(t,e){t.asyncQueue.verifyOperationInProgress(),oe(Do,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await f8(t);oe(Do,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aP(e.remoteStore,i)),t._onlineComponents=e}async function f8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(Do,"Using user provided OfflineComponentProvider");try{await Pv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await Pv(t,new Op)}}else oe(Do,"Using default OfflineComponentProvider"),await Pv(t,new u8(void 0));return t._offlineComponents}async function h8(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(Do,"Using user provided OnlineComponentProvider"),await dP(t,t._uninitializedComponentsProvider._online)):(oe(Do,"Using default OnlineComponentProvider"),await dP(t,new D0))),t._onlineComponents}async function j0(t){const e=await h8(t),n=e.eventManager;return n.onListen=e8.bind(null,e.syncEngine),n.onUnlisten=r8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i8.bind(null,e.syncEngine),n}function d8(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new vD({next:d=>{c.Nu(),s.enqueueAndForget(()=>uD(o,f)),d.fromCache&&l.source==="server"?u.reject(new ie(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new cD(a,c,{includeMetadataChanges:!0,qa:!0});return lD(o,f)}(await j0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="firestore.googleapis.com",mP=!0;class gP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wD,this.ssl=mP}else this.host=e.host,this.ssl=e.ssl??mP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iz)throw new ie(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_D(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D5;switch(r.type){case"firstParty":return new F5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pP.get(n);r&&(oe("ComponentProvider","Removing Datastore"),pP.delete(n),r.terminate())}(this),Promise.resolve()}}function p8(t,e,n,r={}){var u;t=Ma(t,e1);const i=nh(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(q2(`https://${a}`),G2("Firestore",!0)),o.host!==wD&&o.host!==a&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!Jc(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=cn.MOCK_USER;else{c=H2(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ie(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new cn(d)}t._authCredentials=new j5(new dM(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rh(n,vn._jsonSchema))return new vn(e,r||null,new ue(rt.fromString(n.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:Ct("string",vn._jsonSchemaVersion),referencePath:Ct("string")};class $a extends Li{constructor(e,n,r){super(e,n,$E(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ue(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function $0(t,e,...n){if(t=jr(t),q5("collection","path",e),t instanceof e1){const r=rt.fromString(e,...n);return CA(r),new $a(t,null,r)}{if(!(t instanceof vn||t instanceof $a))throw new ie(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return CA(r),new $a(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="AsyncQueue";class vP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rD(this,"async_queue_retry"),this._c=()=>{const r=Av();r&&oe(yP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ws;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wl(e))throw e;oe(yP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",_P(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=YE.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&de(47125,{Pc:_P(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _P(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Np extends e1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vP(e),this._firestoreClient=void 0,await e}}}function bD(t,e){const n=typeof t=="object"?t:rM(),r=typeof t=="string"?t:Sp,i=eM(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=z2("firestore");o&&p8(i,...o)}return i}function ED(t){if(t._terminated)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||m8(t),t._firestoreClient}function m8(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,c){return new o9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_D(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new c8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(rn.fromBase64String(e))}catch(n){throw new ie(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ar(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rh(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:Ct("string",ar._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(rh(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:Ct("string",ei._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rh(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ti(e.vectorValues);throw new ie(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Ct("string",ti._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=/^__.*__$/;function TD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class t1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return L0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TD(this.Ac)&&g8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class y8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sg(e)}Cc(e,n,r,i=!1){return new t1({Ac:e,methodName:n,Dc:r,path:gn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v8(t){const e=t._freezeSettings(),n=Sg(t._databaseId);return new y8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _8(t,e,n,r=!1){return n1(n,t.Cc(r?4:3,e))}function n1(t,e){if(AD(t=jr(t)))return b8("Unsupported field value:",e,t),w8(t,e);if(t instanceof xD)return function(r,i){if(!TD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=n1(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=jr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:I0(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:I0(i.serializer,o)}}if(r instanceof ei)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ar)return{bytesValue:qM(i.serializer,r._byteString)};if(r instanceof vn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:HM(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ti)return function(s,a){return{mapValue:{fields:{[SM]:{stringValue:xM},[xp]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return LE(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${dg(r)}`)}(t,e)}function w8(t,e){const n={};return yM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(t,(r,i)=>{const o=n1(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function AD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof ei||t instanceof ar||t instanceof vn||t instanceof xD||t instanceof ti)}function b8(t,e,n){if(!AD(n)||!mM(n)){const r=dg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}const E8=new RegExp("[~\\*/\\[\\]]");function S8(t,e,n){if(e.search(E8)>=0)throw L0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new SD(...e.split("."))._internalPath}catch{throw L0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function L0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ie(X.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x8 extends PD{data(){return super.data()}}function r1(t,e){return typeof e=="string"?S8(t,e):e instanceof SD?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i1{}class o1 extends i1{}function F0(t,e,...n){let r=[];e instanceof i1&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof a1).length,a=o.filter(l=>l instanceof s1).length;if(s>1||s>0&&a>0)throw new ie(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class s1 extends o1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new s1(e,n,r)}_apply(e){const n=this._parse(e);return ID(e._query,n),new Li(e.firestore,e.converter,T0(e._query,n))}_parse(e){const n=v8(e.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ie(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){EP(f,c);const m=[];for(const g of f)m.push(bP(l,o,g));d={arrayValue:{values:m}}}else d=bP(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||EP(f,c),d=_8(a,s,f,c==="in"||c==="not-in");return Pt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class a1 extends i1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new a1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)ID(s,l),s=T0(s,l)}(e._query,n),new Li(e.firestore,e.converter,T0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class l1 extends o1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new l1(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ie(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ie(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new af(o,s)}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Hl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function V0(t,e="asc"){const n=e,r=r1("orderBy",t);return l1._create(r,n)}class u1 extends o1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new u1(e,n,r)}_apply(e){return new Li(e.firestore,e.converter,Ap(e._query,this._limit,this._limitType))}}function B0(t){return G5("limit",t),u1._create("limit",t,"F")}function bP(t,e,n){if(typeof(n=jr(n))=="string"){if(n==="")throw new ie(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NM(e)&&n.indexOf("/")!==-1)throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!ue.isDocumentKey(r))throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jA(t,new ue(r))}if(n instanceof vn)return jA(t,n._key);throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dg(n)}.`)}function EP(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ID(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T8{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ql(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[xp].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>_t(s.doubleValue));return new ti(n)}convertGeoPoint(e){return new ei(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const n=No(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);ft(JM(r),9688,{name:e});const i=new of(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(n)||Ii(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Es extends PD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Es._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Es._jsonSchemaVersion="firestore/documentSnapshot/1.0",Es._jsonSchema={type:Ct("string",Es._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Ud extends Es{data(e={}){return super.data(e)}}class Ss{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ud(this._firestore,this._userDataWriter,r.key,r,new sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Ud(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Ud(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:A8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ss._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pM.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function A8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}Ss._jsonSchemaVersion="firestore/querySnapshot/1.0",Ss._jsonSchema={type:Ct("string",Ss._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class c1 extends T8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function P8(t){t=Ma(t,Li);const e=Ma(t.firestore,Np),n=ED(e),r=new c1(e);return CD(t._query),d8(n,t._query).then(i=>new Ss(e,r,t,i))}function SP(t,...e){var l,u,c;t=jr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wP(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wP(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(c=f.complete)==null?void 0:c.bind(f)}let o,s,a;if(t instanceof vn)s=Ma(t.firestore,Np),a=$E(t._key.path),o={next:f=>{e[r]&&e[r](C8(s,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Ma(t,Li);s=Ma(f.firestore,Np),a=f._query;const d=new c1(s);o={next:p=>{e[r]&&e[r](new Ss(s,d,f,p))},error:e[r+1],complete:e[r+2]},CD(t._query)}return function(d,p,m,g){const y=new vD(g),w=new cD(p,y,m);return d.asyncQueue.enqueueAndForget(async()=>lD(await j0(d),w)),()=>{y.Nu(),d.asyncQueue.enqueueAndForget(async()=>uD(await j0(d),w))}}(ED(s),a,i,o)}function C8(t,e,n){const r=n.docs.get(e._key),i=new c1(t);return new Es(t,i,e._key,r,new sc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){zl=i})(nM),ef(new tl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Np(new $5(r.getProvider("auth-internal")),new V5(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new of(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bo(xA,TA,e),bo(xA,TA,"esm2020")})();var xP={};const TP="@firebase/database",AP="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OD="";function I8(t){OD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $i(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new O8(e)}}catch{}return new N8},fs=ND("localStorage"),R8=ND("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new OE("@firebase/database"),k8=function(){let t=1;return function(){return t++}}(),RD=function(t){const e=xU(t),n=new SU;n.update(e);const r=n.digest();return PE.encodeByteArray(r)},ah=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ah.apply(null,r):typeof r=="object"?e+=Mt(r):e+=r,e+=" "}return e};let Ec=null,PP=!0;const M8=function(t,e){Z(!0,"Can't turn on custom loggers persistently."),La.logLevel=Ae.VERBOSE,Ec=La.log.bind(La)},dn=function(...t){if(PP===!0&&(PP=!1,Ec===null&&R8.get("logging_enabled")===!0&&M8()),Ec){const e=ah.apply(null,t);Ec(e)}},lh=function(t){return function(...e){dn(t,...e)}},U0=function(...t){const e="FIREBASE INTERNAL ERROR: "+ah(...t);La.error(e)},Oi=function(...t){const e=`FIREBASE FATAL ERROR: ${ah(...t)}`;throw La.error(e),new Error(e)},jn=function(...t){const e="FIREBASE WARNING: "+ah(...t);La.warn(e)},D8=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},j8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ul="[MIN_NAME]",ks="[MAX_NAME]",Kl=function(t,e){if(t===e)return 0;if(t===ul||e===ks)return-1;if(e===ul||t===ks)return 1;{const n=CP(t),r=CP(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},$8=function(t,e){return t===e?0:t<e?-1:1},Du=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Mt(e))},f1=function(t){if(typeof t!="object"||t===null)return Mt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Mt(e[r]),n+=":",n+=f1(t[e[r]]);return n+="}",n},MD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Fn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DD=function(t){Z(!kD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let f="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},L8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},F8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function V8(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const B8=new RegExp("^-?(0*)\\d{1,10}$"),U8=-2147483648,z8=2147483647,CP=function(t){if(B8.test(t)){const e=Number(t);if(e>=U8&&e<=z8)return e}return null},Ql=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw jn("Exception was thrown by user callback.",n),e},Math.floor(0))}},W8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Sc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,tM(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){jn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jn(e)}}class zd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="5",jD="v",$D="s",LD="r",FD="f",VD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BD="ls",UD="p",z0="ac",zD="websocket",WD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function G8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function HD(t,e,n){Z(typeof e=="string","typeof type must == string"),Z(typeof n=="object","typeof params must == object");let r;if(e===zD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===WD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);G8(t)&&(n.ns=t.namespace);const i=[];return Fn(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this.counters_={}}incrementCounter(e,n=1){$i(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv={},Iv={};function d1(t){const e=t.toString();return Cv[e]||(Cv[e]=new K8),Cv[e]}function Q8(t,e){const n=t.toString();return Iv[n]||(Iv[n]=e()),Iv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ql(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="start",X8="close",J8="pLPCommand",Z8="pRTLPCB",GD="id",KD="pw",QD="ser",eW="cb",tW="seg",nW="ts",rW="d",iW="dframe",YD=1870,XD=30,oW=YD-XD,sW=25e3,aW=3e4;class xa{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lh(e),this.stats_=d1(n),this.urlFn=l=>(this.appCheckToken&&(l[z0]=this.appCheckToken),HD(n,WD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Y8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aW)),j8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new p1((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===IP)this.id=a,this.password=l;else if(s===X8)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[IP]="t",r[QD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[eW]=this.scriptTagHolder.uniqueCallbackIdentifier),r[jD]=h1,this.transportSessionId&&(r[$D]=this.transportSessionId),this.lastSessionId&&(r[BD]=this.lastSessionId),this.applicationId&&(r[UD]=this.applicationId),this.appCheckToken&&(r[z0]=this.appCheckToken),typeof location<"u"&&location.hostname&&VD.test(location.hostname)&&(r[LD]=FD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xa.forceAllow_=!0}static forceDisallow(){xa.forceDisallow_=!0}static isAvailable(){return xa.forceAllow_?!0:!xa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!L8()&&!F8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Mt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=B2(n),i=MD(r,oW);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[iW]="t",r[GD]=e,r[KD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Mt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class p1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=k8(),window[J8+this.uniqueCallbackIdentifier]=e,window[Z8+this.uniqueCallbackIdentifier]=n,this.myIFrame=p1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){dn("frame writing exception"),a.stack&&dn(a.stack),dn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GD]=this.myID,e[KD]=this.myPW,e[QD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XD+r.length<=YD;){const s=this.pendingSegs.shift();r=r+"&"+tW+i+"="+s.seg+"&"+nW+i+"="+s.ts+"&"+rW+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(sW)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=16384,uW=45e3;let Rp=null;typeof MozWebSocket<"u"?Rp=MozWebSocket:typeof WebSocket<"u"&&(Rp=WebSocket);class Pr{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lh(this.connId),this.stats_=d1(n),this.connURL=Pr.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[jD]=h1,typeof location<"u"&&location.hostname&&VD.test(location.hostname)&&(s[LD]=FD),n&&(s[$D]=n),r&&(s[BD]=r),i&&(s[z0]=i),o&&(s[UD]=o),HD(e,zD,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let r;dU(),this.mySock=new Rp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Rp!==null&&!Pr.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Xc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Mt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=MD(n,lW);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pr.responsesRequiredToBeHealthy=2;Pr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{static get ALL_TRANSPORTS(){return[xa,Pr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Pr&&Pr.isAvailable();let r=n&&!Pr.previouslyFailed();if(e.webSocketOnly&&(n||jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pr];else{const i=this.transports_=[];for(const o of lf.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);lf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=6e4,fW=5e3,hW=10*1024,dW=100*1024,Ov="t",OP="d",pW="s",NP="r",mW="e",RP="o",kP="a",MP="n",DP="p",gW="h";class yW{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lh("c:"+this.id+":"),this.transportManager_=new lf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Sc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ov in e){const n=e[Ov];n===kP?this.upgradeIfSecondaryHealthy_():n===NP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===RP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Du("t",e),r=Du("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:DP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:MP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Du("t",e),r=Du("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Du(Ov,e);if(OP in e){const r=e[OP];if(n===gW){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===MP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pW?this.onConnectionShutdown_(r):n===NP?this.onReset_(r):n===mW?U0("Server Error: "+r):n===RP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):U0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),h1!==r&&jn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Sc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:DP,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZD=class{constructor(e){this.allowedEvents_=e,this.listeners_={},Z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){Z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends ZD{static getInstance(){return new kp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Q2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=32,$P=768;let ze=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Me(){return new ze("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jo(t){return t.pieces_.length-t.pieceNum_}function Ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ze(t.pieces_,e)}function ej(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tj(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function nj(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ze(e,0)}function Dt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ze)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ze(n,0)}function Ee(t){return t.pieceNum_>=t.pieces_.length}function En(t,e){const n=we(t),r=we(e);if(n===null)return e;if(n===r)return En(Ge(t),Ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function m1(t,e){if(jo(t)!==jo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ir(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(jo(t)>jo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class _W{constructor(e,n){this.errorPrefix_=n,this.parts_=tj(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fg(this.parts_[r]);rj(this)}}function wW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=fg(e),rj(t)}function bW(t){const e=t.parts_.pop();t.byteLength_-=fg(e),t.parts_.length>0&&(t.byteLength_-=1)}function rj(t){if(t.byteLength_>$P)throw new Error(t.errorPrefix_+"has a key path longer than "+$P+" bytes ("+t.byteLength_+").");if(t.parts_.length>jP)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jP+") or object contains a cycle "+rs(t))}function rs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1 extends ZD{static getInstance(){return new g1}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=1e3,EW=60*5*1e3,LP=30*1e3,SW=1.3,xW=3e4,TW="server_kill",FP=3;class wi extends JD{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=wi.nextPersistentConnectionId_++,this.log_=lh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ju,this.maxReconnectDelay_=EW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");g1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&kp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Mt(o)),Z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new cg,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Z(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;wi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$i(e,"w")){const r=el(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();jn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bU(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=LP)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=wU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Mt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):U0("Unrecognized action received from server: "+Mt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xW&&(this.reconnectDelay_=ju),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+wi.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(f){Z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new yW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{jn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(TW)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&jn(f),l())}}}interrupt(e){dn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hA(this.interruptReasons_)&&(this.reconnectDelay_=ju,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>f1(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ze(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=FP&&(this.reconnectDelay_=LP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=FP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+OD.replace(/\./g,"-")]=1,Q2()?e["framework.cordova"]=1:hU()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kp.getInstance().currentlyOnline();return hA(this.interruptReasons_)&&e}}wi.nextPersistentConnectionId_=0;wi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new be(ul,e),i=new be(ul,n);return this.compare(r,i)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld;class ij extends Tg{static get __EMPTY_NODE(){return ld}static set __EMPTY_NODE(e){ld=e}compare(e,n){return Kl(e.name,n.name)}isDefinedOn(e){throw Bl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return be.MIN}maxPost(){return new be(ks,ld)}makePost(e,n){return Z(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,ld)}toString(){return".key"}}const Fa=new ij;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Nn.EMPTY_NODE,this.right=o??Nn.EMPTY_NODE}copy(e,n,r,i,o){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Nn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Gt.RED=!0;Gt.BLACK=!1;class AW{copy(e,n,r,i,o){return this}insert(e,n,r){return new Gt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nn{constructor(e,n=Nn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Nn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gt.BLACK,null,null))}remove(e){return new Nn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ud(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ud(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ud(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ud(this.root_,null,this.comparator_,!0,e)}}Nn.EMPTY_NODE=new AW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t,e){return Kl(t.name,e.name)}function y1(t,e){return Kl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W0;function CW(t){W0=t}const oj=function(t){return typeof t=="number"?"number:"+DD(t):"string:"+t},sj=function(t){if(t.isLeafNode()){const e=t.val();Z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$i(e,".sv"),"Priority must be a string or number.")}else Z(t===W0||t.isEmpty(),"priority of unexpected type.");Z(t===W0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VP;class zt{static set __childrenNodeConstructor(e){VP=e}static get __childrenNodeConstructor(){return VP}constructor(e,n=zt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sj(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new zt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ee(e)?this:we(e)===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:zt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=we(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Z(r!==".priority"||jo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,zt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ge(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+oj(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DD(this.value_):e+=this.value_,this.lazyHash_=RD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===zt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof zt.__childrenNodeConstructor?-1:(Z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=zt.VALUE_TYPE_ORDER.indexOf(n),o=zt.VALUE_TYPE_ORDER.indexOf(r);return Z(i>=0,"Unknown leaf type: "+n),Z(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}zt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aj,lj;function IW(t){aj=t}function OW(t){lj=t}class NW extends Tg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Kl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return be.MIN}maxPost(){return new be(ks,new zt("[PRIORITY-POST]",lj))}makePost(e,n){const r=aj(e);return new be(n,new zt("[PRIORITY-POST]",r))}toString(){return".priority"}}const gt=new NW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW=Math.log(2);class kW{constructor(e){const n=o=>parseInt(Math.log(o)/RW,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let f,d;if(c===0)return null;if(c===1)return f=t[l],d=n?n(f):f,new Gt(d,f.node,Gt.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),g=i(p+1,u);return f=t[p],d=n?n(f):f,new Gt(d,f.node,Gt.BLACK,m,g)}},o=function(l){let u=null,c=null,f=t.length;const d=function(m,g){const y=f-m,w=f;f-=m;const v=i(y+1,w),b=t[y],C=n?n(b):b;p(new Gt(C,b.node,g,null,v))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(m+1));g?d(y,Gt.BLACK):(d(y,Gt.BLACK),d(y,Gt.RED))}return c},s=new kW(t.length),a=o(s);return new Nn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nv;const ta={};class mi{static get Default(){return Z(ta&&gt,"ChildrenNode.ts has not been loaded"),Nv=Nv||new mi({".priority":ta},{".priority":gt}),Nv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=el(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nn?n:null}hasIndex(e){return $i(this.indexSet_,e.toString())}addIndex(e,n){Z(e!==Fa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(be.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Mp(r,e.getCompare()):a=ta;const l=e.toString(),u={...this.indexSet_};u[l]=e;const c={...this.indexes_};return c[l]=a,new mi(c,u)}addToIndexes(e,n){const r=bp(this.indexes_,(i,o)=>{const s=el(this.indexSet_,o);if(Z(s,"Missing index implementation for "+o),i===ta)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(be.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Mp(a,s.getCompare())}else return ta;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new be(e.name,a))),l.insert(e,e.node)}});return new mi(r,this.indexSet_)}removeFromIndexes(e,n){const r=bp(this.indexes_,i=>{if(i===ta)return i;{const o=n.get(e.name);return o?i.remove(new be(e.name,o)):i}});return new mi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;class fe{static get EMPTY_NODE(){return $u||($u=new fe(new Nn(y1),null,mi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&sj(this.priorityNode_),this.children_.isEmpty()&&Z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$u}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$u:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(Ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new be(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?$u:this.priorityNode_;return new fe(i,s,o)}}updateChild(e,n){const r=we(e);if(r===null)return n;{Z(we(e)!==".priority"||jo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ge(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(gt,(s,a)=>{n[s]=a.val(e),r++,o&&fe.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+oj(this.getPriority().val())+":"),this.forEachChild(gt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":RD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new be(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,be.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===uh?-1:0}withIndex(e){if(e===Fa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Fa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(gt),i=n.getIterator(gt);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Fa?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MW extends fe{constructor(){super(new Nn(y1),fe.EMPTY_NODE,mi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const uh=new MW;Object.defineProperties(be,{MIN:{value:new be(ul,fe.EMPTY_NODE)},MAX:{value:new be(ks,uh)}});ij.__EMPTY_NODE=fe.EMPTY_NODE;zt.__childrenNodeConstructor=fe;CW(uh);OW(uh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=!0;function Kt(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new zt(n,Kt(e))}if(!(t instanceof Array)&&DW){const n=[];let r=!1;if(Fn(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Kt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new be(s,l)))}}),n.length===0)return fe.EMPTY_NODE;const o=Mp(n,PW,s=>s.name,y1);if(r){const s=Mp(n,gt.getCompare());return new fe(o,Kt(e),new mi({".priority":s},{".priority":gt}))}else return new fe(o,Kt(e),mi.Default)}else{let n=fe.EMPTY_NODE;return Fn(t,(r,i)=>{if($i(t,r)&&r.substring(0,1)!=="."){const o=Kt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Kt(e))}}IW(Kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW extends Tg{constructor(e){super(),this.indexPath_=e,Z(!Ee(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Kl(e.name,n.name):o}makePost(e,n){const r=Kt(e),i=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new be(n,i)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,uh);return new be(ks,e)}toString(){return tj(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W extends Tg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Kl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,n){const r=Kt(e);return new be(n,r)}toString(){return".value"}}const LW=new $W;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){return{type:"value",snapshotNode:t}}function cl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function uf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function FW(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){Z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(uf(n,a)):Z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(cl(n,r)):s.trackChildChange(cf(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(gt,(i,o)=>{n.hasChild(i)||r.trackChildChange(uf(i,o))}),n.isLeafNode()||n.forEachChild(gt,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(cf(i,o,s))}else r.trackChildChange(cl(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.indexedFilter_=new v1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ff.getStartPost_(e),this.endPost_=ff.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new be(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);const o=this;return n.forEachChild(gt,(s,a)=>{o.matches(new be(s,a))||(i=i.updateImmediateChild(s,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ff(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new be(n,r))||(r=fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(d,p)=>f(p,d)}else s=this.index_.getCompare();const a=e;Z(a.numChildren()===this.limit_,"");const l=new be(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:s(d,l);if(c&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(cf(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(uf(n,f));const g=a.updateImmediateChild(n,fe.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(o!=null&&o.trackChildChange(cl(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}}else return r.isEmpty()?e:c&&s(u,l)>=0?(o!=null&&(o.trackChildChange(uf(u.name,u.node)),o.trackChildChange(cl(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ul}hasEnd(){return this.endSet_}getIndexEndValue(){return Z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gt}copy(){const e=new _1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BW(t){return t.loadsAllData()?new v1(t.getIndex()):t.hasLimit()?new VW(t):new ff(t)}function BP(t){const e={};if(t.isDefault())return e;let n;if(t.index_===gt?n="$priority":t.index_===LW?n="$value":t.index_===Fa?n="$key":(Z(t.index_ instanceof jW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Mt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Mt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Mt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Mt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Mt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function UP(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends JD{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lh("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Dp.getListenId_(e,r),a={};this.listens_[s]=a;const l=BP(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let f=c;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,r),el(this.listens_,s)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=Dp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=BP(e._queryParams),r=e._path.toString(),i=new cg;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+EU(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Xc(a.responseText)}catch{jn("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&jn("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){return{value:null,children:new Map}}function cj(t,e,n){if(Ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=we(e);t.children.has(r)||t.children.set(r,jp());const i=t.children.get(r);e=Ge(e),cj(i,e,n)}}function q0(t,e,n){t.value!==null?n(e,t.value):zW(t,(r,i)=>{const o=new ze(e.toString()+"/"+r);q0(i,o,n)})}function zW(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Fn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=10*1e3,qW=30*1e3,HW=5*60*1e3;class GW{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new WW(e);const r=zP+(qW-zP)*Math.random();Sc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Fn(e,(i,o)=>{o>0&&$i(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Sc(this.reportStats_.bind(this),Math.floor(Math.random()*2*HW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Or||(Or={}));function fj(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function w1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function b1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Or.ACK_USER_WRITE,this.source=fj()}operationForChild(e){if(Ee(this.path)){if(this.affectedTree.value!=null)return Z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ze(e));return new $p(Me(),n,this.revert)}}else return Z(we(this.path)===e,"operationForChild called for unrelated child."),new $p(Ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.source=e,this.path=n,this.type=Or.LISTEN_COMPLETE}operationForChild(e){return Ee(this.path)?new hf(this.source,Me()):new hf(this.source,Ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Or.OVERWRITE}operationForChild(e){return Ee(this.path)?new Ms(this.source,Me(),this.snap.getImmediateChild(e)):new Ms(this.source,Ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Or.MERGE}operationForChild(e){if(Ee(this.path)){const n=this.children.subtree(new ze(e));return n.isEmpty()?null:n.value?new Ms(this.source,Me(),n.value):new df(this.source,Me(),n)}else return Z(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new df(this.source,Ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function QW(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(FW(s.childName,s.snapshotNode))}),Lu(t,i,"child_removed",e,r,n),Lu(t,i,"child_added",e,r,n),Lu(t,i,"child_moved",o,r,n),Lu(t,i,"child_changed",e,r,n),Lu(t,i,"value",e,r,n),i}function Lu(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>XW(t,a,l)),s.forEach(a=>{const l=YW(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function YW(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function XW(t,e,n){if(e.childName==null||n.childName==null)throw Bl("Should only compare child_ events.");const r=new be(e.childName,e.snapshotNode),i=new be(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){return{eventCache:t,serverCache:e}}function xc(t,e,n,r){return Ag(new $o(e,n,r),t.serverCache)}function hj(t,e,n,r){return Ag(t.eventCache,new $o(e,n,r))}function Lp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ds(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rv;const JW=()=>(Rv||(Rv=new Nn($8)),Rv);class Ze{static fromObject(e){let n=new Ze(null);return Fn(e,(r,i)=>{n=n.set(new ze(r),i)}),n}constructor(e,n=JW()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Me(),value:this.value};if(Ee(e))return null;{const r=we(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Ge(e),n);return o!=null?{path:Dt(new ze(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ee(e))return this;{const n=we(e),r=this.children.get(n);return r!==null?r.subtree(Ge(e)):new Ze(null)}}set(e,n){if(Ee(e))return new Ze(n,this.children);{const r=we(e),o=(this.children.get(r)||new Ze(null)).set(Ge(e),n),s=this.children.insert(r,o);return new Ze(this.value,s)}}remove(e){if(Ee(e))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const n=we(e),r=this.children.get(n);if(r){const i=r.remove(Ge(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Ze(null):new Ze(this.value,o)}else return this}}get(e){if(Ee(e))return this.value;{const n=we(e),r=this.children.get(n);return r?r.get(Ge(e)):null}}setTree(e,n){if(Ee(e))return n;{const r=we(e),o=(this.children.get(r)||new Ze(null)).setTree(Ge(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Ze(this.value,s)}}fold(e){return this.fold_(Me(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Dt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Me(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ee(e))return null;{const o=we(e),s=this.children.get(o);return s?s.findOnPath_(Ge(e),Dt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Me(),n)}foreachOnPath_(e,n,r){if(Ee(e))return this;{this.value&&r(n,this.value);const i=we(e),o=this.children.get(i);return o?o.foreachOnPath_(Ge(e),Dt(n,i),r):new Ze(null)}}foreach(e){this.foreach_(Me(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Dt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.writeTree_=e}static empty(){return new Mr(new Ze(null))}}function Tc(t,e,n){if(Ee(e))return new Mr(new Ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=En(i,e);return o=o.updateChild(s,n),new Mr(t.writeTree_.set(i,o))}else{const i=new Ze(n),o=t.writeTree_.setTree(e,i);return new Mr(o)}}}function WP(t,e,n){let r=t;return Fn(n,(i,o)=>{r=Tc(r,Dt(e,i),o)}),r}function qP(t,e){if(Ee(e))return Mr.empty();{const n=t.writeTree_.setTree(e,new Ze(null));return new Mr(n)}}function H0(t,e){return qs(t,e)!=null}function qs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(En(n.path,e)):null}function HP(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gt,(r,i)=>{e.push(new be(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new be(r,i.value))}),e}function xo(t,e){if(Ee(e))return t;{const n=qs(t,e);return n!=null?new Mr(new Ze(n)):new Mr(t.writeTree_.subtree(e))}}function G0(t){return t.writeTree_.isEmpty()}function fl(t,e){return dj(Me(),t.writeTree_,e)}function dj(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(Z(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=dj(Dt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Dt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e){return yj(e,t)}function ZW(t,e,n,r,i){Z(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Tc(t.visibleWrites,e,n)),t.lastWriteId=r}function eq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function tq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Z(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&nq(a,r.path)?i=!1:Ir(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return rq(t),!0;if(r.snap)t.visibleWrites=qP(t.visibleWrites,r.path);else{const a=r.children;Fn(a,l=>{t.visibleWrites=qP(t.visibleWrites,Dt(r.path,l))})}return!0}else return!1}function nq(t,e){if(t.snap)return Ir(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ir(Dt(t.path,n),e))return!0;return!1}function rq(t){t.visibleWrites=pj(t.allWrites,iq,Me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function iq(t){return t.visible}function pj(t,e,n){let r=Mr.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Ir(n,s)?(a=En(n,s),r=Tc(r,a,o.snap)):Ir(s,n)&&(a=En(s,n),r=Tc(r,Me(),o.snap.getChild(a)));else if(o.children){if(Ir(n,s))a=En(n,s),r=WP(r,a,o.children);else if(Ir(s,n))if(a=En(s,n),Ee(a))r=WP(r,Me(),o.children);else{const l=el(o.children,we(a));if(l){const u=l.getChild(Ge(a));r=Tc(r,Me(),u)}}}else throw Bl("WriteRecord should have .snap or .children")}}return r}function mj(t,e,n,r,i){if(!r&&!i){const o=qs(t.visibleWrites,e);if(o!=null)return o;{const s=xo(t.visibleWrites,e);if(G0(s))return n;if(n==null&&!H0(s,Me()))return null;{const a=n||fe.EMPTY_NODE;return fl(s,a)}}}else{const o=xo(t.visibleWrites,e);if(!i&&G0(o))return n;if(!i&&n==null&&!H0(o,Me()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ir(u.path,e)||Ir(e,u.path))},a=pj(t.allWrites,s,e),l=n||fe.EMPTY_NODE;return fl(a,l)}}}function oq(t,e,n){let r=fe.EMPTY_NODE;const i=qs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=xo(t.visibleWrites,e);return n.forEachChild(gt,(s,a)=>{const l=fl(xo(o,new ze(s)),a);r=r.updateImmediateChild(s,l)}),HP(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=xo(t.visibleWrites,e);return HP(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function sq(t,e,n,r,i){Z(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Dt(e,n);if(H0(t.visibleWrites,o))return null;{const s=xo(t.visibleWrites,o);return G0(s)?i.getChild(n):fl(s,i.getChild(n))}}function aq(t,e,n,r){const i=Dt(e,n),o=qs(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=xo(t.visibleWrites,i);return fl(s,r.getNode().getImmediateChild(n))}else return null}function lq(t,e){return qs(t.visibleWrites,e)}function uq(t,e,n,r,i,o,s){let a;const l=xo(t.visibleWrites,e),u=qs(l,Me());if(u!=null)a=u;else if(n!=null)a=fl(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],f=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=d.getNext();for(;p&&c.length<i;)f(p,r)!==0&&c.push(p),p=d.getNext();return c}else return[]}function cq(){return{visibleWrites:Mr.empty(),allWrites:[],lastWriteId:-1}}function Fp(t,e,n,r){return mj(t.writeTree,t.treePath,e,n,r)}function E1(t,e){return oq(t.writeTree,t.treePath,e)}function GP(t,e,n,r){return sq(t.writeTree,t.treePath,e,n,r)}function Vp(t,e){return lq(t.writeTree,Dt(t.treePath,e))}function fq(t,e,n,r,i,o){return uq(t.writeTree,t.treePath,e,n,r,i,o)}function S1(t,e,n){return aq(t.writeTree,t.treePath,e,n)}function gj(t,e){return yj(Dt(t.treePath,e),t.writeTree)}function yj(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Z(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,cf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,uf(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,cl(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,cf(r,e.snapshotNode,i.oldSnap));else throw Bl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const vj=new dq;class x1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new $o(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return S1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ds(this.viewCache_),o=fq(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(t){return{filter:t}}function mq(t,e){Z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function gq(t,e,n,r,i){const o=new hq;let s,a;if(n.type===Or.OVERWRITE){const u=n;u.source.fromUser?s=K0(t,e,u.path,u.snap,r,i,o):(Z(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ee(u.path),s=Bp(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Or.MERGE){const u=n;u.source.fromUser?s=vq(t,e,u.path,u.children,r,i,o):(Z(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Q0(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Or.ACK_USER_WRITE){const u=n;u.revert?s=bq(t,e,u.path,r,i,o):s=_q(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Or.LISTEN_COMPLETE)s=wq(t,e,n.path,r,o);else throw Bl("Unknown operation type: "+n.type);const l=o.getChanges();return yq(e,s,l),{viewCache:s,changes:l}}function yq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Lp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(uj(Lp(e)))}}function _j(t,e,n,r,i,o){const s=e.eventCache;if(Vp(r,n)!=null)return e;{let a,l;if(Ee(n))if(Z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ds(e),c=u instanceof fe?u:fe.EMPTY_NODE,f=E1(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const u=Fp(r,Ds(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=we(n);if(u===".priority"){Z(jo(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const f=GP(r,n,c,l);f!=null?a=t.filter.updatePriority(c,f):a=s.getNode()}else{const c=Ge(n);let f;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const d=GP(r,n,s.getNode(),l);d!=null?f=s.getNode().getImmediateChild(u).updateChild(c,d):f=s.getNode().getImmediateChild(u)}else f=S1(r,u,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),u,f,c,i,o):a=s.getNode()}}return xc(e,a,s.isFullyInitialized()||Ee(n),t.filter.filtersNodes())}}function Bp(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(Ee(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=we(n);if(!l.isCompleteForPath(n)&&jo(n)>1)return e;const m=Ge(n),y=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),p,y,m,vj,null)}const f=hj(e,u,l.isFullyInitialized()||Ee(n),c.filtersNodes()),d=new x1(i,f,o);return _j(t,f,n,i,d,a)}function K0(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new x1(i,e,o);if(Ee(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=xc(e,u,!0,t.filter.filtersNodes());else{const f=we(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=xc(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=Ge(n),p=a.getNode().getImmediateChild(f);let m;if(Ee(d))m=r;else{const g=c.getCompleteChild(f);g!=null?ej(d)===".priority"&&g.getChild(nj(d)).isEmpty()?m=g:m=g.updateChild(d,r):m=fe.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),f,m,d,c,s);l=xc(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function KP(t,e){return t.eventCache.isCompleteForChild(e)}function vq(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=Dt(n,l);KP(e,we(c))&&(a=K0(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=Dt(n,l);KP(e,we(c))||(a=K0(t,a,c,u,i,o,s))}),a}function QP(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Q0(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ee(n)?u=r:u=new Ze(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((f,d)=>{if(c.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),m=QP(t,p,d);l=Bp(t,l,new ze(f),m,i,o,s,a)}}),u.children.inorderTraversal((f,d)=>{const p=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!c.hasChild(f)&&!p){const m=e.serverCache.getNode().getImmediateChild(f),g=QP(t,m,d);l=Bp(t,l,new ze(f),g,i,o,s,a)}}),l}function _q(t,e,n,r,i,o,s){if(Vp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ee(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bp(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Ee(n)){let u=new Ze(null);return l.getNode().forEachChild(Fa,(c,f)=>{u=u.set(new ze(c),f)}),Q0(t,e,n,u,i,o,a,s)}else return e}else{let u=new Ze(null);return r.foreach((c,f)=>{const d=Dt(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),Q0(t,e,n,u,i,o,a,s)}}function wq(t,e,n,r,i){const o=e.serverCache,s=hj(e,o.getNode(),o.isFullyInitialized()||Ee(n),o.isFiltered());return _j(t,s,n,r,vj,i)}function bq(t,e,n,r,i,o){let s;if(Vp(r,n)!=null)return e;{const a=new x1(r,e,i),l=e.eventCache.getNode();let u;if(Ee(n)||we(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Fp(r,Ds(e));else{const f=e.serverCache.getNode();Z(f instanceof fe,"serverChildren would be complete if leaf node"),c=E1(r,f)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=we(n);let f=S1(r,c,e.serverCache);f==null&&e.serverCache.isCompleteForChild(c)&&(f=l.getImmediateChild(c)),f!=null?u=t.filter.updateChild(l,c,f,Ge(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,fe.EMPTY_NODE,Ge(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Fp(r,Ds(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Vp(r,Me())!=null,xc(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new v1(r.getIndex()),o=BW(r);this.processor_=pq(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(fe.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),c=new $o(l,s.isFullyInitialized(),i.filtersNodes()),f=new $o(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ag(f,c),this.eventGenerator_=new KW(this.query_)}get query(){return this.query_}}function Sq(t){return t.viewCache_.serverCache.getNode()}function xq(t){return Lp(t.viewCache_)}function Tq(t,e){const n=Ds(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ee(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function YP(t){return t.eventRegistrations_.length===0}function Aq(t,e){t.eventRegistrations_.push(e)}function XP(t,e,n){const r=[];if(n){Z(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function JP(t,e,n,r){e.type===Or.MERGE&&e.source.queryId!==null&&(Z(Ds(t.viewCache_),"We should always have a full cache before handling merges"),Z(Lp(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=gq(t.processor_,i,e,n,r);return mq(t.processor_,o.viewCache),Z(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,wj(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Pq(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(gt,(o,s)=>{r.push(cl(o,s))}),n.isFullyInitialized()&&r.push(uj(n.getNode())),wj(t,r,n.getNode(),e)}function wj(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return QW(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up;class bj{constructor(){this.views=new Map}}function Cq(t){Z(!Up,"__referenceConstructor has already been defined"),Up=t}function Iq(){return Z(Up,"Reference.ts has not been loaded"),Up}function Oq(t){return t.views.size===0}function T1(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return Z(o!=null,"SyncTree gave us an op for an invalid query."),JP(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(JP(s,e,n,r));return o}}function Ej(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Fp(n,i?r:null),l=!1;a?l=!0:r instanceof fe?(a=E1(n,r),l=!1):(a=fe.EMPTY_NODE,l=!1);const u=Ag(new $o(a,l,!1),new $o(r,i,!1));return new Eq(e,u)}return s}function Nq(t,e,n,r,i,o){const s=Ej(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),Aq(s,n),Pq(s,n)}function Rq(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=Lo(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(XP(u,n,r)),YP(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(XP(l,n,r)),YP(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Lo(t)&&o.push(new(Iq())(e._repo,e._path)),{removed:o,events:s}}function Sj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function To(t,e){let n=null;for(const r of t.views.values())n=n||Tq(r,e);return n}function xj(t,e){if(e._queryParams.loadsAllData())return Cg(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Tj(t,e){return xj(t,e)!=null}function Lo(t){return Cg(t)!=null}function Cg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp;function kq(t){Z(!zp,"__referenceConstructor has already been defined"),zp=t}function Mq(){return Z(zp,"Reference.ts has not been loaded"),zp}let Dq=1;class ZP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=cq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Aj(t,e,n,r,i){return ZW(t.pendingWriteTree_,e,n,r,i),i?fh(t,new Ms(fj(),e,n)):[]}function hs(t,e,n=!1){const r=eq(t.pendingWriteTree_,e);if(tq(t.pendingWriteTree_,e)){let o=new Ze(null);return r.snap!=null?o=o.set(Me(),!0):Fn(r.children,s=>{o=o.set(new ze(s),!0)}),fh(t,new $p(r.path,o,n))}else return[]}function ch(t,e,n){return fh(t,new Ms(w1(),e,n))}function jq(t,e,n){const r=Ze.fromObject(n);return fh(t,new df(w1(),e,r))}function $q(t,e){return fh(t,new hf(w1(),e))}function Lq(t,e,n){const r=P1(t,n);if(r){const i=C1(r),o=i.path,s=i.queryId,a=En(o,e),l=new hf(b1(s),a);return I1(t,o,l)}else return[]}function Wp(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||Tj(s,e))){const l=Rq(s,e,n,r);Oq(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(d,p)=>Lo(p));if(c&&!f){const d=t.syncPointTree_.subtree(o);if(!d.isEmpty()){const p=Bq(d);for(let m=0;m<p.length;++m){const g=p[m],y=g.query,w=Oj(t,g);t.listenProvider_.startListening(Ac(y),pf(t,y),w.hashFn,w.onComplete)}}}!f&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Ac(e),null):u.forEach(d=>{const p=t.queryToTagMap.get(Ig(d));t.listenProvider_.stopListening(Ac(d),p)}))}Uq(t,u)}return a}function Pj(t,e,n,r){const i=P1(t,r);if(i!=null){const o=C1(i),s=o.path,a=o.queryId,l=En(s,e),u=new Ms(b1(a),l,n);return I1(t,s,u)}else return[]}function Fq(t,e,n,r){const i=P1(t,r);if(i){const o=C1(i),s=o.path,a=o.queryId,l=En(s,e),u=Ze.fromObject(n),c=new df(b1(a),l,u);return I1(t,s,c)}else return[]}function Y0(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(d,p)=>{const m=En(d,i);o=o||To(p,m),s=s||Lo(p)});let a=t.syncPointTree_.get(i);a?(s=s||Lo(a),o=o||To(a,Me())):(a=new bj,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=fe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const g=To(m,Me());g&&(o=o.updateImmediateChild(p,g))}));const u=Tj(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=Ig(e);Z(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=zq();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const c=Pg(t.pendingWriteTree_,i);let f=Nq(a,e,n,c,o,l);if(!u&&!s&&!r){const d=xj(a,e);f=f.concat(Wq(t,e,d))}return f}function A1(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=En(s,e),u=To(a,l);if(u)return u});return mj(i,e,o,n,!0)}function Vq(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const f=En(u,n);r=r||To(c,f)});let i=t.syncPointTree_.get(n);i?r=r||To(i,Me()):(i=new bj,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new $o(r,!0,!1):null,a=Pg(t.pendingWriteTree_,e._path),l=Ej(i,e,a,o?s.getNode():fe.EMPTY_NODE,o);return xq(l)}function fh(t,e){return Cj(e,t.syncPointTree_,null,Pg(t.pendingWriteTree_,Me()))}function Cj(t,e,n,r){if(Ee(t.path))return Ij(t,e,n,r);{const i=e.get(Me());n==null&&i!=null&&(n=To(i,Me()));let o=[];const s=we(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=gj(r,s);o=o.concat(Cj(a,l,u,c))}return i&&(o=o.concat(T1(i,t,r,n))),o}}function Ij(t,e,n,r){const i=e.get(Me());n==null&&i!=null&&(n=To(i,Me()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=gj(r,s),c=t.operationForChild(s);c&&(o=o.concat(Ij(c,a,l,u)))}),i&&(o=o.concat(T1(i,t,r,n))),o}function Oj(t,e){const n=e.query,r=pf(t,n);return{hashFn:()=>(Sq(e)||fe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Lq(t,n._path,r):$q(t,n._path);{const o=V8(i,n);return Wp(t,n,null,o)}}}}function pf(t,e){const n=Ig(e);return t.queryToTagMap.get(n)}function Ig(t){return t._path.toString()+"$"+t._queryIdentifier}function P1(t,e){return t.tagToQueryMap.get(e)}function C1(t){const e=t.indexOf("$");return Z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ze(t.substr(0,e))}}function I1(t,e,n){const r=t.syncPointTree_.get(e);Z(r,"Missing sync point for query tag that we're tracking");const i=Pg(t.pendingWriteTree_,e);return T1(r,n,i,null)}function Bq(t){return t.fold((e,n,r)=>{if(n&&Lo(n))return[Cg(n)];{let i=[];return n&&(i=Sj(n)),Fn(r,(o,s)=>{i=i.concat(s)}),i}})}function Ac(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Mq())(t._repo,t._path):t}function Uq(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ig(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function zq(){return Dq++}function Wq(t,e,n){const r=e._path,i=pf(t,e),o=Oj(t,n),s=t.listenProvider_.startListening(Ac(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)Z(!Lo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,f)=>{if(!Ee(u)&&c&&Lo(c))return[Cg(c).query];{let d=[];return c&&(d=d.concat(Sj(c).map(p=>p.query))),Fn(f,(p,m)=>{d=d.concat(m)}),d}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Ac(c),pf(t,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new O1(n)}node(){return this.node_}}class N1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Dt(this.path_,e);return new N1(this.syncTree_,n)}node(){return A1(this.syncTree_,this.path_)}}const qq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},eC=function(t,e,n){if(!t||typeof t!="object")return t;if(Z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Hq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Gq(t[".sv"],e);Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Hq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Z(!1,"Unexpected server value: "+t)}},Gq=function(t,e,n){t.hasOwnProperty("increment")||Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Z(!1,"Unexpected increment value: "+r);const i=e.node();if(Z(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Kq=function(t,e,n,r){return R1(e,new N1(n,t),r)},Nj=function(t,e,n){return R1(t,new O1(e),n)};function R1(t,e,n){const r=t.getPriority().val(),i=eC(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=eC(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new zt(a,Kt(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new zt(i))),s.forEachChild(gt,(a,l)=>{const u=R1(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function M1(t,e){let n=e instanceof ze?e:new ze(e),r=t,i=we(n);for(;i!==null;){const o=el(r.node.children,i)||{children:{},childCount:0};r=new k1(i,r,o),n=Ge(n),i=we(n)}return r}function Yl(t){return t.node.value}function Rj(t,e){t.node.value=e,X0(t)}function kj(t){return t.node.childCount>0}function Qq(t){return Yl(t)===void 0&&!kj(t)}function Og(t,e){Fn(t.node.children,(n,r)=>{e(new k1(n,t,r))})}function Mj(t,e,n,r){n&&e(t),Og(t,i=>{Mj(i,e,!0)})}function Yq(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hh(t){return new ze(t.parent===null?t.name:hh(t.parent)+"/"+t.name)}function X0(t){t.parent!==null&&Xq(t.parent,t.name,t)}function Xq(t,e,n){const r=Qq(n),i=$i(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,X0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,X0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq=/[\[\].#$\/\u0000-\u001F\u007F]/,Zq=/[\[\].#$\u0000-\u001F\u007F]/,kv=10*1024*1024,Dj=function(t){return typeof t=="string"&&t.length!==0&&!Jq.test(t)},jj=function(t){return typeof t=="string"&&t.length!==0&&!Zq.test(t)},e7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jj(t)},t7=function(t,e,n,r){D1(IE(t,"value"),e,n)},D1=function(t,e,n){const r=n instanceof ze?new _W(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+rs(r));if(typeof e=="function")throw new Error(t+"contains a function "+rs(r)+" with contents = "+e.toString());if(kD(e))throw new Error(t+"contains "+e.toString()+" "+rs(r));if(typeof e=="string"&&e.length>kv/3&&fg(e)>kv)throw new Error(t+"contains a string greater than "+kv+" utf8 bytes "+rs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Fn(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Dj(s)))throw new Error(t+" contains an invalid key ("+s+") "+rs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wW(r,s),D1(t,a,r),bW(r)}),i&&o)throw new Error(t+' contains ".value" child '+rs(r)+" in addition to actual children.")}},$j=function(t,e,n,r){if(!jj(n))throw new Error(IE(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},n7=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$j(t,e,n)},r7=function(t,e){if(we(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},i7=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Dj(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!e7(n))throw new Error(IE(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function j1(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!m1(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Lj(t,e,n){j1(t,n),Fj(t,r=>m1(r,e))}function oi(t,e,n){j1(t,n),Fj(t,r=>Ir(r,e)||Ir(e,r))}function Fj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(s7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function s7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ec&&dn("event: "+n.toString()),Ql(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7="repo_interrupt",l7=25;class u7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jp(),this.transactionQueueTree_=new k1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function c7(t,e,n){if(t.stats_=d1(t.repoInfo_),t.forceRestClient_||W8())t.server_=new Dp(t.repoInfo_,(r,i,o,s)=>{tC(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>nC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new wi(t.repoInfo_,e,(r,i,o,s)=>{tC(t,r,i,o,s)},r=>{nC(t,r)},r=>{h7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Q8(t.repoInfo_,()=>new GW(t.stats_,t.server_)),t.infoData_=new UW,t.infoSyncTree_=new ZP({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ch(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),L1(t,"connected",!1),t.serverSyncTree_=new ZP({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);oi(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function f7(t){const n=t.infoData_.getNode(new ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $1(t){return qq({timestamp:f7(t)})}function tC(t,e,n,r,i){t.dataUpdateCount++;const o=new ze(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=bp(n,u=>Kt(u));s=Fq(t.serverSyncTree_,o,l,i)}else{const l=Kt(n);s=Pj(t.serverSyncTree_,o,l,i)}else if(r){const l=bp(n,u=>Kt(u));s=jq(t.serverSyncTree_,o,l)}else{const l=Kt(n);s=ch(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Rg(t,o)),oi(t.eventQueue_,a,s)}function nC(t,e){L1(t,"connected",e),e===!1&&m7(t)}function h7(t,e){Fn(e,(n,r)=>{L1(t,n,r)})}function L1(t,e,n){const r=new ze("/.info/"+e),i=Kt(n);t.infoData_.updateSnapshot(r,i);const o=ch(t.infoSyncTree_,r,i);oi(t.eventQueue_,r,o)}function Vj(t){return t.nextWriteId_++}function d7(t,e,n){const r=Vq(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Kt(i).withIndex(e._queryParams.getIndex());Y0(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=ch(t.serverSyncTree_,e._path,o);else{const a=pf(t.serverSyncTree_,e);s=Pj(t.serverSyncTree_,e._path,o,a)}return oi(t.eventQueue_,e._path,s),Wp(t.serverSyncTree_,e,n,null,!0),o},i=>(Ng(t,"get for query "+Mt(e)+" failed: "+i),Promise.reject(new Error(i))))}function p7(t,e,n,r,i){Ng(t,"set",{path:e.toString(),value:n,priority:r});const o=$1(t),s=Kt(n,r),a=A1(t.serverSyncTree_,e),l=Nj(s,a,o),u=Vj(t),c=Aj(t.serverSyncTree_,e,l,u,!0);j1(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(d,p)=>{const m=d==="ok";m||jn("set at "+e+" failed: "+d);const g=hs(t.serverSyncTree_,u,!m);oi(t.eventQueue_,e,g),v7(t,i,d,p)});const f=qj(t,e);Rg(t,f),oi(t.eventQueue_,f,[])}function m7(t){Ng(t,"onDisconnectEvents");const e=$1(t),n=jp();q0(t.onDisconnect_,Me(),(i,o)=>{const s=Kq(i,o,t.serverSyncTree_,e);cj(n,i,s)});let r=[];q0(n,Me(),(i,o)=>{r=r.concat(ch(t.serverSyncTree_,i,o));const s=qj(t,i);Rg(t,s)}),t.onDisconnect_=jp(),oi(t.eventQueue_,Me(),r)}function g7(t,e,n){let r;we(e._path)===".info"?r=Y0(t.infoSyncTree_,e,n):r=Y0(t.serverSyncTree_,e,n),Lj(t.eventQueue_,e._path,r)}function J0(t,e,n){let r;we(e._path)===".info"?r=Wp(t.infoSyncTree_,e,n):r=Wp(t.serverSyncTree_,e,n),Lj(t.eventQueue_,e._path,r)}function y7(t){t.persistentConnection_&&t.persistentConnection_.interrupt(a7)}function Ng(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dn(n,...e)}function v7(t,e,n,r){e&&Ql(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function Bj(t,e,n){return A1(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function F1(t,e=t.transactionQueueTree_){if(e||kg(t,e),Yl(e)){const n=zj(t,e);Z(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&_7(t,hh(e),n)}else kj(e)&&Og(e,n=>{F1(t,n)})}function _7(t,e,n){const r=n.map(u=>u.currentWriteId),i=Bj(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Z(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const f=En(e,c.path);o=o.updateChild(f,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Ng(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(hs(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();kg(t,M1(t.transactionQueueTree_,e)),F1(t,t.transactionQueueTree_),oi(t.eventQueue_,e,c);for(let d=0;d<f.length;d++)Ql(f[d])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{jn("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Rg(t,e)}},s)}function Rg(t,e){const n=Uj(t,e),r=hh(n),i=zj(t,n);return w7(t,i,r),r}function w7(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=En(n,l.path);let c=!1,f;if(Z(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,f=l.abortReason,i=i.concat(hs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=l7)c=!0,f="maxretry",i=i.concat(hs(t.serverSyncTree_,l.currentWriteId,!0));else{const d=Bj(t,l.path,s);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){D1("transaction failed: Data returned ",p,l.path);let m=Kt(p);typeof p=="object"&&p!=null&&$i(p,".priority")||(m=m.updatePriority(d.getPriority()));const y=l.currentWriteId,w=$1(t),v=Nj(m,d,w);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=Vj(t),s.splice(s.indexOf(y),1),i=i.concat(Aj(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(hs(t.serverSyncTree_,y,!0))}else c=!0,f="nodata",i=i.concat(hs(t.serverSyncTree_,l.currentWriteId,!0))}oi(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}kg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ql(r[a]);F1(t,t.transactionQueueTree_)}function Uj(t,e){let n,r=t.transactionQueueTree_;for(n=we(e);n!==null&&Yl(r)===void 0;)r=M1(r,n),e=Ge(e),n=we(e);return r}function zj(t,e){const n=[];return Wj(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Wj(t,e,n){const r=Yl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Og(e,i=>{Wj(t,i,n)})}function kg(t,e){const n=Yl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Rj(e,n.length>0?n:void 0)}Og(e,r=>{kg(t,r)})}function qj(t,e){const n=hh(Uj(t,e)),r=M1(t.transactionQueueTree_,e);return Yq(r,i=>{Mv(t,i)}),Mv(t,r),Mj(r,i=>{Mv(t,i)}),n}function Mv(t,e){const n=Yl(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(Z(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(Z(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(hs(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Rj(e,void 0):n.length=o+1,oi(t.eventQueue_,hh(e),i);for(let s=0;s<r.length;s++)Ql(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function E7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):jn(`Invalid query segment '${n}' in query '${t}'`)}return e}const rC=function(t,e){const n=S7(t),r=n.namespace;n.domain==="firebase.com"&&Oi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Oi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||D8();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qD(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ze(n.pathString)}},S7=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(c,f)),c<f&&(i=b7(t.substring(c,f)));const d=E7(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Mt(this.snapshot.exportVal())}}class T7{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ee(this._path)?null:ej(this._path)}get ref(){return new Fi(this._repo,this._path)}get _queryIdentifier(){const e=UP(this._queryParams),n=f1(e);return n==="{}"?"default":n}get _queryObject(){return UP(this._queryParams)}isEqual(e){if(e=jr(e),!(e instanceof V1))return!1;const n=this._repo===e._repo,r=m1(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+vW(this._path)}}class Fi extends V1{constructor(e,n){super(e,n,new _1,!1)}get parent(){const e=nj(this._path);return e===null?null:new Fi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class mf{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ze(e),r=Z0(this.ref,e);return new mf(this._node.getChild(n),r,gt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new mf(i,Z0(this.ref,r),gt)))}hasChild(e){const n=new ze(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sr(t,e){return t=jr(t),t._checkNotDeleted("ref"),e!==void 0?Z0(t._root,e):t._root}function Z0(t,e){return t=jr(t),we(t._path)===null?n7("child","path",e):$j("child","path",e),new Fi(t._repo,Dt(t._path,e))}function Fu(t,e){t=jr(t),r7("set",t._path),t7("set",e,t._path);const n=new cg;return p7(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function A7(t){t=jr(t);const e=new Hj(()=>{}),n=new Mg(e);return d7(t._repo,t,n).then(r=>new mf(r,new Fi(t._repo,t._path),t._queryParams.getIndex()))}class Mg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new x7("value",this,new mf(e.snapshotNode,new Fi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new T7(this,e,n):null}matches(e){return e instanceof Mg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function P7(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,u=(c,f)=>{J0(t._repo,t,a),l(c,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new Hj(n,o||void 0),a=new Mg(s);return g7(t._repo,t,a),()=>J0(t._repo,t,a)}function na(t,e,n,r){return P7(t,"value",e,n,r)}function C7(t,e,n){J0(t._repo,t,null)}Cq(Fi);kq(Fi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7="FIREBASE_DATABASE_EMULATOR_HOST",ew={};let O7=!1;function N7(t,e,n,r){const i=e.lastIndexOf(":"),o=e.substring(0,i),s=nh(o);t.repoInfo_=new qD(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function R7(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Oi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=rC(o,i),a=s.repoInfo,l;typeof process<"u"&&xP&&(l=xP[I7]),l?(o=`http://${l}?ns=${a.namespace}`,s=rC(o,i),a=s.repoInfo):s.repoInfo.secure;const u=new H8(t.name,t.options,e);i7("Invalid Firebase Database URL",s),Ee(s.path)||Oi("Database URL must point to the root of a Firebase Database (not including a child path).");const c=M7(a,t,u,new q8(t,n));return new D7(c,t)}function k7(t,e){const n=ew[e];(!n||n[t.key]!==t)&&Oi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),y7(t),delete n[t.key]}function M7(t,e,n,r){let i=ew[e.name];i||(i={},ew[e.name]=i);let o=i[t.toURLString()];return o&&Oi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new u7(t,O7,n,r),i[t.toURLString()]=o,o}class D7{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(c7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fi(this._repo,Me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(k7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Oi("Cannot call "+e+" on a deleted database.")}}function B1(t=rM(),e){const n=eM(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=z2("database");r&&j7(n,...r)}return n}function j7(t,e,n,r={}){t=jr(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Jc(r,o.repoInfo_.emulatorOptions))return;Oi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Oi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new zd(zd.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:H2(r.mockUserToken,t.app.options.projectId);s=new zd(a)}nh(e)&&(q2(e),G2("Database",!0)),N7(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){I8(nM),ef(new tl("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return R7(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),bo(TP,AP,t),bo(TP,AP,"esm2020")}wi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};wi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};$7();function Gj(t,e){return function(){return t.apply(e,arguments)}}const{toString:L7}=Object.prototype,{getPrototypeOf:U1}=Object,{iterator:Dg,toStringTag:Kj}=Symbol,jg=(t=>e=>{const n=L7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Lr=t=>(t=t.toLowerCase(),e=>jg(e)===t),$g=t=>e=>typeof e===t,{isArray:Xl}=Array,hl=$g("undefined");function dh(t){return t!==null&&!hl(t)&&t.constructor!==null&&!hl(t.constructor)&&$n(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Qj=Lr("ArrayBuffer");function F7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Qj(t.buffer),e}const V7=$g("string"),$n=$g("function"),Yj=$g("number"),ph=t=>t!==null&&typeof t=="object",B7=t=>t===!0||t===!1,Wd=t=>{if(jg(t)!=="object")return!1;const e=U1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Kj in t)&&!(Dg in t)},U7=t=>{if(!ph(t)||dh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},z7=Lr("Date"),W7=Lr("File"),q7=Lr("Blob"),H7=Lr("FileList"),G7=t=>ph(t)&&$n(t.pipe),K7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$n(t.append)&&((e=jg(t))==="formdata"||e==="object"&&$n(t.toString)&&t.toString()==="[object FormData]"))},Q7=Lr("URLSearchParams"),[Y7,X7,J7,Z7]=["ReadableStream","Request","Response","Headers"].map(Lr),eH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Xl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(dh(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function Xj(t,e){if(dh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Jj=t=>!hl(t)&&t!==ds;function tw(){const{caseless:t,skipUndefined:e}=Jj(this)&&this||{},n={},r=(i,o)=>{const s=t&&Xj(n,o)||o;Wd(n[s])&&Wd(i)?n[s]=tw(n[s],i):Wd(i)?n[s]=tw({},i):Xl(i)?n[s]=i.slice():(!e||!hl(i))&&(n[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&mh(arguments[i],r);return n}const tH=(t,e,n,{allOwnKeys:r}={})=>(mh(e,(i,o)=>{n&&$n(i)?t[o]=Gj(i,n):t[o]=i},{allOwnKeys:r}),t),nH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},iH=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&U1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},sH=t=>{if(!t)return null;if(Xl(t))return t;let e=t.length;if(!Yj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},aH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&U1(Uint8Array)),lH=(t,e)=>{const r=(t&&t[Dg]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},uH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},cH=Lr("HTMLFormElement"),fH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),iC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hH=Lr("RegExp"),Zj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};mh(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},dH=t=>{Zj(t,(e,n)=>{if($n(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if($n(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pH=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Xl(t)?r(t):r(String(t).split(e)),n},mH=()=>{},gH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function yH(t){return!!(t&&$n(t.append)&&t[Kj]==="FormData"&&t[Dg])}const vH=t=>{const e=new Array(10),n=(r,i)=>{if(ph(r)){if(e.indexOf(r)>=0)return;if(dh(r))return r;if(!("toJSON"in r)){e[i]=r;const o=Xl(r)?[]:{};return mh(r,(s,a)=>{const l=n(s,i+1);!hl(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},_H=Lr("AsyncFunction"),wH=t=>t&&(ph(t)||$n(t))&&$n(t.then)&&$n(t.catch),e$=((t,e)=>t?setImmediate:e?((n,r)=>(ds.addEventListener("message",({source:i,data:o})=>{i===ds&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$n(ds.postMessage)),bH=typeof queueMicrotask<"u"?queueMicrotask.bind(ds):typeof process<"u"&&process.nextTick||e$,EH=t=>t!=null&&$n(t[Dg]),F={isArray:Xl,isArrayBuffer:Qj,isBuffer:dh,isFormData:K7,isArrayBufferView:F7,isString:V7,isNumber:Yj,isBoolean:B7,isObject:ph,isPlainObject:Wd,isEmptyObject:U7,isReadableStream:Y7,isRequest:X7,isResponse:J7,isHeaders:Z7,isUndefined:hl,isDate:z7,isFile:W7,isBlob:q7,isRegExp:hH,isFunction:$n,isStream:G7,isURLSearchParams:Q7,isTypedArray:aH,isFileList:H7,forEach:mh,merge:tw,extend:tH,trim:eH,stripBOM:nH,inherits:rH,toFlatObject:iH,kindOf:jg,kindOfTest:Lr,endsWith:oH,toArray:sH,forEachEntry:lH,matchAll:uH,isHTMLForm:cH,hasOwnProperty:iC,hasOwnProp:iC,reduceDescriptors:Zj,freezeMethods:dH,toObjectSet:pH,toCamelCase:fH,noop:mH,toFiniteNumber:gH,findKey:Xj,global:ds,isContextDefined:Jj,isSpecCompliantForm:yH,toJSONObject:vH,isAsyncFn:_H,isThenable:wH,setImmediate:e$,asap:bH,isIterable:EH};function ge(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}F.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const t$=ge.prototype,n$={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{n$[t]={value:t}});Object.defineProperties(ge,n$);Object.defineProperty(t$,"isAxiosError",{value:!0});ge.from=(t,e,n,r,i,o)=>{const s=Object.create(t$);F.toFlatObject(t,s,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ge.call(s,a,l,n,r,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",o&&Object.assign(s,o),s};const SH=null;function nw(t){return F.isPlainObject(t)||F.isArray(t)}function r$(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function oC(t,e,n){return t?t.concat(e).map(function(i,o){return i=r$(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function xH(t){return F.isArray(t)&&!t.some(nw)}const TH=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function Lg(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!F.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(F.isDate(m))return m.toISOString();if(F.isBoolean(m))return m.toString();if(!l&&F.isBlob(m))throw new ge("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(m)||F.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,y){let w=m;if(m&&!y&&typeof m=="object"){if(F.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(F.isArray(m)&&xH(m)||(F.isFileList(m)||F.endsWith(g,"[]"))&&(w=F.toArray(m)))return g=r$(g),w.forEach(function(b,C){!(F.isUndefined(b)||b===null)&&e.append(s===!0?oC([g],C,o):s===null?g:g+"[]",u(b))}),!1}return nw(m)?!0:(e.append(oC(y,g,o),u(m)),!1)}const f=[],d=Object.assign(TH,{defaultVisitor:c,convertValue:u,isVisitable:nw});function p(m,g){if(!F.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),F.forEach(m,function(w,v){(!(F.isUndefined(w)||w===null)&&i.call(e,w,F.isString(v)?v.trim():v,g,d))===!0&&p(w,g?g.concat(v):[v])}),f.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return p(t),e}function sC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function z1(t,e){this._pairs=[],t&&Lg(t,this,e)}const i$=z1.prototype;i$.append=function(e,n){this._pairs.push([e,n])};i$.toString=function(e){const n=e?function(r){return e.call(this,r,sC)}:sC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function AH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function o$(t,e,n){if(!e)return t;const r=n&&n.encode||AH;F.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=F.isURLSearchParams(e)?e.toString():new z1(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class aC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const s$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PH=typeof URLSearchParams<"u"?URLSearchParams:z1,CH=typeof FormData<"u"?FormData:null,IH=typeof Blob<"u"?Blob:null,OH={isBrowser:!0,classes:{URLSearchParams:PH,FormData:CH,Blob:IH},protocols:["http","https","file","blob","url","data"]},W1=typeof window<"u"&&typeof document<"u",rw=typeof navigator=="object"&&navigator||void 0,NH=W1&&(!rw||["ReactNative","NativeScript","NS"].indexOf(rw.product)<0),RH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kH=W1&&window.location.href||"http://localhost",MH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:W1,hasStandardBrowserEnv:NH,hasStandardBrowserWebWorkerEnv:RH,navigator:rw,origin:kH},Symbol.toStringTag,{value:"Module"})),yn={...MH,...OH};function DH(t,e){return Lg(t,new yn.classes.URLSearchParams,{visitor:function(n,r,i,o){return yn.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function jH(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $H(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function a$(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&F.isArray(i)?i.length:s,l?(F.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!F.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&F.isArray(i[s])&&(i[s]=$H(i[s])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,i)=>{e(jH(r),i,n,0)}),n}return null}function LH(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const gh={transitional:s$,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=F.isObject(e);if(o&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i?JSON.stringify(a$(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return DH(e,this.formSerializer).toString();if((a=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Lg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),LH(e)):e}],transformResponse:[function(e){const n=this.transitional||gh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?ge.from(a,ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yn.classes.FormData,Blob:yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{gh.headers[t]={}});const FH=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VH=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&FH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},lC=Symbol("internals");function Vu(t){return t&&String(t).trim().toLowerCase()}function qd(t){return t===!1||t==null?t:F.isArray(t)?t.map(qd):String(t)}function BH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const UH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Dv(t,e,n,r,i){if(F.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function zH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function WH(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let Ln=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const c=Vu(l);if(!c)throw new Error("header name must be a non-empty string");const f=F.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=qd(a))}const s=(a,l)=>F.forEach(a,(u,c)=>o(u,c,l));if(F.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(F.isString(e)&&(e=e.trim())&&!UH(e))s(VH(e),n);else if(F.isObject(e)&&F.isIterable(e)){let a={},l,u;for(const c of e){if(!F.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?F.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Vu(e),e){const r=F.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return BH(i);if(F.isFunction(n))return n.call(this,i,r);if(F.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Vu(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Dv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Vu(s),s){const a=F.findKey(r,s);a&&(!n||Dv(r,r[a],a,n))&&(delete r[a],i=!0)}}return F.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Dv(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return F.forEach(this,(i,o)=>{const s=F.findKey(r,o);if(s){n[s]=qd(i),delete n[o];return}const a=e?zH(o):String(o).trim();a!==o&&delete n[o],n[a]=qd(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[lC]=this[lC]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Vu(s);r[a]||(WH(i,s),r[a]=!0)}return F.isArray(e)?e.forEach(o):o(e),this}};Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(Ln.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});F.freezeMethods(Ln);function jv(t,e){const n=this||gh,r=e||n,i=Ln.from(r.headers);let o=r.data;return F.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function l$(t){return!!(t&&t.__CANCEL__)}function Jl(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(Jl,ge,{__CANCEL__:!0});function u$(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function HH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[o];s||(s=u),n[i]=l,r[i]=u;let f=o,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const p=c&&u-c;return p?Math.round(d*1e3/p):void 0}}function GH(t,e){let n=0,r=1e3/e,i,o;const s=(u,c=Date.now())=>{n=c,i=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=r?s(u,c):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-f)))},()=>i&&s(i)]}const qp=(t,e,n=3)=>{let r=0;const i=HH(50,250);return GH(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),c=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},uC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},cC=t=>(...e)=>F.asap(()=>t(...e)),KH=yn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,yn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(yn.origin),yn.navigator&&/(msie|trident)/i.test(yn.navigator.userAgent)):()=>!0,QH=yn.hasStandardBrowserEnv?{write(t,e,n,r,i,o,s){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];F.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),F.isString(r)&&a.push(`path=${r}`),F.isString(i)&&a.push(`domain=${i}`),o===!0&&a.push("secure"),F.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function YH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function XH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function c$(t,e,n){let r=!YH(e);return t&&(r||n==!1)?XH(t,e):e}const fC=t=>t instanceof Ln?{...t}:t;function js(t,e){e=e||{};const n={};function r(u,c,f,d){return F.isPlainObject(u)&&F.isPlainObject(c)?F.merge.call({caseless:d},u,c):F.isPlainObject(c)?F.merge({},c):F.isArray(c)?c.slice():c}function i(u,c,f,d){if(F.isUndefined(c)){if(!F.isUndefined(u))return r(void 0,u,f,d)}else return r(u,c,f,d)}function o(u,c){if(!F.isUndefined(c))return r(void 0,c)}function s(u,c){if(F.isUndefined(c)){if(!F.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,c,f)=>i(fC(u),fC(c),f,!0)};return F.forEach(Object.keys({...t,...e}),function(c){const f=l[c]||i,d=f(t[c],e[c],c);F.isUndefined(d)&&f!==a||(n[c]=d)}),n}const f$=t=>{const e=js({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;if(e.headers=s=Ln.from(s),e.url=o$(c$(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),F.isFormData(n)){if(yn.hasStandardBrowserEnv||yn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,f])=>{u.includes(c.toLowerCase())&&s.set(c,f)})}}if(yn.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(e)),r||r!==!1&&KH(e.url))){const l=i&&o&&QH.read(o);l&&s.set(i,l)}return e},JH=typeof XMLHttpRequest<"u",ZH=JH&&function(t){return new Promise(function(n,r){const i=f$(t);let o=i.data;const s=Ln.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,f,d,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const b=Ln.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};u$(function(E){n(E),g()},function(E){r(E),g()},S),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(r(new ge("Request aborted",ge.ECONNABORTED,t,y)),y=null)},y.onerror=function(C){const S=C&&C.message?C.message:"Network Error",A=new ge(S,ge.ERR_NETWORK,t,y);A.event=C||null,r(A),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||s$;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new ge(C,S.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&F.forEach(s.toJSON(),function(C,S){y.setRequestHeader(S,C)}),F.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),u&&([d,m]=qp(u,!0),y.addEventListener("progress",d)),l&&y.upload&&([f,p]=qp(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=b=>{y&&(r(!b||b.type?new Jl(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const v=qH(i.url);if(v&&yn.protocols.indexOf(v)===-1){r(new ge("Unsupported protocol "+v+":",ge.ERR_BAD_REQUEST,t));return}y.send(o||null)})},eG=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof ge?c:new Jl(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{s=null,o(new ge(`timeout ${e} of ms exceeded`,ge.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},tG=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},nG=async function*(t,e){for await(const n of rG(t))yield*tG(n,e)},rG=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},hC=(t,e,n,r)=>{const i=nG(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let f=c.byteLength;if(n){let d=o+=f;n(d)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},dC=64*1024,{isFunction:cd}=F,iG=(({Request:t,Response:e})=>({Request:t,Response:e}))(F.global),{ReadableStream:pC,TextEncoder:mC}=F.global,gC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},oG=t=>{t=F.merge.call({skipUndefined:!0},iG,t);const{fetch:e,Request:n,Response:r}=t,i=e?cd(e):typeof fetch=="function",o=cd(n),s=cd(r);if(!i)return!1;const a=i&&cd(pC),l=i&&(typeof mC=="function"?(m=>g=>m.encode(g))(new mC):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=o&&a&&gC(()=>{let m=!1;const g=new n(yn.origin,{body:new pC,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),c=s&&a&&gC(()=>F.isReadableStream(new r("").body)),f={stream:c&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(g,y)=>{let w=g&&g[m];if(w)return w.call(g);throw new ge(`Response type '${m}' is not supported`,ge.ERR_NOT_SUPPORT,y)})});const d=async m=>{if(m==null)return 0;if(F.isBlob(m))return m.size;if(F.isSpecCompliantForm(m))return(await new n(yn.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(F.isArrayBufferView(m)||F.isArrayBuffer(m))return m.byteLength;if(F.isURLSearchParams(m)&&(m=m+""),F.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const y=F.toFiniteNumber(m.getContentLength());return y??d(g)};return async m=>{let{url:g,method:y,data:w,signal:v,cancelToken:b,timeout:C,onDownloadProgress:S,onUploadProgress:A,responseType:E,headers:x,withCredentials:P="same-origin",fetchOptions:O}=f$(m),I=e||fetch;E=E?(E+"").toLowerCase():"text";let k=eG([v,b&&b.toAbortSignal()],C),R=null;const B=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let U;try{if(A&&u&&y!=="get"&&y!=="head"&&(U=await p(x,w))!==0){let ee=new n(g,{method:"POST",body:w,duplex:"half"}),Y;if(F.isFormData(w)&&(Y=ee.headers.get("content-type"))&&x.setContentType(Y),ee.body){const[le,pe]=uC(U,qp(cC(A)));w=hC(ee.body,dC,le,pe)}}F.isString(P)||(P=P?"include":"omit");const W=o&&"credentials"in n.prototype,G={...O,signal:k,method:y.toUpperCase(),headers:x.normalize().toJSON(),body:w,duplex:"half",credentials:W?P:void 0};R=o&&new n(g,G);let L=await(o?I(R,O):I(g,G));const z=c&&(E==="stream"||E==="response");if(c&&(S||z&&B)){const ee={};["status","statusText","headers"].forEach(je=>{ee[je]=L[je]});const Y=F.toFiniteNumber(L.headers.get("content-length")),[le,pe]=S&&uC(Y,qp(cC(S),!0))||[];L=new r(hC(L.body,dC,le,()=>{pe&&pe(),B&&B()}),ee)}E=E||"text";let Q=await f[F.findKey(f,E)||"text"](L,m);return!z&&B&&B(),await new Promise((ee,Y)=>{u$(ee,Y,{data:Q,headers:Ln.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:R})})}catch(W){throw B&&B(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,m,R),{cause:W.cause||W}):ge.from(W,W&&W.code,m,R)}}},sG=new Map,h$=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let s=o.length,a=s,l,u,c=sG;for(;a--;)l=o[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:oG(e)),c=u;return u};h$();const q1={http:SH,xhr:ZH,fetch:{get:h$}};F.forEach(q1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yC=t=>`- ${t}`,aG=t=>F.isFunction(t)||t===null||t===!1;function lG(t,e){t=F.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let s=0;s<n;s++){r=t[s];let a;if(i=r,!aG(r)&&(i=q1[(a=String(r)).toLowerCase()],i===void 0))throw new ge(`Unknown adapter '${a}'`);if(i&&(F.isFunction(i)||(i=i.get(e))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(yC).join(`
`):" "+yC(s[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const d$={getAdapter:lG,adapters:q1};function $v(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jl(null,t)}function vC(t){return $v(t),t.headers=Ln.from(t.headers),t.data=jv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),d$.getAdapter(t.adapter||gh.adapter,t)(t).then(function(r){return $v(t),r.data=jv.call(t,t.transformResponse,r),r.headers=Ln.from(r.headers),r},function(r){return l$(r)||($v(t),r&&r.response&&(r.response.data=jv.call(t,t.transformResponse,r.response),r.response.headers=Ln.from(r.response.headers))),Promise.reject(r)})}const p$="1.13.2",Fg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const _C={};Fg.transitional=function(e,n,r){function i(o,s){return"[Axios v"+p$+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new ge(i(s," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!_C[s]&&(_C[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};Fg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function uG(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new ge("option "+o+" must be "+l,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+o,ge.ERR_BAD_OPTION)}}const Hd={assertOptions:uG,validators:Fg},zr=Hd.validators;let xs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new aC,response:new aC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=js(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Hd.assertOptions(r,{silentJSONParsing:zr.transitional(zr.boolean),forcedJSONParsing:zr.transitional(zr.boolean),clarifyTimeoutError:zr.transitional(zr.boolean)},!1),i!=null&&(F.isFunction(i)?n.paramsSerializer={serialize:i}:Hd.assertOptions(i,{encode:zr.function,serialize:zr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hd.assertOptions(n,{baseUrl:zr.spelling("baseURL"),withXsrfToken:zr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&F.merge(o.common,o[n.method]);o&&F.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=Ln.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,f=0,d;if(!l){const m=[vC.bind(this),void 0];for(m.unshift(...a),m.push(...u),d=m.length,c=Promise.resolve(n);f<d;)c=c.then(m[f++],m[f++]);return c}d=a.length;let p=n;for(;f<d;){const m=a[f++],g=a[f++];try{p=m(p)}catch(y){g.call(this,y);break}}try{c=vC.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=js(this.defaults,e);const n=c$(e.baseURL,e.url,e.allowAbsoluteUrls);return o$(n,e.params,e.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(e){xs.prototype[e]=function(n,r){return this.request(js(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(js(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}xs.prototype[e]=n(),xs.prototype[e+"Form"]=n(!0)});let cG=class m${constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Jl(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new m$(function(i){e=i}),cancel:e}}};function fG(t){return function(n){return t.apply(null,n)}}function hG(t){return F.isObject(t)&&t.isAxiosError===!0}const iw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(iw).forEach(([t,e])=>{iw[e]=t});function g$(t){const e=new xs(t),n=Gj(xs.prototype.request,e);return F.extend(n,xs.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return g$(js(t,i))},n}const Et=g$(gh);Et.Axios=xs;Et.CanceledError=Jl;Et.CancelToken=cG;Et.isCancel=l$;Et.VERSION=p$;Et.toFormData=Lg;Et.AxiosError=ge;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=fG;Et.isAxiosError=hG;Et.mergeConfig=js;Et.AxiosHeaders=Ln;Et.formToJSON=t=>a$(F.isHTMLForm(t)?new FormData(t):t);Et.getAdapter=d$.getAdapter;Et.HttpStatusCode=iw;Et.default=Et;const{Axios:Gwe,AxiosError:Kwe,CanceledError:Qwe,isCancel:Ywe,CancelToken:Xwe,VERSION:Jwe,all:Zwe,Cancel:ebe,isAxiosError:tbe,spread:nbe,toFormData:rbe,AxiosHeaders:ibe,HttpStatusCode:obe,formToJSON:sbe,getAdapter:abe,mergeConfig:lbe}=Et,dG="http://localhost:5000/api",pG={getPlantInfo:async()=>(await Et.get(`${dG}/plant-info`)).data.data},H1={apiKey:"AIzaSyBRQuZFv7qBlftLINSFxgGeMo4j2uYAwtQ",authDomain:"despro-43cdc.firebaseapp.com",databaseURL:"https://despro-43cdc-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"despro-43cdc",storageBucket:"despro-43cdc.firebasestorage.app",messagingSenderId:"1022318213486",appId:"1:1022318213486:web:5e7f4f4307bda6230f697f",measurementId:"G-N2YW51X1Q9"},mG="AIzaSyCluqQCt8UJmy7dWI6O-L9vEpujX0fXxWI",gG="gemini-2.5-flash",yG=`https://generativelanguage.googleapis.com/v1beta/models/${gG}:generateContent`,vG={temperature:26.5,windSpeed:2.3,airHumidity:65,soilMoisture:72,waterTankLevel:85,lightIntensity:1250};Array.from({length:24},(t,e)=>({time:`${e}:00`,lux:Math.floor(Math.random()*2e3+500)}));const _G={name:"Dieffenbachia",scientificName:"Dieffenbachia seguine",description:"Tanaman hias tropis dengan daun hijau bermotif putih-kuning"},y$=hg(H1),wC=bD(y$),ra=B1(y$),wG=t=>{var e,n,r,i,o;try{const s=(e=t.rpm1)!=null&&e.integerValue?parseInt(t.rpm1.integerValue):t.rpm1||0,a=(n=t.rpm2)!=null&&n.integerValue?parseInt(t.rpm2.integerValue):t.rpm2||0,l=(r=t.rpm3)!=null&&r.integerValue?parseInt(t.rpm3.integerValue):t.rpm3||0,u=(i=t.rpm4)!=null&&i.integerValue?parseInt(t.rpm4.integerValue):t.rpm4||0;let c=((o=t.timestamp)==null?void 0:o.stringValue)||t.timestamp||"";if(c.includes("_")){const f=c.split("_")[1];c=f?f.substring(0,5).replace("-",":"):c}return{time:c,fan1:s,fan2:a,fan3:l,fan4:u}}catch(s){return console.error("Parse RPM error:",s),null}},bG=t=>{var e,n;try{const r=(e=t.lightIntensity)!=null&&e.integerValue?parseInt(t.lightIntensity.integerValue):t.lightIntensity||0;let i=((n=t.timestamp)==null?void 0:n.stringValue)||t.timestamp||"";if(i.includes("_")){const o=i.split("_")[1];i=o?o.substring(0,5).replace("-",":"):i}return{time:i,lux:r}}catch(r){return console.error("Parse Light error:",r),null}},v$=j.createContext(void 0),EG=({children:t})=>{const[e,n]=j.useState(vG),[r,i]=j.useState([]),[o,s]=j.useState([]),[a,l]=j.useState(_G),[u,c]=j.useState(!0),[f,d]=j.useState(null),[p,m]=j.useState(!1);j.useEffect(()=>{const v=[];try{const b=sr(ra,"status/group6&35/temperature");v.push(b),na(b,P=>{const O=P.val();O!=null&&(n(I=>({...I,temperature:Number(O)})),m(!0),console.log(" RTDB Temperature:",O))},P=>{console.error(" RTDB Temperature error:",P)});const C=sr(ra,"status/group30/windSpeed");v.push(C),na(C,P=>{const O=P.val();O!=null&&(n(I=>({...I,windSpeed:Number(O)})),m(!0),console.log(" RTDB Wind Speed:",O))},P=>{console.error(" RTDB Wind Speed error:",P)});const S=sr(ra,"status/group3/lux");v.push(S),na(S,P=>{const O=P.val();O!=null&&(n(I=>({...I,lightIntensity:Number(O)})),m(!0),console.log(" RTDB Light Intensity:",O))},P=>{console.error(" RTDB Light Intensity error:",P)});const A=sr(ra,"status/group6&35/humidity");v.push(A),na(A,P=>{const O=P.val();O!=null&&(n(I=>({...I,airHumidity:Number(O)})),m(!0),console.log(" RTDB Air Humidity:",O))},P=>{console.error(" RTDB Air Humidity error:",P)});const E=sr(ra,"status/group12/soilMoisture");v.push(E),na(E,P=>{const O=P.val();O!=null&&(n(I=>({...I,soilMoisture:Number(O)})),m(!0),console.log(" RTDB Soil Moisture:",O))},P=>{console.error(" RTDB Soil Moisture error:",P)});const x=sr(ra,"status/group12/waterTank");v.push(x),na(x,P=>{const O=P.val();O!=null&&(n(I=>({...I,waterTankLevel:Number(O)})),m(!0),console.log(" RTDB Water Tank:",O))},P=>{console.error(" RTDB Water Tank error:",P)}),console.log(" Firebase Realtime Database listeners initialized")}catch(b){console.error(" RTDB setup error:",b),d("Gagal setup Realtime Database")}return()=>{v.forEach(b=>{C7(b)}),console.log(" RTDB listeners detached")}},[]),j.useEffect(()=>{let v=null;try{const b=$0(wC,"growthChamber","group30","sensorData"),C=F0(b,V0("timestamp","desc"),B0(10));v=SP(C,{includeMetadataChanges:!1},S=>{S.metadata.fromCache&&console.log(" RPM snapshot from cache (tetap dipakai render)");const A=[];if(S.forEach(E=>{const x=wG(E.data());x&&A.push(x)}),A.length>0){const E=A.slice().reverse();s(E),console.log(" Firebase RPM updated:",E.length,"entries"),d(null)}c(!1)},S=>{console.error(" Firestore RPM listener error:",S),d("Gagal mengambil data RPM realtime"),c(!1)})}catch(b){console.error(" Firestore RPM setup error:",b),d("Gagal setup RPM realtime listener"),c(!1)}return()=>{v&&v()}},[]),j.useEffect(()=>{let v=null;try{const b=$0(wC,"growthChamber","group3","sensorData"),C=F0(b,V0("timestamp","desc"),B0(10));v=SP(C,{includeMetadataChanges:!1},S=>{S.metadata.fromCache&&console.log(" Light snapshot from cache (tetap dipakai render)");const A=[];if(S.forEach(E=>{const x=bG(E.data());x&&A.push(x)}),A.length>0){const E=A.slice().reverse();i(E),console.log(" Firebase Light Intensity updated:",E.length,"entries")}},S=>{console.error(" Firestore Light listener error:",S)})}catch(b){console.error(" Firestore Light setup error:",b)}return()=>{v&&v()}},[]);const g=async()=>{try{const v=await pG.getPlantInfo();l(v)}catch(v){console.error("Error fetching plant info:",v)}},y=async()=>{await g()};j.useEffect(()=>{g(),c(!1)},[]);const w={sensorData:e,luxHistory:r,rpmHistory:o,plantInfo:a,isLoading:u,error:f,isRealtimeConnected:p,refreshData:y};return N.jsx(v$.Provider,{value:w,children:t})},_$=()=>{const t=j.useContext(v$);if(!t)throw new Error("useDashboard must be used within DashboardProvider");return t},SG="/GROBOX/",Pn=t=>`${SG}assets/${t}`,yt={frame:{tempIcon:Pn("frame/tempIcon.png"),windIcon:Pn("frame/windIcon.png"),lightIcon:Pn("frame/lightIcon.png"),humidityIcon:Pn("frame/humidityIcon.png"),soilmoistureIcon:Pn("frame/soilmoistureIcon.png"),watercapIcon:Pn("frame/watercapIcon.png"),fanIcon:Pn("frame/fanIcon.png"),logo:Pn("frame/logo.png"),plant:Pn("frame/plant.png")},sidebar:{dashboardIcon:Pn("sidebar/dashboardIcon.png"),controlIcon:Pn("sidebar/controlIcon.png"),aboutIcon:Pn("sidebar/aboutIcon.png")},background:Pn("background.png"),geminiIcon:Pn("gemini-color.png")},xG=()=>N.jsxs("div",{className:"sidebar",children:[N.jsx("div",{className:"sidebar-logo",children:N.jsx("img",{src:yt.frame.logo,alt:"Logo",className:"logo-image"})}),N.jsxs("nav",{className:"sidebar-nav",children:[N.jsxs(yv,{to:"/",className:({isActive:t})=>`nav-item ${t?"active":""}`,title:"Dashboard",children:[N.jsx("img",{src:yt.sidebar.dashboardIcon,alt:"Dashboard",className:"nav-icon"}),N.jsx("span",{className:"nav-label",children:"Dashboard"})]}),N.jsxs(yv,{to:"/manual-control",className:({isActive:t})=>`nav-item ${t?"active":""}`,title:"Manual Control",children:[N.jsx("img",{src:yt.sidebar.controlIcon,alt:"Manual Control",className:"nav-icon"}),N.jsx("span",{className:"nav-label",children:"Manual Control"})]})]}),N.jsx("div",{className:"sidebar-footer",children:N.jsxs(yv,{to:"/about",className:({isActive:t})=>`nav-item ${t?"active":""}`,title:"About",children:[N.jsx("img",{src:yt.sidebar.aboutIcon,alt:"About",className:"nav-icon"}),N.jsx("span",{className:"nav-label",children:"About"})]})})]}),TG=({plantInfo:t})=>N.jsx("div",{className:"plant-info-card",children:N.jsx("div",{className:"plant-image-container",children:N.jsx("img",{src:yt.frame.plant,alt:t.name,className:"plant-image"})})}),AG=({value:t,isConnected:e=!1})=>N.jsxs("div",{className:"temperature-card sensor-card",children:[N.jsxs("div",{className:"card-header",children:[N.jsx("h3",{className:"card-title",children:"Temperature"}),N.jsx("div",{className:"card-icon",children:N.jsx("img",{src:yt.frame.tempIcon,alt:"Temperature"})})]}),N.jsx("div",{className:"card-value-container",children:e?N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"card-value",children:t.toFixed(1)}),N.jsx("span",{className:"card-unit",children:"C"})]}):N.jsx("span",{className:"card-no-data",children:"(No Data)"})})]}),PG=({value:t,isConnected:e=!1})=>N.jsxs("div",{className:"wind-speed-card sensor-card",children:[N.jsxs("div",{className:"card-header",children:[N.jsx("h3",{className:"card-title",children:"Wind Speed"}),N.jsx("div",{className:"card-icon",children:N.jsx("img",{src:yt.frame.windIcon,alt:"Wind"})})]}),N.jsx("div",{className:"card-value-container",children:e?N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"card-value",children:t.toFixed(1)}),N.jsx("span",{className:"card-unit",children:"m/s"})]}):N.jsx("span",{className:"card-no-data",children:"(No Data)"})}),N.jsx("div",{className:"wind-lines"})]}),bC=t=>t>=1024?1.8:1.25,w$=({value:t,maxValue:e=100,color:n,title:r,iconSrc:i,isConnected:o=!1})=>{const[s,a]=D.useState(0),[l,u]=D.useState(()=>bC(window.innerWidth));D.useEffect(()=>{const g=s,y=t,w=performance.now(),v=b=>{const C=Math.min((b-w)/800,1),S=g+(y-g)*C;a(S),C<1&&requestAnimationFrame(v)};requestAnimationFrame(v)},[t]),D.useEffect(()=>{const m=()=>{u(bC(window.innerWidth))};return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const c=s/e*100,f=45,d=2*Math.PI*f,p=d-d*c/100;return N.jsxs("div",{className:"circular-gauge-card sensor-card",children:[N.jsxs("div",{className:"gauge-header",children:[N.jsx("h3",{className:"gauge-title",children:r}),i&&N.jsx("div",{className:"gauge-icon",children:N.jsx("img",{src:i,alt:r})})]}),o?N.jsxs("div",{className:"gauge-container",children:[N.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 120 120",className:"gauge-svg",style:{transform:`scale(${l})`},children:[N.jsx("circle",{cx:"60",cy:"60",r:f,fill:"none",stroke:"#e6e6e6",strokeWidth:"10"}),N.jsx("circle",{cx:"60",cy:"60",r:f,fill:"none",stroke:n,strokeWidth:"10",strokeLinecap:"round",strokeDasharray:d,strokeDashoffset:p,transform:"rotate(-90 60 60)",className:"gauge-progress"})]}),N.jsxs("div",{className:"gauge-value",children:[N.jsx("span",{className:"gauge-percentage",children:Math.round(s)}),N.jsx("span",{className:"gauge-unit",children:"%"})]})]}):N.jsx("div",{className:"gauge-no-data",children:N.jsx("span",{children:"(No Data)"})}),r==="Soil Moisture"&&o&&N.jsx("div",{className:"gauge-indicator-text"})]})},CG=({value:t,isConnected:e=!1})=>N.jsx(w$,{value:t,color:"#3498db",title:"Air Humidity",iconSrc:yt.frame.humidityIcon,isConnected:e}),IG=({value:t,isConnected:e=!1})=>N.jsx(w$,{value:t,color:"#6b8e23",title:"Soil Moisture",iconSrc:yt.frame.soilmoistureIcon,isConnected:e}),OG=({value:t,isConnected:e=!1})=>{const[n,r]=D.useState(1),[i,o]=D.useState(0);return D.useEffect(()=>{if(e&&t>0){const a=performance.now(),l=u=>{const c=u-a,f=Math.min(c/1e3,1);o(t*f),f<1&&requestAnimationFrame(l)};requestAnimationFrame(l)}else o(t)},[t,e]),D.useEffect(()=>{const s=()=>{r(1)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),N.jsxs("div",{className:"water-tank-card sensor-card",children:[N.jsxs("div",{className:"gauge-header",children:[N.jsx("h3",{className:"gauge-title",children:"Water Tank"}),N.jsx("div",{className:"gauge-icon",children:N.jsx("img",{src:yt.frame.watercapIcon,alt:"Water Tank"})})]}),e?N.jsx("div",{className:"tank-container",style:{transform:`scale(${n})`},children:N.jsxs("div",{className:"tank-outline",children:[N.jsx("div",{className:"tank-fill",style:{height:`${Math.min(Math.max(i,0),100)}%`},children:N.jsx("div",{className:"water-wave"})}),N.jsxs("div",{className:"tank-percentage",children:[Math.round(t),"%"]})]})}):N.jsx("div",{className:"tank-no-data",children:N.jsx("span",{children:"(No Data)"})})]})},NG=({value:t,isConnected:e=!1})=>N.jsxs("div",{className:"light-intensity-card sensor-card",children:[N.jsxs("div",{className:"card-header",children:[N.jsx("h3",{className:"card-title",children:"Light Intensity"}),N.jsx("div",{className:"card-icon",children:N.jsx("img",{src:yt.frame.lightIcon,alt:"Light"})})]}),N.jsx("div",{className:"card-value-container",children:e?N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"card-value",children:t.toLocaleString()}),N.jsx("span",{className:"card-unit",children:"lux"})]}):N.jsx("span",{className:"card-no-data",children:"(No Data)"})})]}),EC=({title:t,status:e,isConnected:n=!1})=>N.jsxs("div",{className:"status-card",children:[N.jsx("h3",{className:"status-card-title",children:t}),N.jsx("div",{className:"status-value-container",children:n?N.jsx("span",{className:`status-value ${e.toLowerCase()}`,children:e}):N.jsx("span",{className:"status-no-data",children:"(No Data)"})})]}),RG=({statusText:t,isConnected:e=!1})=>N.jsxs("div",{className:"soil-status-card",children:[N.jsx("h3",{className:"soil-status-title",children:"Soil Status"}),N.jsx("div",{className:"soil-status-content",children:e&&t?N.jsx("p",{className:"soil-status-text",children:t}):N.jsx("span",{className:"soil-status-no-data",children:"(No Data)"})})]}),kG=({value:t,isConnected:e=!1})=>N.jsxs("div",{className:"vpd-card sensor-card",children:[N.jsxs("div",{className:"card-header",children:[N.jsx("h3",{className:"card-title",children:"Vapor Pressure Deficit "}),N.jsx("div",{className:"card-icon vpd-icon",children:N.jsx("div",{className:"placeholder-icon"})})]}),N.jsx("div",{className:"card-value-container",children:e&&t!==null?N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"card-value",children:t.toFixed(2)}),N.jsx("span",{className:"card-unit",children:"kPa"})]}):N.jsx("span",{className:"card-no-data",children:"(No Data)"})})]}),MG=({vpdValue:t,isConnected:e=!1})=>{const r=!e||t===null?null:t<.8?"low":t<=1.2?"optimal":"high";return N.jsxs("div",{className:"vpd-status-card sensor-card",children:[N.jsx("div",{className:"card-header",children:N.jsx("h3",{className:"card-title",children:"VPD Status"})}),N.jsx("div",{className:"vpd-status-indicators",children:e&&t!==null?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`vpd-indicator low ${r==="low"?"active":""}`,children:N.jsx("span",{className:"indicator-label",children:"Low"})}),N.jsx("div",{className:`vpd-indicator optimal ${r==="optimal"?"active":""}`,children:N.jsx("span",{className:"indicator-label",children:"Optimal"})}),N.jsx("div",{className:`vpd-indicator high ${r==="high"?"active":""}`,children:N.jsx("span",{className:"indicator-label",children:"High"})})]}):N.jsx("div",{className:"vpd-no-data",children:"(No Data)"})})]})};function b$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=b$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=b$(t))&&(r&&(r+=" "),r+=e);return r}var DG=Array.isArray,Vn=DG,jG=typeof Fh=="object"&&Fh&&Fh.Object===Object&&Fh,E$=jG,$G=E$,LG=typeof self=="object"&&self&&self.Object===Object&&self,FG=$G||LG||Function("return this")(),ai=FG,VG=ai,BG=VG.Symbol,yh=BG,SC=yh,S$=Object.prototype,UG=S$.hasOwnProperty,zG=S$.toString,Bu=SC?SC.toStringTag:void 0;function WG(t){var e=UG.call(t,Bu),n=t[Bu];try{t[Bu]=void 0;var r=!0}catch{}var i=zG.call(t);return r&&(e?t[Bu]=n:delete t[Bu]),i}var qG=WG,HG=Object.prototype,GG=HG.toString;function KG(t){return GG.call(t)}var QG=KG,xC=yh,YG=qG,XG=QG,JG="[object Null]",ZG="[object Undefined]",TC=xC?xC.toStringTag:void 0;function eK(t){return t==null?t===void 0?ZG:JG:TC&&TC in Object(t)?YG(t):XG(t)}var Vi=eK;function tK(t){return t!=null&&typeof t=="object"}var Bi=tK,nK=Vi,rK=Bi,iK="[object Symbol]";function oK(t){return typeof t=="symbol"||rK(t)&&nK(t)==iK}var Zl=oK,sK=Vn,aK=Zl,lK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uK=/^\w*$/;function cK(t,e){if(sK(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||aK(t)?!0:uK.test(t)||!lK.test(t)||e!=null&&t in Object(e)}var G1=cK;function fK(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zo=fK;const eu=We(zo);var hK=Vi,dK=zo,pK="[object AsyncFunction]",mK="[object Function]",gK="[object GeneratorFunction]",yK="[object Proxy]";function vK(t){if(!dK(t))return!1;var e=hK(t);return e==mK||e==gK||e==pK||e==yK}var K1=vK;const _e=We(K1);var _K=ai,wK=_K["__core-js_shared__"],bK=wK,Lv=bK,AC=function(){var t=/[^.]+$/.exec(Lv&&Lv.keys&&Lv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function EK(t){return!!AC&&AC in t}var SK=EK,xK=Function.prototype,TK=xK.toString;function AK(t){if(t!=null){try{return TK.call(t)}catch{}try{return t+""}catch{}}return""}var x$=AK,PK=K1,CK=SK,IK=zo,OK=x$,NK=/[\\^$.*+?()[\]{}|]/g,RK=/^\[object .+?Constructor\]$/,kK=Function.prototype,MK=Object.prototype,DK=kK.toString,jK=MK.hasOwnProperty,$K=RegExp("^"+DK.call(jK).replace(NK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LK(t){if(!IK(t)||CK(t))return!1;var e=PK(t)?$K:RK;return e.test(OK(t))}var FK=LK;function VK(t,e){return t==null?void 0:t[e]}var BK=VK,UK=FK,zK=BK;function WK(t,e){var n=zK(t,e);return UK(n)?n:void 0}var Hs=WK,qK=Hs,HK=qK(Object,"create"),Vg=HK,PC=Vg;function GK(){this.__data__=PC?PC(null):{},this.size=0}var KK=GK;function QK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var YK=QK,XK=Vg,JK="__lodash_hash_undefined__",ZK=Object.prototype,eQ=ZK.hasOwnProperty;function tQ(t){var e=this.__data__;if(XK){var n=e[t];return n===JK?void 0:n}return eQ.call(e,t)?e[t]:void 0}var nQ=tQ,rQ=Vg,iQ=Object.prototype,oQ=iQ.hasOwnProperty;function sQ(t){var e=this.__data__;return rQ?e[t]!==void 0:oQ.call(e,t)}var aQ=sQ,lQ=Vg,uQ="__lodash_hash_undefined__";function cQ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lQ&&e===void 0?uQ:e,this}var fQ=cQ,hQ=KK,dQ=YK,pQ=nQ,mQ=aQ,gQ=fQ;function tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tu.prototype.clear=hQ;tu.prototype.delete=dQ;tu.prototype.get=pQ;tu.prototype.has=mQ;tu.prototype.set=gQ;var yQ=tu;function vQ(){this.__data__=[],this.size=0}var _Q=vQ;function wQ(t,e){return t===e||t!==t&&e!==e}var Q1=wQ,bQ=Q1;function EQ(t,e){for(var n=t.length;n--;)if(bQ(t[n][0],e))return n;return-1}var Bg=EQ,SQ=Bg,xQ=Array.prototype,TQ=xQ.splice;function AQ(t){var e=this.__data__,n=SQ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():TQ.call(e,n,1),--this.size,!0}var PQ=AQ,CQ=Bg;function IQ(t){var e=this.__data__,n=CQ(e,t);return n<0?void 0:e[n][1]}var OQ=IQ,NQ=Bg;function RQ(t){return NQ(this.__data__,t)>-1}var kQ=RQ,MQ=Bg;function DQ(t,e){var n=this.__data__,r=MQ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var jQ=DQ,$Q=_Q,LQ=PQ,FQ=OQ,VQ=kQ,BQ=jQ;function nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nu.prototype.clear=$Q;nu.prototype.delete=LQ;nu.prototype.get=FQ;nu.prototype.has=VQ;nu.prototype.set=BQ;var Ug=nu,UQ=Hs,zQ=ai,WQ=UQ(zQ,"Map"),Y1=WQ,CC=yQ,qQ=Ug,HQ=Y1;function GQ(){this.size=0,this.__data__={hash:new CC,map:new(HQ||qQ),string:new CC}}var KQ=GQ;function QQ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var YQ=QQ,XQ=YQ;function JQ(t,e){var n=t.__data__;return XQ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var zg=JQ,ZQ=zg;function eY(t){var e=ZQ(this,t).delete(t);return this.size-=e?1:0,e}var tY=eY,nY=zg;function rY(t){return nY(this,t).get(t)}var iY=rY,oY=zg;function sY(t){return oY(this,t).has(t)}var aY=sY,lY=zg;function uY(t,e){var n=lY(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var cY=uY,fY=KQ,hY=tY,dY=iY,pY=aY,mY=cY;function ru(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ru.prototype.clear=fY;ru.prototype.delete=hY;ru.prototype.get=dY;ru.prototype.has=pY;ru.prototype.set=mY;var X1=ru,T$=X1,gY="Expected a function";function J1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(gY);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(J1.Cache||T$),n}J1.Cache=T$;var A$=J1;const yY=We(A$);var vY=A$,_Y=500;function wY(t){var e=vY(t,function(r){return n.size===_Y&&n.clear(),r}),n=e.cache;return e}var bY=wY,EY=bY,SY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xY=/\\(\\)?/g,TY=EY(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SY,function(n,r,i,o){e.push(i?o.replace(xY,"$1"):r||n)}),e}),AY=TY;function PY(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Z1=PY,IC=yh,CY=Z1,IY=Vn,OY=Zl,OC=IC?IC.prototype:void 0,NC=OC?OC.toString:void 0;function P$(t){if(typeof t=="string")return t;if(IY(t))return CY(t,P$)+"";if(OY(t))return NC?NC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var NY=P$,RY=NY;function kY(t){return t==null?"":RY(t)}var C$=kY,MY=Vn,DY=G1,jY=AY,$Y=C$;function LY(t,e){return MY(t)?t:DY(t,e)?[t]:jY($Y(t))}var I$=LY,FY=Zl;function VY(t){if(typeof t=="string"||FY(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Wg=VY,BY=I$,UY=Wg;function zY(t,e){e=BY(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[UY(e[n++])];return n&&n==r?t:void 0}var eS=zY,WY=eS;function qY(t,e,n){var r=t==null?void 0:WY(t,e);return r===void 0?n:r}var O$=qY;const fr=We(O$);function HY(t){return t==null}var GY=HY;const Se=We(GY);var KY=Vi,QY=Vn,YY=Bi,XY="[object String]";function JY(t){return typeof t=="string"||!QY(t)&&YY(t)&&KY(t)==XY}var ZY=JY;const $s=We(ZY);var N$={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=Symbol.for("react.element"),nS=Symbol.for("react.portal"),qg=Symbol.for("react.fragment"),Hg=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Qg=Symbol.for("react.context"),eX=Symbol.for("react.server_context"),Yg=Symbol.for("react.forward_ref"),Xg=Symbol.for("react.suspense"),Jg=Symbol.for("react.suspense_list"),Zg=Symbol.for("react.memo"),ey=Symbol.for("react.lazy"),tX=Symbol.for("react.offscreen"),R$;R$=Symbol.for("react.module.reference");function gr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tS:switch(t=t.type,t){case qg:case Gg:case Hg:case Xg:case Jg:return t;default:switch(t=t&&t.$$typeof,t){case eX:case Qg:case Yg:case ey:case Zg:case Kg:return t;default:return e}}case nS:return e}}}Fe.ContextConsumer=Qg;Fe.ContextProvider=Kg;Fe.Element=tS;Fe.ForwardRef=Yg;Fe.Fragment=qg;Fe.Lazy=ey;Fe.Memo=Zg;Fe.Portal=nS;Fe.Profiler=Gg;Fe.StrictMode=Hg;Fe.Suspense=Xg;Fe.SuspenseList=Jg;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return gr(t)===Qg};Fe.isContextProvider=function(t){return gr(t)===Kg};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tS};Fe.isForwardRef=function(t){return gr(t)===Yg};Fe.isFragment=function(t){return gr(t)===qg};Fe.isLazy=function(t){return gr(t)===ey};Fe.isMemo=function(t){return gr(t)===Zg};Fe.isPortal=function(t){return gr(t)===nS};Fe.isProfiler=function(t){return gr(t)===Gg};Fe.isStrictMode=function(t){return gr(t)===Hg};Fe.isSuspense=function(t){return gr(t)===Xg};Fe.isSuspenseList=function(t){return gr(t)===Jg};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qg||t===Gg||t===Hg||t===Xg||t===Jg||t===tX||typeof t=="object"&&t!==null&&(t.$$typeof===ey||t.$$typeof===Zg||t.$$typeof===Kg||t.$$typeof===Qg||t.$$typeof===Yg||t.$$typeof===R$||t.getModuleId!==void 0)};Fe.typeOf=gr;N$.exports=Fe;var nX=N$.exports,rX=Vi,iX=Bi,oX="[object Number]";function sX(t){return typeof t=="number"||iX(t)&&rX(t)==oX}var k$=sX;const aX=We(k$);var lX=k$;function uX(t){return lX(t)&&t!=+t}var cX=uX;const vh=We(cX);var Nr=function(e){return e===0?0:e>0?1:-1},ps=function(e){return $s(e)&&e.indexOf("%")===e.length-1},ne=function(e){return aX(e)&&!vh(e)},fX=function(e){return Se(e)},$t=function(e){return ne(e)||$s(e)},hX=0,_h=function(e){var n=++hX;return"".concat(e||"").concat(n)},Ls=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!$s(e))return r;var o;if(ps(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return vh(o)&&(o=r),i&&o>n&&(o=n),o},no=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},dX=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ar=function(e,n){return ne(e)&&ne(n)?function(r){return e+r*(n-e)}:function(){return n}};function Hp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fr(r,e))===n})}var pX=function(e,n){return ne(e)&&ne(n)?e-n:$s(e)&&$s(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Va(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function ow(t){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(t)}var mX=["viewBox","children"],gX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],RC=["points","pathLength"],Fv={svg:mX,polygon:RC,polyline:RC},rS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!eu(r))return null;var i={};return Object.keys(r).forEach(function(o){rS.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},yX=function(e,n,r){return function(i){return e(n,r,i),null}},Kp=function(e,n,r){if(!eu(e)||ow(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];rS.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=yX(s,n,r))}),i},vX=["children"],_X=["children"];function kC(t,e){if(t==null)return{};var n=wX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sw(t){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(t)}var MC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},DC=null,Vv=null,iS=function t(e){if(e===DC&&Array.isArray(Vv))return Vv;var n=[];return j.Children.forEach(e,function(r){Se(r)||(nX.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Vv=n,DC=e,n};function hr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return bi(i)}):r=[bi(e)],iS(t).forEach(function(i){var o=fr(i,"type.displayName")||fr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function qn(t,e){var n=hr(t,e);return n&&n[0]}var jC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ne(r)||r<=0||!ne(i)||i<=0)},bX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],EX=function(e){return e&&e.type&&$s(e.type)&&bX.indexOf(e.type)>=0},SX=function(e){return e&&sw(e)==="object"&&"clipDot"in e},xX=function(e,n,r,i){var o,s=(o=Fv==null?void 0:Fv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!_e(e)&&(i&&s.includes(n)||gX.includes(n))||r&&rS.includes(n)},Ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!eu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;xX((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},aw=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return $C(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!$C(o,s))return!1}return!0},$C=function(e,n){if(Se(e)&&Se(n))return!0;if(!Se(e)&&!Se(n)){var r=e.props||{},i=r.children,o=kC(r,vX),s=n.props||{},a=s.children,l=kC(s,_X);return i&&a?Va(o,l)&&aw(i,a):!i&&!a?Va(o,l):!1}return!1},LC=function(e,n){var r=[],i={};return iS(e).forEach(function(o,s){if(EX(o))r.push(o);else if(o){var a=bi(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},TX=function(e){var n=e&&e.type;return n&&MC[n]?MC[n]:null},AX=function(e,n){return iS(n).indexOf(e)},PX=["children","width","height","viewBox","className","style","title","desc"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function CX(t,e){if(t==null)return{};var n=IX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uw(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=CX(t,PX),c=i||{width:n,height:r,x:0,y:0},f=ke("recharts-surface",o);return D.createElement("svg",lw({},Ce(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,a),D.createElement("desc",null,l),e)}var OX=["children","className"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function NX(t,e){if(t==null)return{};var n=RX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bt=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=NX(t,OX),o=ke("recharts-layer",r);return D.createElement("g",cw({className:o},Ce(i,!0),{ref:e}),n)}),Ei=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function kX(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var MX=kX,DX=MX;function jX(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:DX(t,e,n)}var $X=jX,LX="\\ud800-\\udfff",FX="\\u0300-\\u036f",VX="\\ufe20-\\ufe2f",BX="\\u20d0-\\u20ff",UX=FX+VX+BX,zX="\\ufe0e\\ufe0f",WX="\\u200d",qX=RegExp("["+WX+LX+UX+zX+"]");function HX(t){return qX.test(t)}var M$=HX;function GX(t){return t.split("")}var KX=GX,D$="\\ud800-\\udfff",QX="\\u0300-\\u036f",YX="\\ufe20-\\ufe2f",XX="\\u20d0-\\u20ff",JX=QX+YX+XX,ZX="\\ufe0e\\ufe0f",eJ="["+D$+"]",fw="["+JX+"]",hw="\\ud83c[\\udffb-\\udfff]",tJ="(?:"+fw+"|"+hw+")",j$="[^"+D$+"]",$$="(?:\\ud83c[\\udde6-\\uddff]){2}",L$="[\\ud800-\\udbff][\\udc00-\\udfff]",nJ="\\u200d",F$=tJ+"?",V$="["+ZX+"]?",rJ="(?:"+nJ+"(?:"+[j$,$$,L$].join("|")+")"+V$+F$+")*",iJ=V$+F$+rJ,oJ="(?:"+[j$+fw+"?",fw,$$,L$,eJ].join("|")+")",sJ=RegExp(hw+"(?="+hw+")|"+oJ+iJ,"g");function aJ(t){return t.match(sJ)||[]}var lJ=aJ,uJ=KX,cJ=M$,fJ=lJ;function hJ(t){return cJ(t)?fJ(t):uJ(t)}var dJ=hJ,pJ=$X,mJ=M$,gJ=dJ,yJ=C$;function vJ(t){return function(e){e=yJ(e);var n=mJ(e)?gJ(e):void 0,r=n?n[0]:e.charAt(0),i=n?pJ(n,1).join(""):e.slice(1);return r[t]()+i}}var _J=vJ,wJ=_J,bJ=wJ("toUpperCase"),EJ=bJ;const ty=We(EJ);function He(t){return function(){return t}}const B$=Math.cos,Qp=Math.sin,Fr=Math.sqrt,Yp=Math.PI,ny=2*Yp,dw=Math.PI,pw=2*dw,is=1e-6,SJ=pw-is;function U$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return U$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class TJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?U$:xJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>is)if(!(Math.abs(f*l-u*c)>is)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,g=l*l+u*u,y=p*p+m*m,w=Math.sqrt(g),v=Math.sqrt(d),b=o*Math.tan((dw-Math.acos((g+d-y)/(2*w*v)))/2),C=b/v,S=b/w;Math.abs(C-1)>is&&this._append`L${e+C*c},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>is||Math.abs(this._y1-c)>is)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%pw+pw),d>SJ?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>is&&this._append`A${r},${r},0,${+(d>=dw)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new TJ(e)}function sS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function z$(t){this._context=t}z$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ry(t){return new z$(t)}function W$(t){return t[0]}function q$(t){return t[1]}function H$(t,e){var n=He(!0),r=null,i=ry,o=null,s=oS(a);t=typeof t=="function"?t:t===void 0?W$:He(t),e=typeof e=="function"?e:e===void 0?q$:He(e);function a(l){var u,c=(l=sS(l)).length,f,d=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function fd(t,e,n){var r=null,i=He(!0),o=null,s=ry,a=null,l=oS(u);t=typeof t=="function"?t:t===void 0?W$:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?q$:He(+n);function u(f){var d,p,m,g=(f=sS(f)).length,y,w=!1,v,b=new Array(g),C=new Array(g);for(o==null&&(a=s(v=l())),d=0;d<=g;++d){if(!(d<g&&i(y=f[d],d,f))===w)if(w=!w)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=d-1;m>=p;--m)a.point(b[m],C[m]);a.lineEnd(),a.areaEnd()}w&&(b[d]=+t(y,d,f),C[d]=+e(y,d,f),a.point(r?+r(y,d,f):b[d],n?+n(y,d,f):C[d]))}if(v)return a=null,v+""||null}function c(){return H$().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:He(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class G${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function AJ(t){return new G$(t,!0)}function PJ(t){return new G$(t,!1)}const aS={draw(t,e){const n=Fr(e/Yp);t.moveTo(n,0),t.arc(0,0,n,0,ny)}},CJ={draw(t,e){const n=Fr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},K$=Fr(1/3),IJ=K$*2,OJ={draw(t,e){const n=Fr(e/IJ),r=n*K$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},NJ={draw(t,e){const n=Fr(e),r=-n/2;t.rect(r,r,n,n)}},RJ=.8908130915292852,Q$=Qp(Yp/10)/Qp(7*Yp/10),kJ=Qp(ny/10)*Q$,MJ=-B$(ny/10)*Q$,DJ={draw(t,e){const n=Fr(e*RJ),r=kJ*n,i=MJ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=ny*o/5,a=B$(s),l=Qp(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Bv=Fr(3),jJ={draw(t,e){const n=-Fr(e/(Bv*3));t.moveTo(0,n*2),t.lineTo(-Bv*n,-n),t.lineTo(Bv*n,-n),t.closePath()}},er=-.5,tr=Fr(3)/2,mw=1/Fr(12),$J=(mw/2+1)*3,LJ={draw(t,e){const n=Fr(e/$J),r=n/2,i=n*mw,o=r,s=n*mw+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(er*r-tr*i,tr*r+er*i),t.lineTo(er*o-tr*s,tr*o+er*s),t.lineTo(er*a-tr*l,tr*a+er*l),t.lineTo(er*r+tr*i,er*i-tr*r),t.lineTo(er*o+tr*s,er*s-tr*o),t.lineTo(er*a+tr*l,er*l-tr*a),t.closePath()}};function FJ(t,e){let n=null,r=oS(i);t=typeof t=="function"?t:He(t||aS),e=typeof e=="function"?e:He(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:He(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:He(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Xp(){}function Jp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Y$(t){this._context=t}Y$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VJ(t){return new Y$(t)}function X$(t){this._context=t}X$.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BJ(t){return new X$(t)}function J$(t){this._context=t}J$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UJ(t){return new J$(t)}function Z$(t){this._context=t}Z$.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zJ(t){return new Z$(t)}function FC(t){return t<0?-1:1}function VC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(FC(o)+FC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function BC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Uv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Zp(t){this._context=t}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uv(this,this._t0,BC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Uv(this,BC(this,n=VC(this,t,e)),n);break;default:Uv(this,this._t0,n=VC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function eL(t){this._context=new tL(t)}(eL.prototype=Object.create(Zp.prototype)).point=function(t,e){Zp.prototype.point.call(this,e,t)};function tL(t){this._context=t}tL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function WJ(t){return new Zp(t)}function qJ(t){return new eL(t)}function nL(t){this._context=t}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=UC(t),i=UC(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function UC(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function HJ(t){return new nL(t)}function iy(t,e){this._context=t,this._t=e}iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function GJ(t){return new iy(t,.5)}function KJ(t){return new iy(t,0)}function QJ(t){return new iy(t,1)}function dl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function gw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function YJ(t,e){return t[e]}function XJ(t){const e=[];return e.key=t,e}function JJ(){var t=He([]),e=gw,n=dl,r=YJ;function i(o){var s=Array.from(t.apply(this,arguments),XJ),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=sS(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:He(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?gw:typeof o=="function"?o:He(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??dl,i):n},i}function ZJ(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}dl(t,e)}}function eZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}dl(t,e)}}function tZ(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<a;++m){var g=t[e[m]],y=g[r][1]||0,w=g[r-1][1]||0;p+=y-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,dl(t,e)}}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}var nZ=["type","size","sizeType"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){rZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rZ(t,e,n){return e=iZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=oZ(t,"string");return gf(e)=="symbol"?e:e+""}function oZ(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sZ(t,e){if(t==null)return{};var n=aZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rL={symbolCircle:aS,symbolCross:CJ,symbolDiamond:OJ,symbolSquare:NJ,symbolStar:DJ,symbolTriangle:jJ,symbolWye:LJ},lZ=Math.PI/180,uZ=function(e){var n="symbol".concat(ty(e));return rL[n]||aS},cZ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*lZ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fZ=function(e,n){rL["symbol".concat(ty(e))]=n},lS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=sZ(e,nZ),u=WC(WC({},l),{},{type:r,size:o,sizeType:a}),c=function(){var y=uZ(r),w=FJ().type(y).size(cZ(o,a,r));return w()},f=u.className,d=u.cx,p=u.cy,m=Ce(u,!0);return d===+d&&p===+p&&o===+o?D.createElement("path",yw({},m,{className:ke("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};lS.registerSymbol=fZ;function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){yf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oL(r.key),r)}}function mZ(t,e,n){return e&&pZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gZ(t,e,n){return e=em(e),yZ(t,iL()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function yZ(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vZ(t)}function vZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iL=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function _Z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_w(t,e)}function _w(t,e){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_w(t,e)}function yf(t,e,n){return e=oL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oL(t){var e=wZ(t,"string");return pl(e)=="symbol"?e:e+""}function wZ(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nr=32,uS=function(t){function e(){return dZ(this,e),gZ(this,e,arguments)}return _Z(e,t),mZ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=nr/2,s=nr/6,a=nr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:nr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(nr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(nr/8,"h").concat(nr,"v").concat(nr*3/4,"h").concat(-nr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=hZ({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(lS,{fill:l,cx:o,cy:o,size:nr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:nr,height:nr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,y=ke(yf(yf({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=_e(p.value)?null:p.value;Ei(!_e(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return D.createElement("li",vw({className:y,style:f,key:"legend-item-".concat(m)},Kp(r.props,p,m)),D.createElement(uw,{width:s,height:s,viewBox:c,style:d},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(w,p,m):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(j.PureComponent);yf(uS,"displayName","Legend");yf(uS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bZ=Ug;function EZ(){this.__data__=new bZ,this.size=0}var SZ=EZ;function xZ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var TZ=xZ;function AZ(t){return this.__data__.get(t)}var PZ=AZ;function CZ(t){return this.__data__.has(t)}var IZ=CZ,OZ=Ug,NZ=Y1,RZ=X1,kZ=200;function MZ(t,e){var n=this.__data__;if(n instanceof OZ){var r=n.__data__;if(!NZ||r.length<kZ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new RZ(r)}return n.set(t,e),this.size=n.size,this}var DZ=MZ,jZ=Ug,$Z=SZ,LZ=TZ,FZ=PZ,VZ=IZ,BZ=DZ;function iu(t){var e=this.__data__=new jZ(t);this.size=e.size}iu.prototype.clear=$Z;iu.prototype.delete=LZ;iu.prototype.get=FZ;iu.prototype.has=VZ;iu.prototype.set=BZ;var sL=iu,UZ="__lodash_hash_undefined__";function zZ(t){return this.__data__.set(t,UZ),this}var WZ=zZ;function qZ(t){return this.__data__.has(t)}var HZ=qZ,GZ=X1,KZ=WZ,QZ=HZ;function tm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new GZ;++e<n;)this.add(t[e])}tm.prototype.add=tm.prototype.push=KZ;tm.prototype.has=QZ;var aL=tm;function YZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var lL=YZ;function XZ(t,e){return t.has(e)}var uL=XZ,JZ=aL,ZZ=lL,eee=uL,tee=1,nee=2;function ree(t,e,n,r,i,o){var s=n&tee,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&nee?new JZ:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],g=e[f];if(r)var y=s?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(y!==void 0){if(y)continue;d=!1;break}if(p){if(!ZZ(e,function(w,v){if(!eee(p,v)&&(m===w||i(m,w,n,r,o)))return p.push(v)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var cL=ree,iee=ai,oee=iee.Uint8Array,see=oee;function aee(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var lee=aee;function uee(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cS=uee,HC=yh,GC=see,cee=Q1,fee=cL,hee=lee,dee=cS,pee=1,mee=2,gee="[object Boolean]",yee="[object Date]",vee="[object Error]",_ee="[object Map]",wee="[object Number]",bee="[object RegExp]",Eee="[object Set]",See="[object String]",xee="[object Symbol]",Tee="[object ArrayBuffer]",Aee="[object DataView]",KC=HC?HC.prototype:void 0,zv=KC?KC.valueOf:void 0;function Pee(t,e,n,r,i,o,s){switch(n){case Aee:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Tee:return!(t.byteLength!=e.byteLength||!o(new GC(t),new GC(e)));case gee:case yee:case wee:return cee(+t,+e);case vee:return t.name==e.name&&t.message==e.message;case bee:case See:return t==e+"";case _ee:var a=hee;case Eee:var l=r&pee;if(a||(a=dee),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=mee,s.set(t,e);var c=fee(a(t),a(e),r,i,o,s);return s.delete(t),c;case xee:if(zv)return zv.call(t)==zv.call(e)}return!1}var Cee=Pee;function Iee(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var fL=Iee,Oee=fL,Nee=Vn;function Ree(t,e,n){var r=e(t);return Nee(t)?r:Oee(r,n(t))}var kee=Ree;function Mee(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Dee=Mee;function jee(){return[]}var $ee=jee,Lee=Dee,Fee=$ee,Vee=Object.prototype,Bee=Vee.propertyIsEnumerable,QC=Object.getOwnPropertySymbols,Uee=QC?function(t){return t==null?[]:(t=Object(t),Lee(QC(t),function(e){return Bee.call(t,e)}))}:Fee,zee=Uee;function Wee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var qee=Wee,Hee=Vi,Gee=Bi,Kee="[object Arguments]";function Qee(t){return Gee(t)&&Hee(t)==Kee}var Yee=Qee,YC=Yee,Xee=Bi,hL=Object.prototype,Jee=hL.hasOwnProperty,Zee=hL.propertyIsEnumerable,ete=YC(function(){return arguments}())?YC:function(t){return Xee(t)&&Jee.call(t,"callee")&&!Zee.call(t,"callee")},fS=ete,nm={exports:{}};function tte(){return!1}var nte=tte;nm.exports;(function(t,e){var n=ai,r=nte,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(nm,nm.exports);var dL=nm.exports,rte=9007199254740991,ite=/^(?:0|[1-9]\d*)$/;function ote(t,e){var n=typeof t;return e=e??rte,!!e&&(n=="number"||n!="symbol"&&ite.test(t))&&t>-1&&t%1==0&&t<e}var hS=ote,ste=9007199254740991;function ate(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ste}var dS=ate,lte=Vi,ute=dS,cte=Bi,fte="[object Arguments]",hte="[object Array]",dte="[object Boolean]",pte="[object Date]",mte="[object Error]",gte="[object Function]",yte="[object Map]",vte="[object Number]",_te="[object Object]",wte="[object RegExp]",bte="[object Set]",Ete="[object String]",Ste="[object WeakMap]",xte="[object ArrayBuffer]",Tte="[object DataView]",Ate="[object Float32Array]",Pte="[object Float64Array]",Cte="[object Int8Array]",Ite="[object Int16Array]",Ote="[object Int32Array]",Nte="[object Uint8Array]",Rte="[object Uint8ClampedArray]",kte="[object Uint16Array]",Mte="[object Uint32Array]",Je={};Je[Ate]=Je[Pte]=Je[Cte]=Je[Ite]=Je[Ote]=Je[Nte]=Je[Rte]=Je[kte]=Je[Mte]=!0;Je[fte]=Je[hte]=Je[xte]=Je[dte]=Je[Tte]=Je[pte]=Je[mte]=Je[gte]=Je[yte]=Je[vte]=Je[_te]=Je[wte]=Je[bte]=Je[Ete]=Je[Ste]=!1;function Dte(t){return cte(t)&&ute(t.length)&&!!Je[lte(t)]}var jte=Dte;function $te(t){return function(e){return t(e)}}var pL=$te,rm={exports:{}};rm.exports;(function(t,e){var n=E$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(rm,rm.exports);var Lte=rm.exports,Fte=jte,Vte=pL,XC=Lte,JC=XC&&XC.isTypedArray,Bte=JC?Vte(JC):Fte,mL=Bte,Ute=qee,zte=fS,Wte=Vn,qte=dL,Hte=hS,Gte=mL,Kte=Object.prototype,Qte=Kte.hasOwnProperty;function Yte(t,e){var n=Wte(t),r=!n&&zte(t),i=!n&&!r&&qte(t),o=!n&&!r&&!i&&Gte(t),s=n||r||i||o,a=s?Ute(t.length,String):[],l=a.length;for(var u in t)(e||Qte.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Hte(u,l)))&&a.push(u);return a}var Xte=Yte,Jte=Object.prototype;function Zte(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Jte;return t===n}var ene=Zte;function tne(t,e){return function(n){return t(e(n))}}var gL=tne,nne=gL,rne=nne(Object.keys,Object),ine=rne,one=ene,sne=ine,ane=Object.prototype,lne=ane.hasOwnProperty;function une(t){if(!one(t))return sne(t);var e=[];for(var n in Object(t))lne.call(t,n)&&n!="constructor"&&e.push(n);return e}var cne=une,fne=K1,hne=dS;function dne(t){return t!=null&&hne(t.length)&&!fne(t)}var wh=dne,pne=Xte,mne=cne,gne=wh;function yne(t){return gne(t)?pne(t):mne(t)}var oy=yne,vne=kee,_ne=zee,wne=oy;function bne(t){return vne(t,wne,_ne)}var Ene=bne,ZC=Ene,Sne=1,xne=Object.prototype,Tne=xne.hasOwnProperty;function Ane(t,e,n,r,i,o){var s=n&Sne,a=ZC(t),l=a.length,u=ZC(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:Tne.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=s;++f<l;){d=a[f];var w=t[d],v=e[d];if(r)var b=s?r(v,w,d,e,t,o):r(w,v,d,t,e,o);if(!(b===void 0?w===v||i(w,v,n,r,o):b)){g=!1;break}y||(y=d=="constructor")}if(g&&!y){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var Pne=Ane,Cne=Hs,Ine=ai,One=Cne(Ine,"DataView"),Nne=One,Rne=Hs,kne=ai,Mne=Rne(kne,"Promise"),Dne=Mne,jne=Hs,$ne=ai,Lne=jne($ne,"Set"),yL=Lne,Fne=Hs,Vne=ai,Bne=Fne(Vne,"WeakMap"),Une=Bne,ww=Nne,bw=Y1,Ew=Dne,Sw=yL,xw=Une,vL=Vi,ou=x$,eI="[object Map]",zne="[object Object]",tI="[object Promise]",nI="[object Set]",rI="[object WeakMap]",iI="[object DataView]",Wne=ou(ww),qne=ou(bw),Hne=ou(Ew),Gne=ou(Sw),Kne=ou(xw),os=vL;(ww&&os(new ww(new ArrayBuffer(1)))!=iI||bw&&os(new bw)!=eI||Ew&&os(Ew.resolve())!=tI||Sw&&os(new Sw)!=nI||xw&&os(new xw)!=rI)&&(os=function(t){var e=vL(t),n=e==zne?t.constructor:void 0,r=n?ou(n):"";if(r)switch(r){case Wne:return iI;case qne:return eI;case Hne:return tI;case Gne:return nI;case Kne:return rI}return e});var Qne=os,Wv=sL,Yne=cL,Xne=Cee,Jne=Pne,oI=Qne,sI=Vn,aI=dL,Zne=mL,ere=1,lI="[object Arguments]",uI="[object Array]",hd="[object Object]",tre=Object.prototype,cI=tre.hasOwnProperty;function nre(t,e,n,r,i,o){var s=sI(t),a=sI(e),l=s?uI:oI(t),u=a?uI:oI(e);l=l==lI?hd:l,u=u==lI?hd:u;var c=l==hd,f=u==hd,d=l==u;if(d&&aI(t)){if(!aI(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Wv),s||Zne(t)?Yne(t,e,n,r,i,o):Xne(t,e,l,n,r,i,o);if(!(n&ere)){var p=c&&cI.call(t,"__wrapped__"),m=f&&cI.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return o||(o=new Wv),i(g,y,n,r,o)}}return d?(o||(o=new Wv),Jne(t,e,n,r,i,o)):!1}var rre=nre,ire=rre,fI=Bi;function _L(t,e,n,r,i){return t===e?!0:t==null||e==null||!fI(t)&&!fI(e)?t!==t&&e!==e:ire(t,e,n,r,_L,i)}var pS=_L,ore=sL,sre=pS,are=1,lre=2;function ure(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new ore;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?sre(c,u,are|lre,r,f):d))return!1}}return!0}var cre=ure,fre=zo;function hre(t){return t===t&&!fre(t)}var wL=hre,dre=wL,pre=oy;function mre(t){for(var e=pre(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,dre(i)]}return e}var gre=mre;function yre(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var bL=yre,vre=cre,_re=gre,wre=bL;function bre(t){var e=_re(t);return e.length==1&&e[0][2]?wre(e[0][0],e[0][1]):function(n){return n===t||vre(n,t,e)}}var Ere=bre;function Sre(t,e){return t!=null&&e in Object(t)}var xre=Sre,Tre=I$,Are=fS,Pre=Vn,Cre=hS,Ire=dS,Ore=Wg;function Nre(t,e,n){e=Tre(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Ore(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Ire(i)&&Cre(s,i)&&(Pre(t)||Are(t)))}var Rre=Nre,kre=xre,Mre=Rre;function Dre(t,e){return t!=null&&Mre(t,e,kre)}var jre=Dre,$re=pS,Lre=O$,Fre=jre,Vre=G1,Bre=wL,Ure=bL,zre=Wg,Wre=1,qre=2;function Hre(t,e){return Vre(t)&&Bre(e)?Ure(zre(t),e):function(n){var r=Lre(n,t);return r===void 0&&r===e?Fre(n,t):$re(e,r,Wre|qre)}}var Gre=Hre;function Kre(t){return t}var su=Kre;function Qre(t){return function(e){return e==null?void 0:e[t]}}var Yre=Qre,Xre=eS;function Jre(t){return function(e){return Xre(e,t)}}var Zre=Jre,eie=Yre,tie=Zre,nie=G1,rie=Wg;function iie(t){return nie(t)?eie(rie(t)):tie(t)}var oie=iie,sie=Ere,aie=Gre,lie=su,uie=Vn,cie=oie;function fie(t){return typeof t=="function"?t:t==null?lie:typeof t=="object"?uie(t)?aie(t[0],t[1]):sie(t):cie(t)}var Wo=fie;function hie(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var EL=hie;function die(t){return t!==t}var pie=die;function mie(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var gie=mie,yie=EL,vie=pie,_ie=gie;function wie(t,e,n){return e===e?_ie(t,e,n):yie(t,vie,n)}var bie=wie,Eie=bie;function Sie(t,e){var n=t==null?0:t.length;return!!n&&Eie(t,e,0)>-1}var xie=Sie;function Tie(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Aie=Tie;function Pie(){}var Cie=Pie,qv=yL,Iie=Cie,Oie=cS,Nie=1/0,Rie=qv&&1/Oie(new qv([,-0]))[1]==Nie?function(t){return new qv(t)}:Iie,kie=Rie,Mie=aL,Die=xie,jie=Aie,$ie=uL,Lie=kie,Fie=cS,Vie=200;function Bie(t,e,n){var r=-1,i=Die,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=jie;else if(o>=Vie){var u=e?null:Lie(t);if(u)return Fie(u);s=!1,i=$ie,l=new Mie}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var Uie=Bie,zie=Wo,Wie=Uie;function qie(t,e){return t&&t.length?Wie(t,zie(e)):[]}var Hie=qie;const hI=We(Hie);function SL(t,e,n){return e===!0?hI(t,n):_e(e)?hI(t,e):t}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}var Gie=["ref"];function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TL(r.key),r)}}function Qie(t,e,n){return e&&pI(t.prototype,e),n&&pI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yie(t,e,n){return e=im(e),Xie(t,xL()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function Xie(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jie(t)}function Jie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function Zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function sy(t,e,n){return e=TL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TL(t){var e=eoe(t,"string");return ml(e)=="symbol"?e:e+""}function eoe(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function toe(t,e){if(t==null)return{};var n=noe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function noe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function roe(t){return t.value}function ioe(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=toe(e,Gie);return D.createElement(uS,n)}var mI=1,Ba=function(t){function e(){var n;Kie(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Yie(this,e,[].concat(i)),sy(n,"lastBoundingBox",{width:-1,height:-1}),n}return Zie(e,t),Qie(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>mI||Math.abs(i.height-this.lastBoundingBox.height)>mI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ui({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ui(ui({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ui(ui({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},ioe(o,ui(ui({},this.props),{},{payload:SL(c,u,roe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ui(ui({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ne(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);sy(Ba,"displayName","Legend");sy(Ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gI=yh,ooe=fS,soe=Vn,yI=gI?gI.isConcatSpreadable:void 0;function aoe(t){return soe(t)||ooe(t)||!!(yI&&t&&t[yI])}var loe=aoe,uoe=fL,coe=loe;function AL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=coe),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?AL(a,e-1,n,r,i):uoe(i,a):r||(i[i.length]=a)}return i}var PL=AL;function foe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var hoe=foe,doe=hoe,poe=doe(),moe=poe,goe=moe,yoe=oy;function voe(t,e){return t&&goe(t,e,yoe)}var CL=voe,_oe=wh;function woe(t,e){return function(n,r){if(n==null)return n;if(!_oe(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var boe=woe,Eoe=CL,Soe=boe,xoe=Soe(Eoe),mS=xoe,Toe=mS,Aoe=wh;function Poe(t,e){var n=-1,r=Aoe(t)?Array(t.length):[];return Toe(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var IL=Poe;function Coe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Ioe=Coe,vI=Zl;function Ooe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=vI(t),s=e!==void 0,a=e===null,l=e===e,u=vI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Noe=Ooe,Roe=Noe;function koe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Roe(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Moe=koe,Hv=Z1,Doe=eS,joe=Wo,$oe=IL,Loe=Ioe,Foe=pL,Voe=Moe,Boe=su,Uoe=Vn;function zoe(t,e,n){e.length?e=Hv(e,function(o){return Uoe(o)?function(s){return Doe(s,o.length===1?o[0]:o)}:o}):e=[Boe];var r=-1;e=Hv(e,Foe(joe));var i=$oe(t,function(o,s,a){var l=Hv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Loe(i,function(o,s){return Voe(o,s,n)})}var Woe=zoe;function qoe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Hoe=qoe,Goe=Hoe,_I=Math.max;function Koe(t,e,n){return e=_I(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=_I(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Goe(t,this,a)}}var Qoe=Koe;function Yoe(t){return function(){return t}}var Xoe=Yoe,Joe=Hs,Zoe=function(){try{var t=Joe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),OL=Zoe,ese=Xoe,wI=OL,tse=su,nse=wI?function(t,e){return wI(t,"toString",{configurable:!0,enumerable:!1,value:ese(e),writable:!0})}:tse,rse=nse,ise=800,ose=16,sse=Date.now;function ase(t){var e=0,n=0;return function(){var r=sse(),i=ose-(r-n);if(n=r,i>0){if(++e>=ise)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var lse=ase,use=rse,cse=lse,fse=cse(use),hse=fse,dse=su,pse=Qoe,mse=hse;function gse(t,e){return mse(pse(t,e,dse),t+"")}var yse=gse,vse=Q1,_se=wh,wse=hS,bse=zo;function Ese(t,e,n){if(!bse(n))return!1;var r=typeof e;return(r=="number"?_se(n)&&wse(e,n.length):r=="string"&&e in n)?vse(n[e],t):!1}var ay=Ese,Sse=PL,xse=Woe,Tse=yse,bI=ay,Ase=Tse(function(t,e){if(t==null)return[];var n=e.length;return n>1&&bI(t,e[0],e[1])?e=[]:n>2&&bI(e[0],e[1],e[2])&&(e=[e[0]]),xse(t,Sse(e,1),[])}),Pse=Ase;const gS=We(Pse);function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aw.apply(this,arguments)}function Cse(t,e){return Rse(t)||Nse(t,e)||Ose(t,e)||Ise()}function Ise(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ose(t,e){if(t){if(typeof t=="string")return EI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EI(t,e)}}function EI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Rse(t){if(Array.isArray(t))return t}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e,n){return e=Mse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mse(t){var e=Dse(t,"string");return vf(e)=="symbol"?e:e+""}function Dse(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jse(t){return Array.isArray(t)&&$t(t[0])&&$t(t[1])?t.join(" ~ "):t}var $se=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,y=e.labelFormatter,w=e.accessibilityLayer,v=w===void 0?!1:w,b=function(){if(c&&c.length){var k={padding:0,margin:0},R=(d?gS(c,d):c).map(function(B,U){if(B.type==="none")return null;var W=Gv({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},a),G=B.formatter||f||jse,L=B.value,z=B.name,Q=L,ee=z;if(G&&Q!=null&&ee!=null){var Y=G(L,z,B,U,c);if(Array.isArray(Y)){var le=Cse(Y,2);Q=le[0],ee=le[1]}else Q=Y}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:W},$t(ee)?D.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,$t(ee)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},Q),D.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:k},R)}return null},C=Gv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Gv({margin:0},u),A=!Se(g),E=A?g:"",x=ke("recharts-default-tooltip",p),P=ke("recharts-tooltip-label",m);A&&y&&c!==void 0&&c!==null&&(E=y(g,c));var O=v?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",Aw({className:x,style:C},O),D.createElement("p",{className:P,style:S},D.isValidElement(E)?E:"".concat(E)),b())};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function dd(t,e,n){return e=Lse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lse(t){var e=Fse(t,"string");return _f(e)=="symbol"?e:e+""}function Fse(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uu="recharts-tooltip-wrapper",Vse={visibility:"hidden"};function Bse(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ke(Uu,dd(dd(dd(dd({},"".concat(Uu,"-right"),ne(n)&&e&&ne(e.x)&&n>=e.x),"".concat(Uu,"-left"),ne(n)&&e&&ne(e.x)&&n<e.x),"".concat(Uu,"-bottom"),ne(r)&&e&&ne(e.y)&&r>=e.y),"".concat(Uu,"-top"),ne(r)&&e&&ne(e.y)&&r<e.y))}function xI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ne(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+a,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function Use(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function zse(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=xI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=xI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Use({translateX:c,translateY:f,useTranslate3d:a})):u=Vse,{cssProperties:u,cssClasses:Bse({translateX:c,translateY:f,coordinate:n})}}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RL(r.key),r)}}function Hse(t,e,n){return e&&qse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gse(t,e,n){return e=om(e),Kse(t,NL()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function Kse(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qse(t)}function Qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NL=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function Yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pw(t,e)}function Cw(t,e,n){return e=RL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RL(t){var e=Xse(t,"string");return gl(e)=="symbol"?e:e+""}function Xse(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PI=1,Jse=function(t){function e(){var n;Wse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Gse(this,e,[].concat(i)),Cw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Cw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Yse(e,t),Hse(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>PI||Math.abs(r.height-this.state.lastBoundingBox.height)>PI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,v=i.wrapperStyle,b=zse({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),C=b.cssClasses,S=b.cssProperties,A=AI(AI({transition:d&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return D.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(x){r.wrapperNode=x}},u)}}])}(j.PureComponent),Zse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},au={isSsr:Zse()};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){yS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ML(r.key),r)}}function nae(t,e,n){return e&&tae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rae(t,e,n){return e=sm(e),iae(t,kL()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function iae(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oae(t)}function oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kL=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function sae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function yS(t,e,n){return e=ML(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ML(t){var e=aae(t,"string");return yl(e)=="symbol"?e:e+""}function aae(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lae(t){return t.dataKey}function uae(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement($se,e)}var rr=function(t){function e(){return eae(this,e),rae(this,e,arguments)}return sae(e,t),nae(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,y=i.position,w=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,C=i.wrapperStyle,S=m??[];f&&S.length&&(S=SL(m.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),g,lae));var A=S.length>0;return D.createElement(Jse,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:A,offset:p,position:y,reverseDirection:w,useTranslate3d:v,viewBox:b,wrapperStyle:C},uae(u,II(II({},this.props),{},{payload:S})))}}])}(j.PureComponent);yS(rr,"displayName","Tooltip");yS(rr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!au.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cae=ai,fae=function(){return cae.Date.now()},hae=fae,dae=/\s/;function pae(t){for(var e=t.length;e--&&dae.test(t.charAt(e)););return e}var mae=pae,gae=mae,yae=/^\s+/;function vae(t){return t&&t.slice(0,gae(t)+1).replace(yae,"")}var _ae=vae,wae=_ae,OI=zo,bae=Zl,NI=NaN,Eae=/^[-+]0x[0-9a-f]+$/i,Sae=/^0b[01]+$/i,xae=/^0o[0-7]+$/i,Tae=parseInt;function Aae(t){if(typeof t=="number")return t;if(bae(t))return NI;if(OI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=OI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=wae(t);var n=Sae.test(t);return n||xae.test(t)?Tae(t.slice(2),n?2:8):Eae.test(t)?NI:+t}var DL=Aae,Pae=zo,Kv=hae,RI=DL,Cae="Expected a function",Iae=Math.max,Oae=Math.min;function Nae(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Cae);e=RI(e)||0,Pae(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Iae(RI(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(A){var E=r,x=i;return r=i=void 0,u=A,s=t.apply(x,E),s}function m(A){return u=A,a=setTimeout(w,e),c?p(A):s}function g(A){var E=A-l,x=A-u,P=e-E;return f?Oae(P,o-x):P}function y(A){var E=A-l,x=A-u;return l===void 0||E>=e||E<0||f&&x>=o}function w(){var A=Kv();if(y(A))return v(A);a=setTimeout(w,g(A))}function v(A){return a=void 0,d&&r?p(A):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:v(Kv())}function S(){var A=Kv(),E=y(A);if(r=arguments,i=this,l=A,E){if(a===void 0)return m(l);if(f)return clearTimeout(a),a=setTimeout(w,e),p(l)}return a===void 0&&(a=setTimeout(w,e)),s}return S.cancel=b,S.flush=C,S}var Rae=Nae,kae=Rae,Mae=zo,Dae="Expected a function";function jae(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Dae);return Mae(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),kae(t,e,{leading:r,maxWait:e,trailing:i})}var $ae=jae;const jL=We($ae);function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){Lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lae(t,e,n){return e=Fae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fae(t){var e=Vae(t,"string");return wf(e)=="symbol"?e:e+""}function Vae(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bae(t,e){return qae(t)||Wae(t,e)||zae(t,e)||Uae()}function Uae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zae(t,e){if(t){if(typeof t=="string")return MI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MI(t,e)}}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function qae(t){if(Array.isArray(t))return t}var Qv=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,y=t.id,w=t.className,v=t.onResize,b=t.style,C=b===void 0?{}:b,S=j.useRef(null),A=j.useRef();A.current=v,j.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=j.useState({containerWidth:i.width,containerHeight:i.height}),x=Bae(E,2),P=x[0],O=x[1],I=j.useCallback(function(R,B){O(function(U){var W=Math.round(R),G=Math.round(B);return U.containerWidth===W&&U.containerHeight===G?U:{containerWidth:W,containerHeight:G}})},[]);j.useEffect(function(){var R=function(z){var Q,ee=z[0].contentRect,Y=ee.width,le=ee.height;I(Y,le),(Q=A.current)===null||Q===void 0||Q.call(A,Y,le)};g>0&&(R=jL(R,g,{trailing:!0,leading:!1}));var B=new ResizeObserver(R),U=S.current.getBoundingClientRect(),W=U.width,G=U.height;return I(W,G),B.observe(S.current),function(){B.disconnect()}},[I,g]);var k=j.useMemo(function(){var R=P.containerWidth,B=P.containerHeight;if(R<0||B<0)return null;Ei(ps(s)||ps(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ei(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=ps(s)?R:s,W=ps(l)?B:l;n&&n>0&&(U?W=U/n:W&&(U=W*n),d&&W>d&&(W=d)),Ei(U>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,W,s,l,c,f,n);var G=!Array.isArray(p)&&bi(p.type).endsWith("Chart");return D.Children.map(p,function(L){return D.isValidElement(L)?j.cloneElement(L,pd({width:U,height:W},G?{style:pd({height:"100%",width:"100%",maxHeight:W,maxWidth:U},L.props.style)}:{})):L})},[n,p,l,d,f,c,P,s]);return D.createElement("div",{id:y?"".concat(y):void 0,className:ke("recharts-responsive-container",w),style:pd(pd({},C),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:S},k)}),$L=function(e){return null};$L.displayName="Cell";function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){Hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hae(t,e,n){return e=Gae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=Kae(t,"string");return bf(e)=="symbol"?e:e+""}function Kae(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ia={widthCache:{},cacheCount:0},Qae=2e3,Yae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jI="recharts_measurement_span";function Xae(t){var e=Ow({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Pc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||au.isSsr)return{width:0,height:0};var r=Xae(n),i=JSON.stringify({text:e,copyStyle:r});if(ia.widthCache[i])return ia.widthCache[i];try{var o=document.getElementById(jI);o||(o=document.createElement("span"),o.setAttribute("id",jI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Ow(Ow({},Yae),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ia.widthCache[i]=l,++ia.cacheCount>Qae&&(ia.cacheCount=0,ia.widthCache={}),l}catch{return{width:0,height:0}}},Jae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function am(t,e){return nle(t)||tle(t,e)||ele(t,e)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ele(t,e){if(t){if(typeof t=="string")return $I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $I(t,e)}}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function nle(t){if(Array.isArray(t))return t}function rle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ole(r.key),r)}}function ile(t,e,n){return e&&LI(t.prototype,e),n&&LI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ole(t){var e=sle(t,"string");return Ef(e)=="symbol"?e:e+""}function sle(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ale=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ule=Object.keys(LL),Ta="NaN";function cle(t,e){return t*LL[e]}var md=function(){function t(e,n){rle(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!ale.test(n)&&(this.num=NaN,this.unit=""),ule.includes(n)&&(this.num=cle(e,n),this.unit="px")}return ile(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=lle.exec(n))!==null&&r!==void 0?r:[],o=am(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function FL(t){if(t.includes(Ta))return Ta;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=FI.exec(e))!==null&&n!==void 0?n:[],i=am(r,4),o=i[1],s=i[2],a=i[3],l=md.parse(o??""),u=md.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ta;e=e.replace(FI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=VI.exec(e))!==null&&f!==void 0?f:[],p=am(d,4),m=p[1],g=p[2],y=p[3],w=md.parse(m??""),v=md.parse(y??""),b=g==="+"?w.add(v):w.subtract(v);if(b.isNaN())return Ta;e=e.replace(VI,b.toString())}return e}var BI=/\(([^()]*)\)/;function fle(t){for(var e=t;e.includes("(");){var n=BI.exec(e),r=am(n,2),i=r[1];e=e.replace(BI,FL(i))}return e}function hle(t){var e=t.replace(/\s+/g,"");return e=fle(e),e=FL(e),e}function dle(t){try{return hle(t)}catch{return Ta}}function Yv(t){var e=dle(t.slice(5,-1));return e===Ta?"":e}var ple=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mle=["dx","dy","angle","className","breakAll"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(this,arguments)}function UI(t,e){if(t==null)return{};var n=gle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zI(t,e){return wle(t)||_le(t,e)||vle(t,e)||yle()}function yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vle(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _le(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wle(t){if(Array.isArray(t))return t}var VL=/[ \f\n\r\t\v\u2028\u2029]+/,BL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Se(n)||(r?o=n.toString().split(""):o=n.toString().split(VL));var s=o.map(function(l){return{word:l,width:Pc(l,i).width}}),a=r?0:Pc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},ble=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ne(s),f=a,d=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(W,G){var L=G.word,z=G.width,Q=W[W.length-1];if(Q&&(i==null||o||Q.width+z+r<Number(i)))Q.words.push(L),Q.width+=z+r;else{var ee={words:[L],width:z};W.push(ee)}return W},[])},p=d(n),m=function(U){return U.reduce(function(W,G){return W.width>G.width?W:G})};if(!c)return p;for(var g="",y=function(U){var W=f.slice(0,U),G=BL({breakAll:u,style:l,children:W+g}).wordsWithComputedWidth,L=d(G),z=L.length>s||m(L).width>Number(i);return[z,L]},w=0,v=f.length-1,b=0,C;w<=v&&b<=f.length-1;){var S=Math.floor((w+v)/2),A=S-1,E=y(A),x=zI(E,2),P=x[0],O=x[1],I=y(S),k=zI(I,1),R=k[0];if(!P&&!R&&(w=S+1),P&&R&&(v=S-1),!P&&R){C=O;break}b++}return C||p},qI=function(e){var n=Se(e)?[]:e.toString().split(VL);return[{words:n}]},Ele=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!au.isSsr){var l,u,c=BL({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return qI(i);return ble({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return qI(i)},HI="#808080",lm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,y=e.fill,w=y===void 0?HI:y,v=UI(e,ple),b=j.useMemo(function(){return Ele({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),C=v.dx,S=v.dy,A=v.angle,E=v.className,x=v.breakAll,P=UI(v,mle);if(!$t(r)||!$t(o))return null;var O=r+(ne(C)?C:0),I=o+(ne(S)?S:0),k;switch(g){case"start":k=Yv("calc(".concat(u,")"));break;case"middle":k=Yv("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:k=Yv("calc(".concat(b.length-1," * -").concat(a,")"));break}var R=[];if(f){var B=b[0].width,U=v.width;R.push("scale(".concat((ne(U)?U/B:1)/B,")"))}return A&&R.push("rotate(".concat(A,", ").concat(O,", ").concat(I,")")),R.length&&(P.transform=R.join(" ")),D.createElement("text",Nw({},Ce(P,!0),{x:O,y:I,className:ke("recharts-text",E),textAnchor:p,fill:w.includes("url")?HI:w}),b.map(function(W,G){var L=W.words.join(x?"":" ");return D.createElement("tspan",{x:O,dy:G===0?k:a,key:"".concat(L,"-").concat(G)},L)}))};function Ao(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sle(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vS(t){let e,n,r;t.length!==2?(e=Ao,n=(a,l)=>Ao(t(a),l),r=(a,l)=>t(a)-l):(e=t===Ao||t===Sle?t:xle,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function xle(){return 0}function UL(t){return t===null?NaN:+t}function*Tle(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ale=vS(Ao),bh=Ale.right;vS(UL).center;class GI extends Map{constructor(e,n=Ile){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(KI(this,e))}has(e){return super.has(KI(this,e))}set(e,n){return super.set(Ple(this,e),n)}delete(e){return super.delete(Cle(this,e))}}function KI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ple({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Cle({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ile(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ole(t=Ao){if(t===Ao)return zL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function zL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nle=Math.sqrt(50),Rle=Math.sqrt(10),kle=Math.sqrt(2);function um(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Nle?10:o>=Rle?5:o>=kle?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?um(t,e,n*2):[a,l,u]}function Rw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?um(e,t,n):um(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function kw(t,e,n){return e=+e,t=+t,n=+n,um(t,e,n)[2]}function Mw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?kw(e,t,n):kw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function QI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function YI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function WL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?zL:Ole(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));WL(t,e,p,m,i)}const o=t[e];let s=n,a=r;for(zu(t,n,e),i(t[r],o)>0&&zu(t,n,r);s<a;){for(zu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?zu(t,n,a):(++a,zu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function zu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Mle(t,e,n){if(t=Float64Array.from(Tle(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return YI(t);if(e>=1)return QI(t);var r,i=(r-1)*e,o=Math.floor(i),s=QI(WL(t,o).subarray(0,o+1)),a=YI(t.subarray(o+1));return s+(a-s)*(i-o)}}function Dle(t,e,n=UL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function jle(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ui(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Dw=Symbol("implicit");function _S(){var t=new GI,e=[],n=[],r=Dw;function i(o){let s=t.get(o);if(s===void 0){if(r!==Dw)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new GI;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return _S(e,n).unknown(r)},yr.apply(i,arguments),i}function Sf(){var t=_S().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var y=jle(d).map(function(w){return m+o*w});return n(p?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,f()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Sf(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},yr.apply(f(),arguments)}function qL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qL(e())},t}function Cc(){return qL(Sf.apply(null,arguments).paddingInner(1))}function wS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function HL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Eh(){}var xf=.7,cm=1/xf,Ua="\\s*([+-]?\\d+)\\s*",Tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$le=/^#([0-9a-f]{3,8})$/,Lle=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),Fle=new RegExp(`^rgb\\(${ni},${ni},${ni}\\)$`),Vle=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${Tf}\\)$`),Ble=new RegExp(`^rgba\\(${ni},${ni},${ni},${Tf}\\)$`),Ule=new RegExp(`^hsl\\(${Tf},${ni},${ni}\\)$`),zle=new RegExp(`^hsla\\(${Tf},${ni},${ni},${Tf}\\)$`),XI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wS(Eh,Af,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:JI,formatHex:JI,formatHex8:Wle,formatHsl:qle,formatRgb:ZI,toString:ZI});function JI(){return this.rgb().formatHex()}function Wle(){return this.rgb().formatHex8()}function qle(){return GL(this).formatHsl()}function ZI(){return this.rgb().formatRgb()}function Af(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$le.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eO(e):n===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?gd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?gd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Lle.exec(t))?new Rn(e[1],e[2],e[3],1):(e=Fle.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vle.exec(t))?gd(e[1],e[2],e[3],e[4]):(e=Ble.exec(t))?gd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ule.exec(t))?rO(e[1],e[2]/100,e[3]/100,1):(e=zle.exec(t))?rO(e[1],e[2]/100,e[3]/100,e[4]):XI.hasOwnProperty(t)?eO(XI[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function eO(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function gd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rn(t,e,n,r)}function Hle(t){return t instanceof Eh||(t=Af(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function jw(t,e,n,r){return arguments.length===1?Hle(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}wS(Rn,jw,HL(Eh,{brighter(t){return t=t==null?cm:Math.pow(cm,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xf:Math.pow(xf,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(Ts(this.r),Ts(this.g),Ts(this.b),fm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tO,formatHex:tO,formatHex8:Gle,formatRgb:nO,toString:nO}));function tO(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function Gle(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function nO(){const t=fm(this.opacity);return`${t===1?"rgb(":"rgba("}${Ts(this.r)}, ${Ts(this.g)}, ${Ts(this.b)}${t===1?")":`, ${t})`}`}function fm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ts(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=Ts(t),(t<16?"0":"")+t.toString(16)}function rO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Cr(t,e,n,r)}function GL(t){if(t instanceof Cr)return new Cr(t.h,t.s,t.l,t.opacity);if(t instanceof Eh||(t=Af(t)),!t)return new Cr;if(t instanceof Cr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Cr(s,a,l,t.opacity)}function Kle(t,e,n,r){return arguments.length===1?GL(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}wS(Cr,Kle,HL(Eh,{brighter(t){return t=t==null?cm:Math.pow(cm,t),new Cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xf:Math.pow(xf,t),new Cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rn(Xv(t>=240?t-240:t+120,i,r),Xv(t,i,r),Xv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cr(iO(this.h),yd(this.s),yd(this.l),fm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fm(this.opacity);return`${t===1?"hsl(":"hsla("}${iO(this.h)}, ${yd(this.s)*100}%, ${yd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iO(t){return t=(t||0)%360,t<0?t+360:t}function yd(t){return Math.max(0,Math.min(1,t||0))}function Xv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bS=t=>()=>t;function Qle(t,e){return function(n){return t+n*e}}function Yle(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Xle(t){return(t=+t)==1?KL:function(e,n){return n-e?Yle(e,n,t):bS(isNaN(e)?n:e)}}function KL(t,e){var n=e-t;return n?Qle(t,n):bS(isNaN(t)?e:t)}const oO=function t(e){var n=Xle(e);function r(i,o){var s=n((i=jw(i)).r,(o=jw(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=KL(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Jle(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Zle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eue(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=lu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function tue(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function hm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function nue(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=lu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var $w=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jv=new RegExp($w.source,"g");function rue(t){return function(){return t}}function iue(t){return function(e){return t(e)+""}}function oue(t,e){var n=$w.lastIndex=Jv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=$w.exec(t))&&(i=Jv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:hm(r,i)})),n=Jv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?iue(l[0].x):rue(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function lu(t,e){var n=typeof e,r;return e==null||n==="boolean"?bS(e):(n==="number"?hm:n==="string"?(r=Af(e))?(e=r,oO):oue:e instanceof Af?oO:e instanceof Date?tue:Zle(e)?Jle:Array.isArray(e)?eue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nue:hm)(t,e)}function ES(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function sue(t,e){e===void 0&&(e=t,t=lu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function aue(t){return function(){return t}}function dm(t){return+t}var sO=[0,1];function Sn(t){return t}function Lw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:aue(isNaN(e)?NaN:.5)}function lue(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function uue(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Lw(i,r),o=n(s,o)):(r=Lw(r,i),o=n(o,s)),function(a){return o(r(a))}}function cue(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Lw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=bh(t,a,1,r)-1;return o[l](i[l](a))}}function Sh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ly(){var t=sO,e=sO,n=lu,r,i,o,s=Sn,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==Sn&&(s=lue(t[0],t[d-1])),a=d>2?cue:uue,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(e,t.map(r),hm)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,dm),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=ES,c()},f.clamp=function(d){return arguments.length?(s=d?!0:Sn,c()):s!==Sn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function SS(){return ly()(Sn,Sn)}function fue(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vl(t){return t=pm(Math.abs(t)),t?t[1]:NaN}function hue(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function due(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var pue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pf(t){if(!(e=pue.exec(t)))throw new Error("invalid format: "+t);var e;return new xS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pf.prototype=xS.prototype;function xS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mue(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var QL;function gue(t,e){var n=pm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(QL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pm(t,Math.max(0,e+o-1))[0]}function aO(t,e){var n=pm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fue,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>aO(t*100,e),r:aO,s:gue,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uO(t){return t}var cO=Array.prototype.map,fO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yue(t){var e=t.grouping===void 0||t.thousands===void 0?uO:hue(cO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?uO:due(cO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Pf(f);var d=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,w=f.width,v=f.comma,b=f.precision,C=f.trim,S=f.type;S==="n"?(v=!0,S="g"):lO[S]||(b===void 0&&(b=12),C=!0,S="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=g==="$"?r:/[%p]/.test(S)?s:"",x=lO[S],P=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(I){var k=A,R=E,B,U,W;if(S==="c")R=x(I)+R,I="";else{I=+I;var G=I<0||1/I<0;if(I=isNaN(I)?l:x(Math.abs(I),b),C&&(I=mue(I)),G&&+I==0&&m!=="+"&&(G=!1),k=(G?m==="("?m:a:m==="-"||m==="("?"":m)+k,R=(S==="s"?fO[8+QL/3]:"")+R+(G&&m==="("?")":""),P){for(B=-1,U=I.length;++B<U;)if(W=I.charCodeAt(B),48>W||W>57){R=(W===46?i+I.slice(B+1):I.slice(B))+R,I=I.slice(0,B);break}}}v&&!y&&(I=e(I,1/0));var L=k.length+I.length+R.length,z=L<w?new Array(w-L+1).join(d):"";switch(v&&y&&(I=e(z+I,z.length?w-R.length:1/0),z=""),p){case"<":I=k+I+R+z;break;case"=":I=k+z+I+R;break;case"^":I=z.slice(0,L=z.length>>1)+k+I+R+z.slice(L);break;default:I=z+k+I+R;break}return o(I)}return O.toString=function(){return f+""},O}function c(f,d){var p=u((f=Pf(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(vl(d)/3)))*3,g=Math.pow(10,-m),y=fO[8+m/3];return function(w){return p(g*w)+y}}return{format:u,formatPrefix:c}}var vd,TS,YL;vue({thousands:",",grouping:[3],currency:["$",""]});function vue(t){return vd=yue(t),TS=vd.format,YL=vd.formatPrefix,vd}function _ue(t){return Math.max(0,-vl(Math.abs(t)))}function wue(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vl(e)/3)))*3-vl(Math.abs(t)))}function bue(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vl(e)-vl(t))+1}function XL(t,e,n,r){var i=Mw(t,e,n),o;switch(r=Pf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=wue(i,s))&&(r.precision=o),YL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=bue(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=_ue(i))&&(r.precision=o-(r.type==="%")*2);break}}return TS(r)}function qo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Rw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return XL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=kw(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function mm(){var t=SS();return t.copy=function(){return Sh(t,mm())},yr.apply(t,arguments),qo(t)}function JL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,dm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return JL(t).unknown(e)},t=arguments.length?Array.from(t,dm):[0,1],qo(n)}function ZL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function hO(t){return Math.log(t)}function dO(t){return Math.exp(t)}function Eue(t){return-Math.log(-t)}function Sue(t){return-Math.exp(-t)}function xue(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Tue(t){return t===10?xue:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Aue(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pO(t){return(e,n)=>-t(-e,n)}function AS(t){const e=t(hO,dO),n=e.domain;let r=10,i,o;function s(){return i=Aue(r),o=Tue(r),n()[0]<0?(i=pO(i),o=pO(o),t(Eue,Sue)):t(hO,dO),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const y=a==null?10:+a;let w=[];if(!(r%1)&&p-d<y){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;w.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;w.push(g)}w.length*2<y&&(w=Rw(u,c,y))}else w=Rw(d,p,Math.min(p-d,y)).map(o);return f?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Pf(l)).precision==null&&(l.trim=!0),l=TS(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(ZL(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function eF(){const t=AS(ly()).domain([1,10]);return t.copy=()=>Sh(t,eF()).base(t.base()),yr.apply(t,arguments),t}function mO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function PS(t){var e=1,n=t(mO(e),gO(e));return n.constant=function(r){return arguments.length?t(mO(e=+r),gO(e)):e},qo(n)}function tF(){var t=PS(ly());return t.copy=function(){return Sh(t,tF()).constant(t.constant())},yr.apply(t,arguments)}function yO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Pue(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Cue(t){return t<0?-t*t:t*t}function CS(t){var e=t(Sn,Sn),n=1;function r(){return n===1?t(Sn,Sn):n===.5?t(Pue,Cue):t(yO(n),yO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},qo(e)}function IS(){var t=CS(ly());return t.copy=function(){return Sh(t,IS()).exponent(t.exponent())},yr.apply(t,arguments),t}function Iue(){return IS.apply(null,arguments).exponent(.5)}function vO(t){return Math.sign(t)*t*t}function Oue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function nF(){var t=SS(),e=[0,1],n=!1,r;function i(o){var s=Oue(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(vO(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,dm)).map(vO)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return nF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},yr.apply(i,arguments),qo(i)}function rF(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Dle(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[bh(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ao),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return rF().domain(t).range(e).unknown(r)},yr.apply(o,arguments)}function iF(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[bh(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return iF().domain([t,e]).range(i).unknown(o)},yr.apply(qo(s),arguments)}function oF(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[bh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return oF().domain(t).range(e).unknown(n)},yr.apply(i,arguments)}const Zv=new Date,e_=new Date;function Ft(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Ft(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Zv.setTime(+o),e_.setTime(+s),t(Zv),t(e_),Math.floor(n(Zv,e_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const gm=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gm);gm.range;const gi=1e3,ur=gi*60,yi=ur*60,Ni=yi*24,OS=Ni*7,_O=Ni*30,t_=Ni*365,gs=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCSeconds());gs.range;const NS=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getMinutes());NS.range;const RS=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getUTCMinutes());RS.range;const kS=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi-t.getMinutes()*ur)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getHours());kS.range;const MS=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCHours());MS.range;const xh=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ur)/Ni,t=>t.getDate()-1);xh.range;const uy=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ni,t=>t.getUTCDate()-1);uy.range;const sF=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ni,t=>Math.floor(t/Ni));sF.range;function Gs(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ur)/OS)}const cy=Gs(0),ym=Gs(1),Nue=Gs(2),Rue=Gs(3),_l=Gs(4),kue=Gs(5),Mue=Gs(6);cy.range;ym.range;Nue.range;Rue.range;_l.range;kue.range;Mue.range;function Ks(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/OS)}const fy=Ks(0),vm=Ks(1),Due=Ks(2),jue=Ks(3),wl=Ks(4),$ue=Ks(5),Lue=Ks(6);fy.range;vm.range;Due.range;jue.range;wl.range;$ue.range;Lue.range;const DS=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());DS.range;const jS=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());jS.range;const Ri=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ri.range;const ki=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ki.range;function aF(t,e,n,r,i,o){const s=[[gs,1,gi],[gs,5,5*gi],[gs,15,15*gi],[gs,30,30*gi],[o,1,ur],[o,5,5*ur],[o,15,15*ur],[o,30,30*ur],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[r,1,Ni],[r,2,2*Ni],[n,1,OS],[e,1,_O],[e,3,3*_O],[t,1,t_]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=vS(([,,y])=>y).right(s,d);if(p===s.length)return t.every(Mw(u/t_,c/t_,f));if(p===0)return gm.every(Math.max(Mw(u,c,f),1));const[m,g]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return m.every(g)}return[a,l]}const[Fue,Vue]=aF(ki,jS,fy,sF,MS,RS),[Bue,Uue]=aF(Ri,DS,cy,xh,kS,NS);function n_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function zue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=qu(i),c=Hu(i),f=qu(o),d=Hu(o),p=qu(s),m=Hu(s),g=qu(a),y=Hu(a),w=qu(l),v=Hu(l),b={a:G,A:L,b:z,B:Q,c:null,d:TO,e:TO,f:hce,g:Ece,G:xce,H:uce,I:cce,j:fce,L:lF,m:dce,M:pce,p:ee,q:Y,Q:CO,s:IO,S:mce,u:gce,U:yce,V:vce,w:_ce,W:wce,x:null,X:null,y:bce,Y:Sce,Z:Tce,"%":PO},C={a:le,A:pe,b:je,B:Qe,c:null,d:AO,e:AO,f:Ice,g:Fce,G:Bce,H:Ace,I:Pce,j:Cce,L:cF,m:Oce,M:Nce,p:on,q:Vt,Q:CO,s:IO,S:Rce,u:kce,U:Mce,V:Dce,w:jce,W:$ce,x:null,X:null,y:Lce,Y:Vce,Z:Uce,"%":PO},S={a:O,A:I,b:k,B:R,c:B,d:SO,e:SO,f:oce,g:EO,G:bO,H:xO,I:xO,j:tce,L:ice,m:ece,M:nce,p:P,q:Zue,Q:ace,s:lce,S:rce,u:Kue,U:Que,V:Yue,w:Gue,W:Xue,x:U,X:W,y:EO,Y:bO,Z:Jue,"%":sce};b.x=A(n,b),b.X=A(r,b),b.c=A(e,b),C.x=A(n,C),C.X=A(r,C),C.c=A(e,C);function A(re,me){return function(ye){var K=[],qe=-1,Te=0,vt=re.length,st,Bt,vr;for(ye instanceof Date||(ye=new Date(+ye));++qe<vt;)re.charCodeAt(qe)===37&&(K.push(re.slice(Te,qe)),(Bt=wO[st=re.charAt(++qe)])!=null?st=re.charAt(++qe):Bt=st==="e"?" ":"0",(vr=me[st])&&(st=vr(ye,Bt)),K.push(st),Te=qe+1);return K.push(re.slice(Te,qe)),K.join("")}}function E(re,me){return function(ye){var K=Wu(1900,void 0,1),qe=x(K,re,ye+="",0),Te,vt;if(qe!=ye.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(me&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Te=r_(Wu(K.y,0,1)),vt=Te.getUTCDay(),Te=vt>4||vt===0?vm.ceil(Te):vm(Te),Te=uy.offset(Te,(K.V-1)*7),K.y=Te.getUTCFullYear(),K.m=Te.getUTCMonth(),K.d=Te.getUTCDate()+(K.w+6)%7):(Te=n_(Wu(K.y,0,1)),vt=Te.getDay(),Te=vt>4||vt===0?ym.ceil(Te):ym(Te),Te=xh.offset(Te,(K.V-1)*7),K.y=Te.getFullYear(),K.m=Te.getMonth(),K.d=Te.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),vt="Z"in K?r_(Wu(K.y,0,1)).getUTCDay():n_(Wu(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(vt+5)%7:K.w+K.U*7-(vt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,r_(K)):n_(K)}}function x(re,me,ye,K){for(var qe=0,Te=me.length,vt=ye.length,st,Bt;qe<Te;){if(K>=vt)return-1;if(st=me.charCodeAt(qe++),st===37){if(st=me.charAt(qe++),Bt=S[st in wO?me.charAt(qe++):st],!Bt||(K=Bt(re,ye,K))<0)return-1}else if(st!=ye.charCodeAt(K++))return-1}return K}function P(re,me,ye){var K=u.exec(me.slice(ye));return K?(re.p=c.get(K[0].toLowerCase()),ye+K[0].length):-1}function O(re,me,ye){var K=p.exec(me.slice(ye));return K?(re.w=m.get(K[0].toLowerCase()),ye+K[0].length):-1}function I(re,me,ye){var K=f.exec(me.slice(ye));return K?(re.w=d.get(K[0].toLowerCase()),ye+K[0].length):-1}function k(re,me,ye){var K=w.exec(me.slice(ye));return K?(re.m=v.get(K[0].toLowerCase()),ye+K[0].length):-1}function R(re,me,ye){var K=g.exec(me.slice(ye));return K?(re.m=y.get(K[0].toLowerCase()),ye+K[0].length):-1}function B(re,me,ye){return x(re,e,me,ye)}function U(re,me,ye){return x(re,n,me,ye)}function W(re,me,ye){return x(re,r,me,ye)}function G(re){return s[re.getDay()]}function L(re){return o[re.getDay()]}function z(re){return l[re.getMonth()]}function Q(re){return a[re.getMonth()]}function ee(re){return i[+(re.getHours()>=12)]}function Y(re){return 1+~~(re.getMonth()/3)}function le(re){return s[re.getUTCDay()]}function pe(re){return o[re.getUTCDay()]}function je(re){return l[re.getUTCMonth()]}function Qe(re){return a[re.getUTCMonth()]}function on(re){return i[+(re.getUTCHours()>=12)]}function Vt(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var me=A(re+="",b);return me.toString=function(){return re},me},parse:function(re){var me=E(re+="",!1);return me.toString=function(){return re},me},utcFormat:function(re){var me=A(re+="",C);return me.toString=function(){return re},me},utcParse:function(re){var me=E(re+="",!0);return me.toString=function(){return re},me}}}var wO={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,Wue=/^%/,que=/[\\^$*+?|[\]().{}]/g;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Hue(t){return t.replace(que,"\\$&")}function qu(t){return new RegExp("^(?:"+t.map(Hue).join("|")+")","i")}function Hu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Gue(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Kue(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Que(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Yue(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Xue(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bO(t,e,n){var r=Xt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function EO(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Jue(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zue(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ece(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function SO(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tce(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xO(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nce(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rce(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ice(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oce(t,e,n){var r=Xt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sce(t,e,n){var r=Wue.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ace(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lce(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function TO(t,e){return De(t.getDate(),e,2)}function uce(t,e){return De(t.getHours(),e,2)}function cce(t,e){return De(t.getHours()%12||12,e,2)}function fce(t,e){return De(1+xh.count(Ri(t),t),e,3)}function lF(t,e){return De(t.getMilliseconds(),e,3)}function hce(t,e){return lF(t,e)+"000"}function dce(t,e){return De(t.getMonth()+1,e,2)}function pce(t,e){return De(t.getMinutes(),e,2)}function mce(t,e){return De(t.getSeconds(),e,2)}function gce(t){var e=t.getDay();return e===0?7:e}function yce(t,e){return De(cy.count(Ri(t)-1,t),e,2)}function uF(t){var e=t.getDay();return e>=4||e===0?_l(t):_l.ceil(t)}function vce(t,e){return t=uF(t),De(_l.count(Ri(t),t)+(Ri(t).getDay()===4),e,2)}function _ce(t){return t.getDay()}function wce(t,e){return De(ym.count(Ri(t)-1,t),e,2)}function bce(t,e){return De(t.getFullYear()%100,e,2)}function Ece(t,e){return t=uF(t),De(t.getFullYear()%100,e,2)}function Sce(t,e){return De(t.getFullYear()%1e4,e,4)}function xce(t,e){var n=t.getDay();return t=n>=4||n===0?_l(t):_l.ceil(t),De(t.getFullYear()%1e4,e,4)}function Tce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+De(e/60|0,"0",2)+De(e%60,"0",2)}function AO(t,e){return De(t.getUTCDate(),e,2)}function Ace(t,e){return De(t.getUTCHours(),e,2)}function Pce(t,e){return De(t.getUTCHours()%12||12,e,2)}function Cce(t,e){return De(1+uy.count(ki(t),t),e,3)}function cF(t,e){return De(t.getUTCMilliseconds(),e,3)}function Ice(t,e){return cF(t,e)+"000"}function Oce(t,e){return De(t.getUTCMonth()+1,e,2)}function Nce(t,e){return De(t.getUTCMinutes(),e,2)}function Rce(t,e){return De(t.getUTCSeconds(),e,2)}function kce(t){var e=t.getUTCDay();return e===0?7:e}function Mce(t,e){return De(fy.count(ki(t)-1,t),e,2)}function fF(t){var e=t.getUTCDay();return e>=4||e===0?wl(t):wl.ceil(t)}function Dce(t,e){return t=fF(t),De(wl.count(ki(t),t)+(ki(t).getUTCDay()===4),e,2)}function jce(t){return t.getUTCDay()}function $ce(t,e){return De(vm.count(ki(t)-1,t),e,2)}function Lce(t,e){return De(t.getUTCFullYear()%100,e,2)}function Fce(t,e){return t=fF(t),De(t.getUTCFullYear()%100,e,2)}function Vce(t,e){return De(t.getUTCFullYear()%1e4,e,4)}function Bce(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wl(t):wl.ceil(t),De(t.getUTCFullYear()%1e4,e,4)}function Uce(){return"+0000"}function PO(){return"%"}function CO(t){return+t}function IO(t){return Math.floor(+t/1e3)}var oa,hF,dF;zce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zce(t){return oa=zue(t),hF=oa.format,oa.parse,dF=oa.utcFormat,oa.utcParse,oa}function Wce(t){return new Date(t)}function qce(t){return t instanceof Date?+t:+new Date(+t)}function $S(t,e,n,r,i,o,s,a,l,u){var c=SS(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),v=u("%b %d"),b=u("%B"),C=u("%Y");function S(A){return(l(A)<A?p:a(A)<A?m:s(A)<A?g:o(A)<A?y:r(A)<A?i(A)<A?w:v:n(A)<A?b:C)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?d(Array.from(A,qce)):d().map(Wce)},c.ticks=function(A){var E=d();return t(E[0],E[E.length-1],A??10)},c.tickFormat=function(A,E){return E==null?S:u(E)},c.nice=function(A){var E=d();return(!A||typeof A.range!="function")&&(A=e(E[0],E[E.length-1],A??10)),A?d(ZL(E,A)):c},c.copy=function(){return Sh(c,$S(t,e,n,r,i,o,s,a,l,u))},c}function Hce(){return yr.apply($S(Bue,Uue,Ri,DS,cy,xh,kS,NS,gs,hF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gce(){return yr.apply($S(Fue,Vue,ki,jS,fy,uy,MS,RS,gs,dF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hy(){var t=0,e=1,n,r,i,o,s=Sn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,s=f(p,m),u):[s(0),s(1)]}}return u.range=c(lu),u.rangeRound=c(ES),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pF(){var t=qo(hy()(Sn));return t.copy=function(){return Ho(t,pF())},Ui.apply(t,arguments)}function mF(){var t=AS(hy()).domain([1,10]);return t.copy=function(){return Ho(t,mF()).base(t.base())},Ui.apply(t,arguments)}function gF(){var t=PS(hy());return t.copy=function(){return Ho(t,gF()).constant(t.constant())},Ui.apply(t,arguments)}function LS(){var t=CS(hy());return t.copy=function(){return Ho(t,LS()).exponent(t.exponent())},Ui.apply(t,arguments)}function Kce(){return LS.apply(null,arguments).exponent(.5)}function yF(){var t=[],e=Sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((bh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ao),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Mle(t,o/r))},n.copy=function(){return yF(e).domain(t)},Ui.apply(n,arguments)}function dy(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Sn,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(y){var w,v,b;return arguments.length?([w,v,b]=y,u=sue(g,[w,v,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(lu),p.rangeRound=m(ES),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function vF(){var t=qo(dy()(Sn));return t.copy=function(){return Ho(t,vF())},Ui.apply(t,arguments)}function _F(){var t=AS(dy()).domain([.1,1,10]);return t.copy=function(){return Ho(t,_F()).base(t.base())},Ui.apply(t,arguments)}function wF(){var t=PS(dy());return t.copy=function(){return Ho(t,wF()).constant(t.constant())},Ui.apply(t,arguments)}function FS(){var t=CS(dy());return t.copy=function(){return Ho(t,FS()).exponent(t.exponent())},Ui.apply(t,arguments)}function Qce(){return FS.apply(null,arguments).exponent(.5)}const OO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sf,scaleDiverging:vF,scaleDivergingLog:_F,scaleDivergingPow:FS,scaleDivergingSqrt:Qce,scaleDivergingSymlog:wF,scaleIdentity:JL,scaleImplicit:Dw,scaleLinear:mm,scaleLog:eF,scaleOrdinal:_S,scalePoint:Cc,scalePow:IS,scaleQuantile:rF,scaleQuantize:iF,scaleRadial:nF,scaleSequential:pF,scaleSequentialLog:mF,scaleSequentialPow:LS,scaleSequentialQuantile:yF,scaleSequentialSqrt:Kce,scaleSequentialSymlog:gF,scaleSqrt:Iue,scaleSymlog:tF,scaleThreshold:oF,scaleTime:Hce,scaleUtc:Gce,tickFormat:XL},Symbol.toStringTag,{value:"Module"}));var Yce=Zl;function Xce(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Yce(s):n(s,a)))var a=s,l=o}return l}var bF=Xce;function Jce(t,e){return t>e}var Zce=Jce,efe=bF,tfe=Zce,nfe=su;function rfe(t){return t&&t.length?efe(t,nfe,tfe):void 0}var ife=rfe;const py=We(ife);function ofe(t,e){return t<e}var sfe=ofe,afe=bF,lfe=sfe,ufe=su;function cfe(t){return t&&t.length?afe(t,ufe,lfe):void 0}var ffe=cfe;const my=We(ffe);var hfe=Z1,dfe=Wo,pfe=IL,mfe=Vn;function gfe(t,e){var n=mfe(t)?hfe:pfe;return n(t,dfe(e))}var yfe=gfe,vfe=PL,_fe=yfe;function wfe(t,e){return vfe(_fe(t,e),1)}var bfe=wfe;const Efe=We(bfe);var Sfe=pS;function xfe(t,e){return Sfe(t,e)}var Tfe=xfe;const gy=We(Tfe);var uu=1e9,Afe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BS,ot=!0,mr="[DecimalError] ",As=mr+"Invalid argument: ",VS=mr+"Exponent out of range: ",cu=Math.floor,ss=Math.pow,Pfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hn,qt=1e7,et=7,EF=9007199254740991,_m=cu(EF/et),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Si(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Ue(Si(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return It(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hn))throw Error(mr+"NaN");if(n.s<1)throw Error(mr+(n.s?"NaN":"-Infinity"));return n.eq(Hn)?new r(0):(ot=!1,e=Si(Cf(n,o),Cf(t,o),o),ot=!0,Ue(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TF(e,t):SF(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(mr+"NaN");return n.s?(ot=!1,e=Si(n,t,0,1).times(t),ot=!0,n.minus(e)):Ue(new r(n),i)};ae.naturalExponential=ae.exp=function(){return xF(this)};ae.naturalLogarithm=ae.ln=function(){return Cf(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SF(e,t):TF(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(As+t);if(e=It(i)+1,r=i.d.length-1,n=r*et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(mr+"NaN")}for(t=It(a),ot=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Yr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Si(a,o,s+2)).times(.5),Yr(o.d).slice(0,s)===(e=Yr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ue(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ot=!0,Ue(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*d[i-r-1]+e,o[i--]=a%qt|0,e=a/qt|0;o[i]=(o[i]+e)%qt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ot?Ue(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(si(t,0,uu),e===void 0?e=r.rounding:si(e,0,8),Ue(n,t+It(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Fs(r,!0):(si(t,0,uu),e===void 0?e=i.rounding:si(e,0,8),r=Ue(new i(r),t+1,e),n=Fs(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Fs(i):(si(t,0,uu),e===void 0?e=o.rounding:si(e,0,8),r=Ue(new o(i),t+It(i)+1,e),n=Fs(r.abs(),!1,t+It(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Ue(new e(t),It(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Hn);if(a=new l(a),!a.s){if(t.s<1)throw Error(mr+"Infinity");return a}if(a.eq(Hn))return a;if(r=l.precision,t.eq(Hn))return Ue(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=EF){for(i=new l(Hn),e=Math.ceil(r/et+4),ot=!1;n%2&&(i=i.times(a),RO(i.d,e)),n=cu(n/2),n!==0;)a=a.times(a),RO(a.d,e);return ot=!0,t.s<0?new l(Hn).div(i):Ue(i,r)}}else if(o<0)throw Error(mr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ot=!1,i=t.times(Cf(a,r+u)),ot=!0,i=xF(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=It(i),r=Fs(i,n<=o.toExpNeg||n>=o.toExpPos)):(si(t,1,uu),e===void 0?e=o.rounding:si(e,0,8),i=Ue(new o(i),t,e),n=It(i),r=Fs(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(si(t,1,uu),e===void 0?e=r.rounding:si(e,0,8)),Ue(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=It(t),n=t.constructor;return Fs(t,e<=n.toExpNeg||e>=n.toExpPos)};function SF(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ot?Ue(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/et),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/qt|0,l[o]%=qt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ot?Ue(e,f):e}function si(t,e,n){if(t!==~~t||t<e||t>n)throw Error(As+t)}function Yr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=et-r.length,n&&(o+=Zi(n)),o+=r;s=t[e],r=s+"",n=et-r.length,n&&(o+=Zi(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Si=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%qt|0,s=o/qt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*qt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,d,p,m,g,y,w,v,b,C,S,A,E,x,P=r.constructor,O=r.s==i.s?1:-1,I=r.d,k=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(mr+"Division by zero");for(l=r.e-i.e,E=k.length,S=I.length,p=new P(O),m=p.d=[],u=0;k[u]==(I[u]||0);)++u;if(k[u]>(I[u]||0)&&--l,o==null?v=o=P.precision:s?v=o+(It(r)-It(i))+1:v=o,v<0)return new P(0);if(v=v/et+2|0,u=0,E==1)for(c=0,k=k[0],v++;(u<S||c)&&v--;u++)b=c*qt+(I[u]||0),m[u]=b/k|0,c=b%k|0;else{for(c=qt/(k[0]+1)|0,c>1&&(k=t(k,c),I=t(I,c),E=k.length,S=I.length),C=E,g=I.slice(0,E),y=g.length;y<E;)g[y++]=0;x=k.slice(),x.unshift(0),A=k[0],k[1]>=qt/2&&++A;do c=0,a=e(k,g,E,y),a<0?(w=g[0],E!=y&&(w=w*qt+(g[1]||0)),c=w/A|0,c>1?(c>=qt&&(c=qt-1),f=t(k,c),d=f.length,y=g.length,a=e(f,g,d,y),a==1&&(c--,n(f,E<d?x:k,d))):(c==0&&(a=c=1),f=k.slice()),d=f.length,d<y&&f.unshift(0),n(g,f,y),a==-1&&(y=g.length,a=e(k,g,E,y),a<1&&(c++,n(g,E<y?x:k,y))),y=g.length):a===0&&(c++,g=[0]),m[u++]=c,a&&g[0]?g[y++]=I[C]||0:(g=[I[C]],y=1);while((C++<S||g[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=l,Ue(p,s?o+It(p)+1:o)}}();function xF(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(It(t)>16)throw Error(VS+It(t));if(!t.s)return new c(Hn);for(ot=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ss(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Hn),c.precision=a;;){if(i=Ue(i.times(t),a),n=n.times(++l),s=o.plus(Si(i,n,a)),Yr(s.d).slice(0,a)===Yr(o.d).slice(0,a)){for(;u--;)o=Ue(o.times(o),a);return c.precision=f,e==null?(ot=!0,Ue(o,f)):o}o=s}}function It(t){for(var e=t.e*et,n=t.d[0];n>=10;n/=10)e++;return e}function i_(t,e,n){if(e>t.LN10.sd())throw ot=!0,n&&(t.precision=n),Error(mr+"LN10 precision limit exceeded");return Ue(new t(t.LN10),e)}function Zi(t){for(var e="";t--;)e+="0";return e}function Cf(t,e){var n,r,i,o,s,a,l,u,c,f=1,d=10,p=t,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(mr+(p.s?"NaN":"-Infinity"));if(p.eq(Hn))return new g(0);if(e==null?(ot=!1,u=y):u=e,p.eq(10))return e==null&&(ot=!0),i_(g,u);if(u+=d,g.precision=u,n=Yr(m),r=n.charAt(0),o=It(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Yr(p.d),r=n.charAt(0),f++;o=It(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=i_(g,u+2,y).times(o+""),p=Cf(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=y,e==null?(ot=!0,Ue(p,y)):p;for(a=s=p=Si(p.minus(Hn),p.plus(Hn),u),c=Ue(p.times(p),u),i=3;;){if(s=Ue(s.times(c),u),l=a.plus(Si(s,new g(i),u)),Yr(l.d).slice(0,u)===Yr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(i_(g,u+2,y).times(o+""))),a=Si(a,new g(f),u),g.precision=y,e==null?(ot=!0,Ue(a,y)):a;a=l,i+=2}}function NO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cu(n/et),t.d=[],r=(n+1)%et,n<0&&(r+=et),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=et;r<i;)t.d.push(+e.slice(r,r+=et));e=e.slice(r),r=et-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ot&&(t.e>_m||t.e<-_m))throw Error(VS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ue(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=et,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/et),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=et,i=r-et+s}if(n!==void 0&&(o=ss(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ss(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=It(t),f.length=1,e=e-o-1,f[0]=ss(10,(et-e%et)%et),t.e=cu(-e/et)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ss(10,et-r),f[c]=i>0?(u/ss(10,s-i)%ss(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==qt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=qt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ot&&(t.e>_m||t.e<-_m))throw Error(VS+It(t));return t}function TF(t,e){var n,r,i,o,s,a,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),ot?Ue(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(p/et),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=qt-1;--l[o],l[i]+=qt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ot?Ue(e,p):e):new d(0)}function Fs(t,e,n){var r,i=It(t),o=Yr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Zi(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Zi(-i-1)+o,n&&(r=n-s)>0&&(o+=Zi(r))):i>=s?(o+=Zi(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Zi(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Zi(r))),t.s<0?"-"+o:o}function RO(t,e){if(t.length>e)return t.length=e,!0}function AF(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(As+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return NO(s,o.toString())}else if(typeof o!="string")throw Error(As+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Pfe.test(o))NO(s,o);else throw Error(As+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AF,i.config=i.set=Cfe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Cfe(t){if(!t||typeof t!="object")throw Error(mr+"Object expected");var e,n,r,i=["precision",1,uu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(As+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(As+n+": "+r);return this}var BS=AF(Afe);Hn=new BS(1);const Ve=BS;function Ife(t){return kfe(t)||Rfe(t)||Nfe(t)||Ofe()}function Ofe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nfe(t,e){if(t){if(typeof t=="string")return Fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(t,e)}}function Rfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kfe(t){if(Array.isArray(t))return Fw(t)}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mfe=function(e){return e},PF={},CF=function(e){return e===PF},kO=function(e){return function n(){return arguments.length===0||arguments.length===1&&CF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Dfe=function t(e,n){return e===1?n:kO(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==PF}).length;return s>=e?n.apply(void 0,i):t(e-s,kO(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return CF(f)?l.shift():f});return n.apply(void 0,Ife(c).concat(l))}))})},yy=function(e){return Dfe(e.length,e)},Vw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},jfe=yy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),$fe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Mfe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Bw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},IF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Lfe(t){var e;return t===0?e=1:e=Math.floor(new Ve(t).abs().log(10).toNumber())+1,e}function Ffe(t,e,n){for(var r=new Ve(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Vfe=yy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Bfe=yy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ufe=yy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const vy={rangeStep:Ffe,getDigitCount:Lfe,interpolateNumber:Vfe,uninterpolateNumber:Bfe,uninterpolateTruncation:Ufe};function Uw(t){return qfe(t)||Wfe(t)||OF(t)||zfe()}function zfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qfe(t){if(Array.isArray(t))return zw(t)}function If(t,e){return Kfe(t)||Gfe(t,e)||OF(t,e)||Hfe()}function Hfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OF(t,e){if(t){if(typeof t=="string")return zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(t,e)}}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gfe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Kfe(t){if(Array.isArray(t))return t}function NF(t){var e=If(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function RF(t,e,n){if(t.lte(0))return new Ve(0);var r=vy.getDigitCount(t.toNumber()),i=new Ve(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ve(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Ve(Math.ceil(l))}function Qfe(t,e,n){var r=1,i=new Ve(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ve(10).pow(vy.getDigitCount(t)-1),i=new Ve(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ve(Math.floor(t)))}else t===0?i=new Ve(Math.floor((e-1)/2)):n||(i=new Ve(Math.floor(t)));var s=Math.floor((e-1)/2),a=$fe(jfe(function(l){return i.add(new Ve(l-s).mul(r)).toNumber()}),Vw);return a(0,e)}function kF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var o=RF(new Ve(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ve(0):(s=new Ve(t).add(e).div(2),s=s.sub(new Ve(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ve(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?kF(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Ve(a).mul(o)),tickMax:s.add(new Ve(l).mul(o))})}function Yfe(t){var e=If(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=NF([n,r]),l=If(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Uw(Vw(0,i-1).map(function(){return 1/0}))):[].concat(Uw(Vw(0,i-1).map(function(){return-1/0})),[c]);return n>r?Bw(f):f}if(u===c)return Qfe(u,i,o);var d=kF(u,c,s,o),p=d.step,m=d.tickMin,g=d.tickMax,y=vy.rangeStep(m,g.add(new Ve(.1).mul(p)),p);return n>r?Bw(y):y}function Xfe(t,e){var n=If(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=NF([r,i]),a=If(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=RF(new Ve(u).sub(l).div(c-1),o,0),d=[].concat(Uw(vy.rangeStep(new Ve(l),new Ve(u).sub(new Ve(.99).mul(f)),f)),[u]);return r>i?Bw(d):d}var Jfe=IF(Yfe),Zfe=IF(Xfe),ehe="Invariant failed";function Vs(t,e){throw new Error(ehe)}var the=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function nhe(t,e){return she(t)||ohe(t,e)||ihe(t,e)||rhe()}function rhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ihe(t,e){if(t){if(typeof t=="string")return MO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ohe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function she(t){if(Array.isArray(t))return t}function ahe(t,e){if(t==null)return{};var n=lhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function che(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jF(r.key),r)}}function fhe(t,e,n){return e&&che(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hhe(t,e,n){return e=bm(e),dhe(t,MF()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function dhe(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(t)}function phe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MF=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function DF(t,e,n){return e=jF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jF(t){var e=ghe(t,"string");return bl(e)=="symbol"?e:e+""}function ghe(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Th=function(t){function e(){return uhe(this,e),hhe(this,e,arguments)}return mhe(e,t),fhe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=ahe(r,the),p=Ce(d,!1);this.props.direction==="x"&&c.type!=="number"&&Vs();var m=l.map(function(g){var y=u(g,a),w=y.x,v=y.y,b=y.value,C=y.errorVal;if(!C)return null;var S=[],A,E;if(Array.isArray(C)){var x=nhe(C,2);A=x[0],E=x[1]}else A=E=C;if(o==="vertical"){var P=c.scale,O=v+i,I=O+s,k=O-s,R=P(b-A),B=P(b+E);S.push({x1:B,y1:I,x2:B,y2:k}),S.push({x1:R,y1:O,x2:B,y2:O}),S.push({x1:R,y1:I,x2:R,y2:k})}else if(o==="horizontal"){var U=f.scale,W=w+i,G=W-s,L=W+s,z=U(b-A),Q=U(b+E);S.push({x1:G,y1:Q,x2:L,y2:Q}),S.push({x1:W,y1:z,x2:W,y2:Q}),S.push({x1:G,y1:z,x2:L,y2:z})}return D.createElement(bt,wm({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),S.map(function(ee){return D.createElement("line",wm({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return D.createElement(bt,{className:"recharts-errorBars"},m)}}])}(D.Component);DF(Th,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});DF(Th,"displayName","ErrorBar");function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yhe(t,e,n){return e=vhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vhe(t){var e=_he(t,"string");return Of(e)=="symbol"?e:e+""}function _he(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $F=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=qn(n,Ba);if(!s)return null;var a=Ba.defaultProps,l=a!==void 0?Zo(Zo({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:s.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Zo(Zo({},d),f.props):{},m=p.dataKey,g=p.name,y=p.legendType,w=p.hide;return{inactive:w,dataKey:m,type:l.iconType||y||"square",color:US(f),value:g||m,payload:p}}),Zo(Zo(Zo({},l),Ba.getWithHeight(s,i)),{},{payload:u,item:s})};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function jO(t){return She(t)||Ehe(t)||bhe(t)||whe()}function whe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bhe(t,e){if(t){if(typeof t=="string")return qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qw(t,e)}}function Ehe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function She(t){if(Array.isArray(t))return qw(t)}function qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){za(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function za(t,e,n){return e=xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xhe(t){var e=The(t,"string");return Nf(e)=="symbol"?e:e+""}function The(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return Se(t)||Se(e)?n:$t(e)?fr(t,e,n):_e(e)?e(t):n}function Ic(t,e,n,r){var i=Efe(t,function(a){return Yn(a,e)});if(n==="number"){var o=i.filter(function(a){return ne(a)||parseFloat(a)});return o.length?[my(o),py(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Se(a)}):i;return s.map(function(a){return $t(a)||a instanceof Date?a:""})}var Ahe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,d=u>=a-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Nr(f-c)!==Nr(d-f)){var m=[];if(Nr(d-f)===Nr(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var y=d+l[1]-l[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var v=Math.min(c,d),b=Math.max(c,d);if(e>(v+f)/2&&e<=(b+f)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},US=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Phe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,y=m.cateAxisId,w=g.filter(function(E){return bi(E.type).indexOf("Bar")>=0});if(w&&w.length){var v=w[0].type.defaultProps,b=v!==void 0?mt(mt({},v),w[0].props):w[0].props,C=b.barSize,S=b[y];s[S]||(s[S]=[]);var A=Se(C)?n:C;s[S].push({item:w[0],stackList:w.slice(1),barSize:Se(A)?void 0:Ls(A,r,0)})}}return s},Che=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Ls(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,p=i/l,m=s.reduce(function(C,S){return C+S.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,y={offset:g-u,size:0};c=s.reduce(function(C,S){var A={item:S.item,position:{offset:y.offset+y.size+u,size:d?p:S.barSize}},E=[].concat(jO(C),[A]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(x){E.push({item:x,position:y})}),E},f)}else{var w=Ls(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var v=(i-2*w-(l-1)*u)/l;v>1&&(v>>=0);var b=a===+a?Math.min(v,a):v;c=s.reduce(function(C,S,A){var E=[].concat(jO(C),[{item:S.item,position:{offset:w+(v+u)*A+(v-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(x){E.push({item:x,position:E[E.length-1].position})}),E},f)}return c},Ihe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=$F({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ne(e[p]))return mt(mt({},e),{},za({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ne(e[m]))return mt(mt({},e),{},za({},m,e[m]+(d||0)))}return e},Ohe=function(e,n,r){return Se(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},LF=function(e,n,r,i,o){var s=n.props.children,a=hr(s,Th).filter(function(u){return Ohe(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Yn(c,r);if(Se(f))return u;var d=Array.isArray(f)?[my(f),py(f)]:[f,f],p=l.reduce(function(m,g){var y=Yn(c,g,0),w=d[0]-Math.abs(Array.isArray(y)?y[0]:y),v=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Nhe=function(e,n,r,i,o){var s=n.map(function(a){return LF(e,a,r,o,i)}).filter(function(a){return!Se(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},FF=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&LF(e,l,u,i)||Ic(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},VF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},BF=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},vi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Nr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!vh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},o_=new WeakMap,_d=function(e,n){if(typeof n!="function")return e;o_.has(e)||o_.set(e,new WeakMap);var r=o_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Rhe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Sf(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:mm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Cc(),realScaleType:"point"}:o==="category"?{scale:Sf(),realScaleType:"band"}:{scale:mm(),realScaleType:"linear"};if($s(i)){var l="scale".concat(ty(i));return{scale:(OO[l]||Cc)(),realScaleType:OO[l]?l:"point"}}return _e(i)?{scale:i}:{scale:Cc(),realScaleType:"point"}},LO=1e-4,khe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-LO,s=Math.max(i[0],i[1])+LO,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Mhe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Dhe=function(e,n){if(!n||n.length!==2||!ne(n[0])||!ne(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ne(e[0])||e[0]<r)&&(o[0]=r),(!ne(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},jhe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=vh(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},$he=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=vh(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Lhe={sign:jhe,expand:ZJ,none:dl,silhouette:eZ,wiggle:tZ,positive:$he},Fhe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Lhe[r],s=JJ().keys(i).value(function(a,l){return+Yn(a,l,0)}).order(gw).offset(o);return s(e)},Vhe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?mt(mt({},d.type.defaultProps),d.props):d.props,g=m.stackId,y=m.hide;if(y)return f;var w=m[r],v=f[w]||{hasStack:!1,stackGroups:{}};if($t(g)){var b=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(d),v.hasStack=!0,v.stackGroups[g]=b}else v.stackGroups[_h("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return mt(mt({},f),{},za({},w,v))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var w=p.stackGroups[y];return mt(mt({},g),{},za({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:Fhe(e,w.items,o)}))},m)}return mt(mt({},f),{},za({},d,p))},c)},Bhe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Jfe(u,o,a);return e.domain([my(c),py(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=Zfe(f,o,a);return{niceTicks:d}}return null};function FO(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Se(i[e.dataKey])){var a=Hp(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Yn(i,Se(s)?e.dataKey:s);return Se(l)?null:e.scale(l)}var VO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Yn(s,n.dataKey,n.domain[a]);return Se(l)?null:n.scale(l)-o/2+i},Uhe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},zhe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if($t(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},Whe=function(e){return e.reduce(function(n,r){return[my(r.concat([n[0]]).filter(ne)),py(r.concat([n[1]]).filter(ne))]},[1/0,-1/0])},UF=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=Whe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hw=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ne(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(BO.test(e[0])){var o=+BO.exec(e[0])[1];i[0]=n[0]-o}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ne(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(UO.test(e[1])){var s=+UO.exec(e[1])[1];i[1]=n[1]+s}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Em=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=gS(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},zO=function(e,n,r){return!e||!e.length||gy(e,fr(r,"type.defaultProps.domain"))?n:e},zF=function(e,n){var r=e.type.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return mt(mt({},Ce(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:US(e),value:Yn(n,i),type:l,payload:n,chartType:u,hide:c})};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qhe(t,e,n){return e=Hhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hhe(t){var e=Ghe(t,"string");return Rf(e)=="symbol"?e:e+""}function Ghe(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sm=Math.PI/180,Khe=function(e){return e*180/Math.PI},en=function(e,n,r,i){return{x:e+Math.cos(-Sm*i)*r,y:n+Math.sin(-Sm*i)*r}},Qhe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Yhe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Qhe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:Khe(u),angleInRadian:u}},Xhe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Jhe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},HO=function(e,n){var r=e.x,i=e.y,o=Yhe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Xhe(n),f=c.startAngle,d=c.endAngle,p=a,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?qO(qO({},n),{},{radius:s,angle:Jhe(p,n)}):null};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}var Zhe=["offset"];function ede(t){return ide(t)||rde(t)||nde(t)||tde()}function tde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(t,e){if(t){if(typeof t=="string")return Gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gw(t,e)}}function rde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ide(t){if(Array.isArray(t))return Gw(t)}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ode(t,e){if(t==null)return{};var n=sde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return e=lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lde(t){var e=ude(t,"string");return kf(e)=="symbol"?e:e+""}function ude(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(this,arguments)}var cde=function(e){var n=e.value,r=e.formatter,i=Se(e.children)?n:e.children;return _e(r)?r(i):i},fde=function(e,n){var r=Nr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},hde=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,y=(f+d)/2,w=fde(p,m),v=w>=0?1:-1,b,C;i==="insideStart"?(b=p+v*s,C=g):i==="insideEnd"?(b=m-v*s,C=!g):i==="end"&&(b=m+v*s,C=g),C=w<=0?C:!C;var S=en(u,c,y,b),A=en(u,c,y,b+(C?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),x=Se(e.id)?_h("recharts-radial-line-"):e.id;return D.createElement("text",Mf({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",a)}),D.createElement("defs",null,D.createElement("path",{id:x,d:E})),D.createElement("textPath",{xlinkHref:"#".concat(x)},n))},dde=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=en(s,a,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=en(s,a,y,d),v=w.x,b=w.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},pde=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,y=g*i,w=g>0?"end":"start",v=g>0?"start":"end";if(o==="top"){var b={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Rt(Rt({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return Rt(Rt({},C),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:a-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Rt(Rt({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:a+u+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return Rt(Rt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return o==="insideLeft"?Rt({x:a+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},E):o==="insideRight"?Rt({x:a+u-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},E):o==="insideTop"?Rt({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},E):o==="insideBottom"?Rt({x:a+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},E):o==="insideTopLeft"?Rt({x:a+y,y:l+d,textAnchor:v,verticalAnchor:m},E):o==="insideTopRight"?Rt({x:a+u-y,y:l+d,textAnchor:w,verticalAnchor:m},E):o==="insideBottomLeft"?Rt({x:a+y,y:l+c-d,textAnchor:v,verticalAnchor:p},E):o==="insideBottomRight"?Rt({x:a+u-y,y:l+c-d,textAnchor:w,verticalAnchor:p},E):eu(o)&&(ne(o.x)||ps(o.x))&&(ne(o.y)||ps(o.y))?Rt({x:a+Ls(o.x,u),y:l+Ls(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):Rt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},mde=function(e){return"cx"in e&&ne(e.cx)};function pn(t){var e=t.offset,n=e===void 0?5:e,r=ode(t,Zhe),i=Rt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Se(a)&&Se(l)&&!j.isValidElement(u)&&!_e(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(_e(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=cde(i);var m=mde(o),g=Ce(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return hde(i,p,g);var y=m?dde(i):pde(i);return D.createElement(lm,Mf({className:ke("recharts-label",f)},g,y,{breakAll:d}),p)}pn.displayName="Label";var WF=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,y=e.height,w=e.clockWise,v=e.labelViewBox;if(v)return v;if(ne(g)&&ne(y)){if(ne(f)&&ne(d))return{x:f,y:d,width:g,height:y};if(ne(p)&&ne(m))return{x:p,y:m,width:g,height:y}}return ne(f)&&ne(d)?{x:f,y:d,width:0,height:0}:ne(n)&&ne(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},gde=function(e,n){return e?e===!0?D.createElement(pn,{key:"label-implicit",viewBox:n}):$t(e)?D.createElement(pn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===pn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):_e(e)?D.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):eu(e)?D.createElement(pn,Mf({viewBox:n},e,{key:"label-implicit"})):null:null},yde=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=WF(e),s=hr(i,pn).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=gde(e.label,n||o);return[a].concat(ede(s))};pn.parseViewBox=WF;pn.renderCallByParent=yde;function vde(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var _de=vde;const wde=We(_de);function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var bde=["valueAccessor"],Ede=["data","dataKey","clockWise","id","textBreakAll"];function Sde(t){return Pde(t)||Ade(t)||Tde(t)||xde()}function xde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(t,e){if(t){if(typeof t=="string")return Kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kw(t,e)}}function Ade(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pde(t){if(Array.isArray(t))return Kw(t)}function Kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){Cde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cde(t,e,n){return e=Ide(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=Ode(t,"string");return Df(e)=="symbol"?e:e+""}function Ode(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YO(t,e){if(t==null)return{};var n=Nde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rde=function(e){return Array.isArray(e.value)?wde(e.value):e.value};function Po(t){var e=t.valueAccessor,n=e===void 0?Rde:e,r=YO(t,bde),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=YO(r,Ede);return!i||!i.length?null:D.createElement(bt,{className:"recharts-label-list"},i.map(function(c,f){var d=Se(o)?n(c,f):Yn(c&&c.payload,o),p=Se(a)?{}:{id:"".concat(a,"-").concat(f)};return D.createElement(pn,xm({},Ce(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:pn.parseViewBox(Se(s)?c:QO(QO({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Po.displayName="LabelList";function kde(t,e){return t?t===!0?D.createElement(Po,{key:"labelList-implicit",data:e}):D.isValidElement(t)||_e(t)?D.createElement(Po,{key:"labelList-implicit",data:e,content:t}):eu(t)?D.createElement(Po,xm({data:e},t,{key:"labelList-implicit"})):null:null}function Mde(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=hr(r,Po).map(function(s,a){return j.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=kde(t.label,e);return[o].concat(Sde(i))}Po.renderCallByParent=Mde;function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e,n){return e=jde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jde(t){var e=$de(t,"string");return jf(e)=="symbol"?e:e+""}function $de(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lde=function(e,n){var r=Nr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},wd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/Sm,d=u?o:o+s*f,p=en(n,r,c,d),m=en(n,r,i,d),g=u?o-s*f:o,y=en(n,r,c*Math.cos(f*Sm),g);return{center:p,circleTangency:m,lineTangency:y,theta:f}},qF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=Lde(s,a),u=s+l,c=en(n,r,o,s),f=en(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=en(n,r,i,s),m=en(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Fde=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Nr(c-u),d=wd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,y=wd({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),w=y.circleTangency,v=y.lineTangency,b=y.theta,C=l?Math.abs(u-c):Math.abs(u-c)-g-b;if(C<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):qF({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var A=wd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=A.circleTangency,x=A.lineTangency,P=A.theta,O=wd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=O.circleTangency,k=O.lineTangency,R=O.theta,B=l?Math.abs(u-c):Math.abs(u-c)-P-R;if(B<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Vde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HF=function(e){var n=JO(JO({},Vde),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(s<o||c===f)return null;var p=ke("recharts-sector",d),m=s-o,g=Ls(a,m,0,!0),y;return g>0&&Math.abs(c-f)<360?y=Fde({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):y=qF({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),D.createElement("path",Qw({},Ce(n,!0),{className:p,d:y,role:"img"}))};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e,n){return e=Ude(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ude(t){var e=zde(t,"string");return $f(e)=="symbol"?e:e+""}function zde(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tN={curveBasisClosed:BJ,curveBasisOpen:UJ,curveBasis:VJ,curveBumpX:AJ,curveBumpY:PJ,curveLinearClosed:zJ,curveLinear:ry,curveMonotoneX:WJ,curveMonotoneY:qJ,curveNatural:HJ,curveStep:GJ,curveStepAfter:QJ,curveStepBefore:KJ},bd=function(e){return e.x===+e.x&&e.y===+e.y},Gu=function(e){return e.x},Ku=function(e){return e.y},Wde=function(e,n){if(_e(e))return e;var r="curve".concat(ty(e));return(r==="curveMonotone"||r==="curveBump")&&n?tN["".concat(r).concat(n==="vertical"?"Y":"X")]:tN[r]||ry},qde=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Wde(r,a),f=u?o.filter(function(g){return bd(g)}):o,d;if(Array.isArray(s)){var p=u?s.filter(function(g){return bd(g)}):s,m=f.map(function(g,y){return eN(eN({},g),{},{base:p[y]})});return a==="vertical"?d=fd().y(Ku).x1(Gu).x0(function(g){return g.base.x}):d=fd().x(Gu).y1(Ku).y0(function(g){return g.base.y}),d.defined(bd).curve(c),d(m)}return a==="vertical"&&ne(s)?d=fd().y(Ku).x1(Gu).x0(s):ne(s)?d=fd().x(Gu).y1(Ku).y0(s):d=H$().x(Gu).y(Ku),d.defined(bd).curve(c),d(f)},Xw=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?qde(e):i;return j.createElement("path",Yw({},Ce(e,!1),Gp(e),{className:ke("recharts-curve",n),d:s,ref:o}))},GF={exports:{}},Hde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gde=Hde,Kde=Gde;function KF(){}function QF(){}QF.resetWarningCache=KF;var Qde=function(){function t(r,i,o,s,a,l){if(l!==Kde){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QF,resetWarningCache:KF};return n.PropTypes=n,n};GF.exports=Qde();var Yde=GF.exports;const $e=We(Yde);var Xde=Object.getOwnPropertyNames,Jde=Object.getOwnPropertySymbols,Zde=Object.prototype.hasOwnProperty;function nN(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Ed(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function epe(t){return t!=null?t[Symbol.toStringTag]:void 0}function rN(t){return Xde(t).concat(Jde(t))}var tpe=Object.hasOwn||function(t,e){return Zde.call(t,e)};function Qs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var npe="__v",rpe="__o",ipe="_owner",iN=Object.getOwnPropertyDescriptor,oN=Object.keys;function ope(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function spe(t,e){return Qs(t.getTime(),e.getTime())}function ape(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lpe(t,e){return t===e}function sN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),c=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var d=s.value,p=a.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var upe=Qs;function cpe(t,e,n){var r=oN(t),i=r.length;if(oN(e).length!==i)return!1;for(;i-- >0;)if(!YF(t,e,n,r[i]))return!1;return!0}function Qu(t,e,n){var r=rN(t),i=r.length;if(rN(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!YF(t,e,n,o)||(s=iN(t,o),a=iN(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function fpe(t,e){return Qs(t.valueOf(),e.valueOf())}function hpe(t,e){return t.source===e.source&&t.flags===e.flags}function aN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function dpe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function ppe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function YF(t,e,n,r){return(r===ipe||r===rpe||r===npe)&&(t.$$typeof||e.$$typeof)?!0:tpe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var mpe="[object Arguments]",gpe="[object Boolean]",ype="[object Date]",vpe="[object Error]",_pe="[object Map]",wpe="[object Number]",bpe="[object Object]",Epe="[object RegExp]",Spe="[object Set]",xpe="[object String]",Tpe="[object URL]",Ape=Array.isArray,lN=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,uN=Object.assign,Ppe=Object.prototype.toString.call.bind(Object.prototype.toString);function Cpe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual,p=t.unknownTagComparators;return function(g,y,w){if(g===y)return!0;if(g==null||y==null)return!1;var v=typeof g;if(v!==typeof y)return!1;if(v!=="object")return v==="number"?s(g,y,w):v==="function"?i(g,y,w):!1;var b=g.constructor;if(b!==y.constructor)return!1;if(b===Object)return a(g,y,w);if(Ape(g))return e(g,y,w);if(lN!=null&&lN(g))return f(g,y,w);if(b===Date)return n(g,y,w);if(b===RegExp)return u(g,y,w);if(b===Map)return o(g,y,w);if(b===Set)return c(g,y,w);var C=Ppe(g);if(C===ype)return n(g,y,w);if(C===Epe)return u(g,y,w);if(C===_pe)return o(g,y,w);if(C===Spe)return c(g,y,w);if(C===bpe)return typeof g.then!="function"&&typeof y.then!="function"&&a(g,y,w);if(C===Tpe)return d(g,y,w);if(C===vpe)return r(g,y,w);if(C===mpe)return a(g,y,w);if(C===gpe||C===wpe||C===xpe)return l(g,y,w);if(p){var S=p[C];if(!S){var A=epe(g);A&&(S=p[A])}if(S)return S(g,y,w)}return!1}}function Ipe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Qu:ope,areDatesEqual:spe,areErrorsEqual:ape,areFunctionsEqual:lpe,areMapsEqual:r?nN(sN,Qu):sN,areNumbersEqual:upe,areObjectsEqual:r?Qu:cpe,arePrimitiveWrappersEqual:fpe,areRegExpsEqual:hpe,areSetsEqual:r?nN(aN,Qu):aN,areTypedArraysEqual:r?Qu:dpe,areUrlsEqual:ppe,unknownTagComparators:void 0};if(n&&(i=uN({},i,n(i))),e){var o=Ed(i.areArraysEqual),s=Ed(i.areMapsEqual),a=Ed(i.areObjectsEqual),l=Ed(i.areSetsEqual);i=uN({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function Ope(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Npe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var Rpe=Go();Go({strict:!0});Go({circular:!0});Go({circular:!0,strict:!0});Go({createInternalComparator:function(){return Qs}});Go({strict:!0,createInternalComparator:function(){return Qs}});Go({circular:!0,createInternalComparator:function(){return Qs}});Go({circular:!0,createInternalComparator:function(){return Qs},strict:!0});function Go(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=Ipe(t),l=Cpe(a),u=r?r(l):Ope(l);return Npe({circular:n,comparator:l,createState:i,equals:u,strict:s})}function kpe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function cN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):kpe(i)};requestAnimationFrame(r)}function Jw(t){"@babel/helpers - typeof";return Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jw(t)}function Mpe(t){return Lpe(t)||$pe(t)||jpe(t)||Dpe()}function Dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(t,e){if(t){if(typeof t=="string")return fN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(t,e)}}function fN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $pe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lpe(t){if(Array.isArray(t))return t}function Fpe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Mpe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){cN(i.bind(null,u),l);return}i(l),cN(i.bind(null,u));return}Jw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){XF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XF(t,e,n){return e=Vpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vpe(t){var e=Bpe(t,"string");return Lf(e)==="symbol"?e:String(e)}function Bpe(t,e){if(Lf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Upe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},zpe=function(e){return e},Wpe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Oc=function(e,n){return Object.keys(n).reduce(function(r,i){return dN(dN({},r),{},XF({},i,e(i,n[i])))},{})},pN=function(e,n,r){return e.map(function(i){return"".concat(Wpe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function qpe(t,e){return Kpe(t)||Gpe(t,e)||JF(t,e)||Hpe()}function Hpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Kpe(t){if(Array.isArray(t))return t}function Qpe(t){return Jpe(t)||Xpe(t)||JF(t)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JF(t,e){if(t){if(typeof t=="string")return Zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zw(t,e)}}function Xpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jpe(t){if(Array.isArray(t))return Zw(t)}function Zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tm=1e-4,ZF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},e4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},mN=function(e,n){return function(r){var i=ZF(e,n);return e4(i,r)}},Zpe=function(e,n){return function(r){var i=ZF(e,n),o=[].concat(Qpe(i.map(function(s,a){return s*a}).slice(1)),[0]);return e4(o,r)}},gN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=qpe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=mN(i,s),d=mN(o,a),p=Zpe(i,s),m=function(w){return w>1?1:w<0?0:w},g=function(w){for(var v=w>1?1:w,b=v,C=0;C<8;++C){var S=f(b)-v,A=p(b);if(Math.abs(S-v)<Tm||A<Tm)return d(b);b=m(b-S/A)}return d(b)};return g.isStepper=!1,g},eme=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,d){var p=-(c-f)*r,m=d*o,g=d+(p-m)*a/1e3,y=d*a/1e3+c;return Math.abs(y-f)<Tm&&Math.abs(g)<Tm?[f,0]:[y,g]};return l.isStepper=!0,l.dt=a,l},tme=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gN(i);case"spring":return eme();default:if(i.split("(")[0]==="cubic-bezier")return gN(i)}return typeof i=="function"?i:null};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function yN(t){return ime(t)||rme(t)||t4(t)||nme()}function nme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ime(t){if(Array.isArray(t))return tb(t)}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){eb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eb(t,e,n){return e=ome(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ome(t){var e=sme(t,"string");return Ff(e)==="symbol"?e:String(e)}function sme(t,e){if(Ff(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ame(t,e){return cme(t)||ume(t,e)||t4(t,e)||lme()}function lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t4(t,e){if(t){if(typeof t=="string")return tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tb(t,e)}}function tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ume(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function cme(t){if(Array.isArray(t))return t}var Am=function(e,n,r){return e+(n-e)*r},nb=function(e){var n=e.from,r=e.to;return n!==r},fme=function t(e,n,r){var i=Oc(function(o,s){if(nb(s)){var a=e(s.from,s.to,s.velocity),l=ame(a,2),u=l[0],c=l[1];return Jt(Jt({},s),{},{from:u,velocity:c})}return s},n);return r<1?Oc(function(o,s){return nb(s)?Jt(Jt({},s),{},{velocity:Am(s.velocity,i[o].velocity,r),from:Am(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const hme=function(t,e,n,r,i){var o=Upe(t,e),s=o.reduce(function(y,w){return Jt(Jt({},y),{},eb({},w,[t[w],e[w]]))},{}),a=o.reduce(function(y,w){return Jt(Jt({},y),{},eb({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Oc(function(w,v){return v.from},a)},p=function(){return!Object.values(a).filter(nb).length},m=function(w){u||(u=w);var v=w-u,b=v/n.dt;a=fme(n,a,b),i(Jt(Jt(Jt({},t),e),d())),u=w,p()||(l=requestAnimationFrame(f))},g=function(w){c||(c=w);var v=(w-c)/r,b=Oc(function(S,A){return Am.apply(void 0,yN(A).concat([n(v)]))},s);if(i(Jt(Jt(Jt({},t),e),b)),v<1)l=requestAnimationFrame(f);else{var C=Oc(function(S,A){return Am.apply(void 0,yN(A).concat([n(1)]))},s);i(Jt(Jt(Jt({},t),e),C))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}var dme=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pme(t,e){if(t==null)return{};var n=mme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s_(t){return _me(t)||vme(t)||yme(t)||gme()}function gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yme(t,e){if(t){if(typeof t=="string")return rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rb(t,e)}}function vme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _me(t){if(Array.isArray(t))return rb(t)}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){ac(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ac(t,e,n){return e=n4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n4(r.key),r)}}function Eme(t,e,n){return e&&bme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n4(t){var e=Sme(t,"string");return El(e)==="symbol"?e:String(e)}function Sme(t,e){if(El(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ib(t,e)}function Tme(t){var e=Ame();return function(){var r=Pm(t),i;if(e){var o=Pm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ob(this,i)}}function ob(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sb(t)}function sb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ame(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pm(t)}var Mi=function(t){xme(n,t);var e=Tme(n);function n(r,i){var o;wme(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,d=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(sb(o)),o.changeStyle=o.changeStyle.bind(sb(o)),!a||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),ob(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},ob(o);o.state={style:l?ac({},l,u):u}}else o.state={style:{}};return o}return Eme(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(a){if(!s){var p={style:l?ac({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(Rpe(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var y={style:l?ac({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(y)}this.runAnimation(wr(wr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=hme(s,a,tme(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,y,w){if(w===0)return g;var v=y.duration,b=y.easing,C=b===void 0?"ease":b,S=y.style,A=y.properties,E=y.onAnimationEnd,x=w>0?s[w-1]:y,P=A||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(s_(g),[o.runJSAnimation.bind(o,{from:x.style,to:S,duration:v,easing:C}),v]);var O=pN(P,v,C),I=wr(wr(wr({},x.style),S),{},{transition:O});return[].concat(s_(g),[I,v,E]).filter(zpe)};return this.manager.start([l].concat(s_(s.reduce(p,[c,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Fpe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=a?ac({},a,l):l,y=pN(Object.keys(g),s,u);m.start([c,o,wr(wr({},g),{},{transition:y}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=pme(i,dme),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,w=m.className,v=j.cloneElement(p,wr(wr({},l),{},{style:wr(wr({},y),c),className:w}));return v};return u===1?f(j.Children.only(o)):D.createElement("div",null,j.Children.map(o,function(d){return f(d)}))}}]),n}(j.PureComponent);Mi.displayName="Animate";Mi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Mi.propTypes={from:$e.oneOfType([$e.object,$e.string]),to:$e.oneOfType([$e.object,$e.string]),attributeName:$e.string,duration:$e.number,begin:$e.number,easing:$e.oneOfType([$e.string,$e.func]),steps:$e.arrayOf($e.shape({duration:$e.number.isRequired,style:$e.object.isRequired,easing:$e.oneOfType([$e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$e.func]),properties:$e.arrayOf("string"),onAnimationEnd:$e.func})),children:$e.oneOfType([$e.node,$e.func]),isActive:$e.bool,canBegin:$e.bool,onAnimationEnd:$e.func,shouldReAnimate:$e.bool,onAnimationStart:$e.func,onAnimationReStart:$e.func};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function Pme(t,e){return Nme(t)||Ome(t,e)||Ime(t,e)||Cme()}function Cme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ime(t,e){if(t){if(typeof t=="string")return wN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(t,e)}}function wN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ome(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Nme(t){if(Array.isArray(t))return t}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){Rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rme(t,e,n){return e=kme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kme(t){var e=Mme(t,"string");return Vf(e)=="symbol"?e:e+""}function Mme(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SN=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>s?s:o[d];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);c="M ".concat(e,",").concat(n+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*m,`
            L `).concat(e+r,",").concat(n+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Dme=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},jme={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zS=function(e){var n=EN(EN({},jme),e),r=j.useRef(),i=j.useState(-1),o=Pme(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var b=ke("recharts-rectangle",p);return v?D.createElement(Mi,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:v},function(C){var S=C.width,A=C.height,E=C.x,x=C.y;return D.createElement(Mi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:w,easing:m},D.createElement("path",Cm({},Ce(n,!0),{className:b,d:SN(E,x,S,A,d),ref:r})))}):D.createElement("path",Cm({},Ce(n,!0),{className:b,d:SN(l,u,c,f,d)}))};function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}var WS=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=ke("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",ab({},Ce(e,!1),Gp(e),{className:s,cx:n,cy:r,r:i})):null};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var $me=["x","y","top","left","width","height","className"];function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lb.apply(this,arguments)}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){Fme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fme(t,e,n){return e=Vme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vme(t){var e=Bme(t,"string");return Bf(e)=="symbol"?e:e+""}function Bme(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ume(t,e){if(t==null)return{};var n=zme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Wme=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},qme=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,m=e.className,g=Ume(e,$me),y=Lme({x:r,y:o,top:a,left:u,width:f,height:p},g);return!ne(r)||!ne(o)||!ne(f)||!ne(p)||!ne(a)||!ne(u)?null:D.createElement("path",lb({},Ce(y,!0),{className:ke("recharts-cross",m),d:Wme(r,o,f,p,a,u)}))},Hme=gL,Gme=Hme(Object.getPrototypeOf,Object),Kme=Gme,Qme=Vi,Yme=Kme,Xme=Bi,Jme="[object Object]",Zme=Function.prototype,ege=Object.prototype,r4=Zme.toString,tge=ege.hasOwnProperty,nge=r4.call(Object);function rge(t){if(!Xme(t)||Qme(t)!=Jme)return!1;var e=Yme(t);if(e===null)return!0;var n=tge.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&r4.call(n)==nge}var ige=rge;const oge=We(ige);var sge=Vi,age=Bi,lge="[object Boolean]";function uge(t){return t===!0||t===!1||age(t)&&sge(t)==lge}var cge=uge;const fge=We(cge);function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Im.apply(this,arguments)}function hge(t,e){return gge(t)||mge(t,e)||pge(t,e)||dge()}function dge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pge(t,e){if(t){if(typeof t=="string")return TN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(t,e)}}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function gge(t){if(Array.isArray(t))return t}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){yge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yge(t,e,n){return e=vge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vge(t){var e=_ge(t,"string");return Uf(e)=="symbol"?e:e+""}function _ge(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CN=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},wge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bge=function(e){var n=PN(PN({},wge),e),r=j.useRef(),i=j.useState(-1),o=hge(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var v=ke("recharts-trapezoid",p);return w?D.createElement(Mi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:w},function(b){var C=b.upperWidth,S=b.lowerWidth,A=b.height,E=b.x,x=b.y;return D.createElement(Mi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},D.createElement("path",Im({},Ce(n,!0),{className:v,d:CN(E,x,C,S,A),ref:r})))}):D.createElement("g",null,D.createElement("path",Im({},Ce(n,!0),{className:v,d:CN(l,u,c,f,d)})))},Ege=["option","shapeType","propTransformer","activeClassName","isActive"];function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Sge(t,e){if(t==null)return{};var n=xge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){Tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e,n){return e=Age(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Pge(t,"string");return zf(e)=="symbol"?e:e+""}function Pge(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cge(t,e){return Om(Om({},e),t)}function Ige(t,e){return t==="symbols"}function ON(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(zS,n);case"trapezoid":return D.createElement(bge,n);case"sector":return D.createElement(HF,n);case"symbols":if(Ige(e))return D.createElement(lS,n);break;default:return null}}function Oge(t){return j.isValidElement(t)?t.props:t}function Nge(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Cge:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Sge(t,Ege),u;if(j.isValidElement(e))u=j.cloneElement(e,Om(Om({},l),Oge(e)));else if(_e(e))u=e(l);else if(oge(e)&&!fge(e)){var c=i(e,l);u=D.createElement(ON,{shapeType:n,elementProps:c})}else{var f=l;u=D.createElement(ON,{shapeType:n,elementProps:f})}return a?D.createElement(bt,{className:s},u):u}function _y(t,e){return e!=null&&"trapezoids"in t.props}function wy(t,e){return e!=null&&"sectors"in t.props}function Wf(t,e){return e!=null&&"points"in t.props}function Rge(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function kge(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Mge(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Dge(t,e){var n;return _y(t,e)?n=Rge:wy(t,e)?n=kge:Wf(t,e)&&(n=Mge),n}function jge(t,e){var n;return _y(t,e)?n="trapezoids":wy(t,e)?n="sectors":Wf(t,e)&&(n="points"),n}function $ge(t,e){if(_y(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(wy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Wf(t,e)?e.payload:{}}function Lge(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=jge(n,e),o=$ge(n,e),s=r.filter(function(l,u){var c=gy(o,l),f=n.props[i].filter(function(m){var g=Dge(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),a=r.indexOf(s[s.length-1]);return a}var Fge=Math.ceil,Vge=Math.max;function Bge(t,e,n,r){for(var i=-1,o=Vge(Fge((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var Uge=Bge,zge=DL,NN=1/0,Wge=17976931348623157e292;function qge(t){if(!t)return t===0?t:0;if(t=zge(t),t===NN||t===-NN){var e=t<0?-1:1;return e*Wge}return t===t?t:0}var i4=qge,Hge=Uge,Gge=ay,a_=i4;function Kge(t){return function(e,n,r){return r&&typeof r!="number"&&Gge(e,n,r)&&(n=r=void 0),e=a_(e),n===void 0?(n=e,e=0):n=a_(n),r=r===void 0?e<n?1:-1:a_(r),Hge(e,n,r,t)}}var Qge=Kge,Yge=Qge,Xge=Yge(),Jge=Xge;const Nm=We(Jge);function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){o4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o4(t,e,n){return e=Zge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zge(t){var e=eye(t,"string");return qf(e)=="symbol"?e:e+""}function eye(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tye=["Webkit","Moz","O","ms"],nye=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=tye.reduce(function(o,s){return kN(kN({},o),{},o4({},s+r,n))},{});return i[e]=n,i};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){zn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a4(r.key),r)}}function iye(t,e,n){return e&&DN(t.prototype,e),n&&DN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oye(t,e,n){return e=km(e),sye(t,s4()?Reflect.construct(e,n||[],km(t).constructor):e.apply(t,n))}function sye(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aye(t)}function aye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},km(t)}function lye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function zn(t,e,n){return e=a4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a4(t){var e=uye(t,"string");return Sl(e)=="symbol"?e:e+""}function uye(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cye=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Cc().domain(Nm(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},jN=function(e){return e.changedTouches&&!!e.changedTouches.length},xl=function(t){function e(n){var r;return rye(this,e),r=oye(this,e,[n]),zn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),zn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),zn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),zn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),zn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),zn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),zn(r,"handleSlideDragStart",function(i){var o=jN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lye(e,t),iye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Yn(o[r],a,r);return _e(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-f-a,u+c-f-s):g<0&&(g=Math.max(g,u-s,u-a));var y=this.getIndex({startX:s+g,endX:a+g});(y.startIndex!==d||y.endIndex!==p)&&m&&m(y),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=jN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,y=c.data,w={startX:this.state.startX,endX:this.state.endX},v=r.pageX-o;v>0?v=Math.min(v,f+d-p-u):v<0&&(v=Math.max(v,f-u)),w[s]=u+v;var b=this.getIndex(w),C=b.startIndex,S=b.endIndex,A=function(){var x=y.length-1;return s==="startX"&&(a>l?C%g===0:S%g===0)||a<l&&S===x||s==="endX"&&(a>l?S%g===0:C%g===0)||a>l&&S===x};this.setState(zn(zn({},s,u+v),"brushMoveStartX",r.pageX),function(){m&&A()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=a.length)){var p=a[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(zn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=j.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),v=l_(l_({},Ce(this.props,!1)),{},{x:w,y:u,width:c,height:f}),b=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=m[y])===null||s===void 0?void 0:s.name);return D.createElement(bt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,v))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return D.createElement(bt,{className:"recharts-brush-texts"},D.createElement(lm,Rm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:s+a/2},m),this.getTextOfTick(i)),D.createElement(lm,Rm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:s+a/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,y=d.isSlideMoving,w=d.isTravellerMoving,v=d.isTravellerFocused;if(!i||!i.length||!ne(a)||!ne(l)||!ne(u)||!ne(c)||u<=0||c<=0)return null;var b=ke("recharts-brush",o),C=D.Children.count(s)===1,S=nye("userSelect","none");return D.createElement(bt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||w||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):_e(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return l_({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?cye({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(j.PureComponent);zn(xl,"displayName","Brush");zn(xl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fye=mS;function hye(t,e){var n;return fye(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var dye=hye,pye=lL,mye=Wo,gye=dye,yye=Vn,vye=ay;function _ye(t,e,n){var r=yye(t)?pye:gye;return n&&vye(t,e,n)&&(e=void 0),r(t,mye(e))}var wye=_ye;const bye=We(wye);var ri=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},$N=OL;function Eye(t,e,n){e=="__proto__"&&$N?$N(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Sye=Eye,xye=Sye,Tye=CL,Aye=Wo;function Pye(t,e){var n={};return e=Aye(e),Tye(t,function(r,i,o){xye(n,i,e(r,i,o))}),n}var Cye=Pye;const Iye=We(Cye);function Oye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Nye=Oye,Rye=mS;function kye(t,e){var n=!0;return Rye(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Mye=kye,Dye=Nye,jye=Mye,$ye=Wo,Lye=Vn,Fye=ay;function Vye(t,e,n){var r=Lye(t)?Dye:jye;return n&&Fye(t,e,n)&&(e=void 0),r(t,$ye(e))}var Bye=Vye;const l4=We(Bye);var Uye=["x","y"];function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){zye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zye(t,e,n){return e=Wye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wye(t){var e=qye(t,"string");return Hf(e)=="symbol"?e:e+""}function qye(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hye(t,e){if(t==null)return{};var n=Gye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kye(t,e){var n=t.x,r=t.y,i=Hye(t,Uye),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Yu(Yu(Yu(Yu(Yu({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function FN(t){return D.createElement(Nge,cb({shapeType:"rectangle",propTransformer:Kye,activeClassName:"recharts-active-bar"},t))}var Qye=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ne(r)||fX(r);return o?e(r,i):(o||Vs(),n)}},Yye=["value","background"],u4;function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Xye(t,e){if(t==null)return{};var n=Jye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(this,arguments)}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){lo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f4(r.key),r)}}function eve(t,e,n){return e&&BN(t.prototype,e),n&&BN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tve(t,e,n){return e=Dm(e),nve(t,c4()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function nve(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rve(t)}function rve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c4=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function ive(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fb(t,e)}function lo(t,e,n){return e=f4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f4(t){var e=ove(t,"string");return Tl(e)=="symbol"?e:e+""}function ove(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ah=function(t){function e(){var n;Zye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tve(this,e,[].concat(i)),lo(n,"state",{isAnimationFinished:!1}),lo(n,"id",_h("recharts-bar-")),lo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),lo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return ive(e,t),eve(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Ce(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:s,g=Tt(Tt(Tt({},c),f),{},{isActive:p,option:m,index:d,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(bt,Mm({className:"recharts-bar-rectangle"},Kp(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),D.createElement(FN,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return D.createElement(Mi,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(y,w){var v=d&&d[w];if(v){var b=Ar(v.x,y.x),C=Ar(v.y,y.y),S=Ar(v.width,y.width),A=Ar(v.height,y.height);return Tt(Tt({},y),{},{x:b(m),y:C(m),width:S(m),height:A(m)})}if(s==="horizontal"){var E=Ar(0,y.height),x=E(m);return Tt(Tt({},y),{},{y:y.y+y.height-x,height:x})}var P=Ar(0,y.width),O=P(m);return Tt(Tt({},y),{},{width:O})});return D.createElement(bt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!gy(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Ce(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=Xye(u,Yye);if(!f)return null;var p=Tt(Tt(Tt(Tt(Tt({},d),{},{fill:"#eee"},f),l),Kp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(FN,Mm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=hr(c,Th);if(!f)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,p=function(y,w){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:Yn(y,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(bt,m,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=ke("recharts-bar",s),v=a&&a.allowDataOverflow,b=l&&l.allowDataOverflow,C=v||b,S=Se(g)?this.id:g;return D.createElement(bt,{className:w},v||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:v?u:u-f/2,y:b?c:c-d/2,width:v?f:f*2,height:b?d:d*2}))):null,D.createElement(bt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!p||y)&&Po.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);u4=Ah;lo(Ah,"displayName","Bar");lo(Ah,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!au.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});lo(Ah,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=Mhe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,y=g!==void 0?Tt(Tt({},g),n.props):n.props,w=y.dataKey,v=y.children,b=y.minPointSize,C=m==="horizontal"?s:o,S=u?C.scale.domain():null,A=Uhe({numericAxis:C}),E=hr(v,$L),x=f.map(function(P,O){var I,k,R,B,U,W;u?I=Dhe(u[c+O],S):(I=Yn(P,w),Array.isArray(I)||(I=[A,I]));var G=Qye(b,u4.defaultProps.minPointSize)(I[1],O);if(m==="horizontal"){var L,z=[s.scale(I[0]),s.scale(I[1])],Q=z[0],ee=z[1];k=VO({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:P,index:O}),R=(L=ee??Q)!==null&&L!==void 0?L:void 0,B=p.size;var Y=Q-ee;if(U=Number.isNaN(Y)?0:Y,W={x:k,y:s.y,width:B,height:s.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var le=Nr(U||G)*(Math.abs(G)-Math.abs(U));R-=le,U+=le}}else{var pe=[o.scale(I[0]),o.scale(I[1])],je=pe[0],Qe=pe[1];if(k=je,R=VO({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:P,index:O}),B=Qe-je,U=p.size,W={x:o.x,y:R,width:o.width,height:U},Math.abs(G)>0&&Math.abs(B)<Math.abs(G)){var on=Nr(B||G)*(Math.abs(G)-Math.abs(B));B+=on}}return Tt(Tt(Tt({},P),{},{x:k,y:R,width:B,height:U,value:u?I:I[1],payload:P,background:W},E&&E[O]&&E[O].props),{},{tooltipPayload:[zF(n,P)],tooltipPosition:{x:k+B/2,y:R+U/2}})});return Tt({data:x,layout:m},d)});function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function sve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h4(r.key),r)}}function ave(t,e,n){return e&&UN(t.prototype,e),n&&UN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){by(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function by(t,e,n){return e=h4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4(t){var e=lve(t,"string");return Gf(e)=="symbol"?e:e+""}function lve(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uve=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},d=!!qn(u,Ah);return c.reduce(function(p,m){var g=n[m],y=g.orientation,w=g.domain,v=g.padding,b=v===void 0?{}:v,C=g.mirror,S=g.reversed,A="".concat(y).concat(C?"Mirror":""),E,x,P,O,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var k=w[1]-w[0],R=1/0,B=g.categoricalDomain.sort(pX);if(B.forEach(function(pe,je){je>0&&(R=Math.min((pe||0)-(B[je-1]||0),R))}),Number.isFinite(R)){var U=R/k,W=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(E=U*W/2),g.padding==="no-gap"){var G=Ls(e.barCategoryGap,U*W),L=U*W/2;E=L-G-(L-G)/W*G}}}i==="xAxis"?x=[r.left+(b.left||0)+(E||0),r.left+r.width-(b.right||0)-(E||0)]:i==="yAxis"?x=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(E||0),r.top+r.height-(b.bottom||0)-(E||0)]:x=g.range,S&&(x=[x[1],x[0]]);var z=Rhe(g,o,d),Q=z.scale,ee=z.realScaleType;Q.domain(w).range(x),khe(Q);var Y=Bhe(Q,Sr(Sr({},g),{},{realScaleType:ee}));i==="xAxis"?(I=y==="top"&&!C||y==="bottom"&&C,P=r.left,O=f[A]-I*g.height):i==="yAxis"&&(I=y==="left"&&!C||y==="right"&&C,P=f[A]-I*g.width,O=r.top);var le=Sr(Sr(Sr({},g),Y),{},{realScaleType:ee,x:P,y:O,scale:Q,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return le.bandSize=Em(le,Y),!g.hide&&i==="xAxis"?f[A]+=(I?-1:1)*le.height:g.hide||(f[A]+=(I?-1:1)*le.width),Sr(Sr({},p),{},by({},m,le))},{})},d4=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},cve=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return d4({x:n,y:r},{x:i,y:o})},p4=function(){function t(e){sve(this,t),this.scale=e}return ave(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();by(p4,"EPS",1e-4);var qS=function(e){var n=Object.keys(e).reduce(function(r,i){return Sr(Sr({},r),{},by({},i,p4.create(e[i])))},{});return Sr(Sr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Iye(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return l4(i,function(o,s){return n[s].isInRange(o)})}})};function fve(t){return(t%180+180)%180}var hve=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=fve(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},dve=Wo,pve=wh,mve=oy;function gve(t){return function(e,n,r){var i=Object(e);if(!pve(e)){var o=dve(n);e=mve(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var yve=gve,vve=i4;function _ve(t){var e=vve(t),n=e%1;return e===e?n?e-n:e:0}var wve=_ve,bve=EL,Eve=Wo,Sve=wve,xve=Math.max;function Tve(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Sve(n);return i<0&&(i=xve(r+i,0)),bve(t,Eve(e),i)}var Ave=Tve,Pve=yve,Cve=Ave,Ive=Pve(Cve),Ove=Ive;const Nve=We(Ove);var Rve=yY(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HS=j.createContext(void 0),GS=j.createContext(void 0),m4=j.createContext(void 0),g4=j.createContext({}),y4=j.createContext(void 0),v4=j.createContext(0),_4=j.createContext(0),WN=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=Rve(o);return D.createElement(HS.Provider,{value:r},D.createElement(GS.Provider,{value:i},D.createElement(g4.Provider,{value:o},D.createElement(m4.Provider,{value:c},D.createElement(y4.Provider,{value:s},D.createElement(v4.Provider,{value:u},D.createElement(_4.Provider,{value:l},a)))))))},kve=function(){return j.useContext(y4)},w4=function(e){var n=j.useContext(HS);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},Mve=function(){var e=j.useContext(HS);return no(e)},Dve=function(){var e=j.useContext(GS),n=Nve(e,function(r){return l4(r.domain,Number.isFinite)});return n||no(e)},b4=function(e){var n=j.useContext(GS);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},jve=function(){var e=j.useContext(m4);return e},$ve=function(){return j.useContext(g4)},KS=function(){return j.useContext(_4)},QS=function(){return j.useContext(v4)};function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function Lve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S4(r.key),r)}}function Vve(t,e,n){return e&&Fve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bve(t,e,n){return e=jm(e),Uve(t,E4()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function Uve(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zve(t)}function zve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function Wve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hb(t,e)}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){YS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YS(t,e,n){return e=S4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S4(t){var e=qve(t,"string");return Al(e)=="symbol"?e:e+""}function qve(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hve(t,e){return Yve(t)||Qve(t,e)||Kve(t,e)||Gve()}function Gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kve(t,e){if(t){if(typeof t=="string")return GN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GN(t,e)}}function GN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Yve(t){if(Array.isArray(t))return t}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}var Xve=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):_e(e)?r=e(n):r=D.createElement("line",db({},n,{className:"recharts-reference-line-line"})),r},Jve=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:s});if(ri(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?y.reverse():y}if(n){var w=u.x,v=e.x.apply(w,{position:s});if(ri(u,"discard")&&!e.x.isInRange(v))return null;var b=[{x:v,y:f+p},{x:v,y:f}];return a==="top"?b.reverse():b}if(i){var C=u.segment,S=C.map(function(A){return e.apply(A,{position:s})});return ri(u,"discard")&&bye(S,function(A){return!e.isInRange(A)})?null:S}return null};function Zve(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=kve(),c=w4(i),f=b4(o),d=jve();if(!u||!d)return null;Ei(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=qS({x:c.scale,y:f.scale}),m=$t(e),g=$t(n),y=r&&r.length===2,w=Jve(p,m,g,y,d,t.position,c.orientation,f.orientation,t);if(!w)return null;var v=Hve(w,2),b=v[0],C=b.x,S=b.y,A=v[1],E=A.x,x=A.y,P=ri(t,"hidden")?"url(#".concat(u,")"):void 0,O=HN(HN({clipPath:P},Ce(t,!0)),{},{x1:C,y1:S,x2:E,y2:x});return D.createElement(bt,{className:ke("recharts-reference-line",a)},Xve(s,O),pn.renderCallByParent(t,cve({x1:C,y1:S,x2:E,y2:x})))}var XS=function(t){function e(){return Lve(this,e),Bve(this,e,arguments)}return Wve(e,t),Vve(e,[{key:"render",value:function(){return D.createElement(Zve,this.props)}}])}(D.Component);YS(XS,"displayName","ReferenceLine");YS(XS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){Ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T4(r.key),r)}}function n_e(t,e,n){return e&&t_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r_e(t,e,n){return e=$m(e),i_e(t,x4()?Reflect.construct(e,n||[],$m(t).constructor):e.apply(t,n))}function i_e(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o_e(t)}function o_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$m(t)}function s_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mb(t,e)}function Ey(t,e,n){return e=T4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4(t){var e=a_e(t,"string");return Pl(e)=="symbol"?e:e+""}function a_e(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l_e=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=qS({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ri(e,"discard")&&!s.isInRange(a)?null:a},Sy=function(t){function e(){return e_e(this,e),r_e(this,e,arguments)}return s_e(e,t),n_e(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=$t(i),c=$t(o);if(Ei(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=l_e(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,y=m.className,w=ri(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=QN(QN({clipPath:w},Ce(this.props,!0)),{},{cx:d,cy:p});return D.createElement(bt,{className:ke("recharts-reference-dot",y)},e.renderDot(g,v),pn.renderCallByParent(this.props,{x:d-s,y:p-s,width:2*s,height:2*s}))}}])}(D.Component);Ey(Sy,"displayName","ReferenceDot");Ey(Sy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ey(Sy,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):_e(t)?n=t(e):n=D.createElement(WS,pb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P4(r.key),r)}}function f_e(t,e,n){return e&&c_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h_e(t,e,n){return e=Lm(e),d_e(t,A4()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function d_e(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p_e(t)}function p_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A4=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function m_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function xy(t,e,n){return e=P4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P4(t){var e=g_e(t,"string");return Cl(e)=="symbol"?e:e+""}function g_e(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y_e=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=qS({x:c.scale,y:f.scale}),p={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return ri(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:d4(p,m)},Ty=function(t){function e(){return u_e(this,e),h_e(this,e,arguments)}return m_e(e,t),f_e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=$t(i),d=$t(o),p=$t(s),m=$t(a),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var y=y_e(f,d,p,m,this.props);if(!y&&!g)return null;var w=ri(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(bt,{className:ke("recharts-reference-area",l)},e.renderRect(g,XN(XN({clipPath:w},Ce(this.props,!0)),y)),pn.renderCallByParent(this.props,y))}}])}(D.Component);xy(Ty,"displayName","ReferenceArea");xy(Ty,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xy(Ty,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):_e(t)?n=t(e):n=D.createElement(zS,gb({},e,{className:"recharts-reference-area-rect"})),n});function C4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function v_e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return hve(r,n)}function __e(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Fm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function w_e(t,e){return C4(t,e+1)}function b_e(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:C4(r,u)};var g=l,y,w=function(){return y===void 0&&(y=n(m,g)),y},v=m.coordinate,b=l===0||Fm(t,v,w,c,a);b||(l=0,c=s,u+=1),b&&(c=v+t*(w()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){E_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_e(t,e,n){return e=S_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_e(t){var e=x_e(t,"string");return Kf(e)=="symbol"?e:e+""}function x_e(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T_e(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===s-1){var y=t*(p.coordinate+t*g()/2-l);o[d]=p=un(un({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[d]=p=un(un({},p),{},{tickCoord:p.coordinate});var w=Fm(t,p.tickCoord,g,a,l);w&&(l=p.tickCoord-t*(g()/2+i),o[d]=un(un({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function A_e(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),d=t*(c.coordinate+t*f/2-u);s[a-1]=c=un(un({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Fm(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),s[a-1]=un(un({},c),{},{isShow:!0}))}for(var m=o?a-1:a,g=function(v){var b=s[v],C,S=function(){return C===void 0&&(C=n(b,v)),C};if(v===0){var A=t*(b.coordinate-t*S()/2-l);s[v]=b=un(un({},b),{},{tickCoord:A<0?b.coordinate-A*t:b.coordinate})}else s[v]=b=un(un({},b),{},{tickCoord:b.coordinate});var E=Fm(t,b.tickCoord,S,l,u);E&&(l=b.tickCoord+t*(S()/2+i),s[v]=un(un({},b),{},{isShow:!0}))},y=0;y<m;y++)g(y);return s}function JS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ne(l)||au.isSsr)return w_e(i,typeof l=="number"&&ne(l)?l:0);var d=[],p=a==="top"||a==="bottom"?"width":"height",m=c&&p==="width"?Pc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(b,C){var S=_e(u)?u(b.value,C):b.value;return p==="width"?v_e(Pc(S,{fontSize:e,letterSpacing:n}),m,f):Pc(S,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Nr(i[1].coordinate-i[0].coordinate):1,w=__e(o,y,p);return l==="equidistantPreserveStart"?b_e(y,w,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=A_e(y,w,g,i,s,l==="preserveStartEnd"):d=T_e(y,w,g,i,s),d.filter(function(v){return v.isShow}))}var P_e=["viewBox"],C_e=["viewBox"],I_e=["ticks"];function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){ZS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u_(t,e){if(t==null)return{};var n=O_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O4(r.key),r)}}function R_e(t,e,n){return e&&eR(t.prototype,e),n&&eR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k_e(t,e,n){return e=Vm(e),M_e(t,I4()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function M_e(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D_e(t)}function D_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function j_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vb(t,e)}function ZS(t,e,n){return e=O4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O4(t){var e=$_e(t,"string");return Il(e)=="symbol"?e:e+""}function $_e(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fu=function(t){function e(n){var r;return N_e(this,e),r=k_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return j_e(e,t),R_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=u_(r,P_e),a=this.props,l=a.viewBox,u=u_(a,C_e);return!Va(o,l)||!Va(s,u)||!Va(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,y,w,v,b=f?-1:1,C=r.tickSize||c,S=ne(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,y=s+ +!f*l,g=y-b*C,v=g-b*d,w=S;break;case"left":g=y=r.coordinate,m=o+ +!f*a,p=m-b*C,w=p-b*d,v=S;break;case"right":g=y=r.coordinate,m=o+ +f*a,p=m+b*C,w=p+b*d,v=S;break;default:p=m=r.coordinate,y=s+ +f*l,g=y+b*C,v=g+b*d,w=S;break}return{line:{x1:p,y1:g,x2:m,y2:y},tick:{x:w,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Nt(Nt(Nt({},Ce(this.props,!1)),Ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Nt(Nt({},f),{},{x1:i,y1:o+d*a,x2:i+s,y2:o+d*a})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Nt(Nt({},f),{},{x1:i+p*s,y1:o,x2:i+p*s,y2:o+a})}return D.createElement("line",Aa({},f,{className:ke("recharts-cartesian-axis-line",fr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,d=a.unit,p=JS(Nt(Nt({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Ce(this.props,!1),w=Ce(c,!1),v=Nt(Nt({},y),{},{fill:"none"},Ce(l,!1)),b=p.map(function(C,S){var A=s.getTickLineCoord(C),E=A.line,x=A.tick,P=Nt(Nt(Nt(Nt({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:u},w),x),{},{index:S,payload:C,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(bt,Aa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Kp(s.props,C,S)),l&&D.createElement("line",Aa({},v,E,{className:ke("recharts-cartesian-axis-tick-line",fr(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(_e(f)?f(C.value,S):C.value).concat(d||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=u_(f,I_e),m=d;return _e(l)&&(m=d&&d.length>0?l(this.props):l(p)),s<=0||a<=0||!m||!m.length?null:D.createElement(bt,{className:ke("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=ke(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?s=D.cloneElement(r,Nt(Nt({},i),{},{className:a})):_e(r)?s=r(Nt(Nt({},i),{},{className:a})):s=D.createElement(lm,Aa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(j.Component);ZS(fu,"displayName","CartesianAxis");ZS(fu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var L_e=["x1","y1","x2","y2","key"],F_e=["offset"];function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){V_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V_e(t,e,n){return e=B_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B_e(t){var e=U_e(t,"string");return Bs(e)=="symbol"?e:e+""}function U_e(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function nR(t,e){if(t==null)return{};var n=z_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var W_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function N4(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=nR(e,L_e),u=Ce(l,!1);u.offset;var c=nR(u,F_e);n=D.createElement("line",ys({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function q_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=mn(mn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return N4(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function H_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=mn(mn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return N4(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function G_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+s-d:c[p+1]-d;if(g<=0)return null;var y=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function K_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?o+a-d:c[p+1]-d;if(g<=0)return null;var y=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:d,y:s,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Q_e=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return BF(JS(mn(mn(mn({},fu.defaultProps),r),{},{ticks:vi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},Y_e=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return BF(JS(mn(mn(mn({},fu.defaultProps),r),{},{ticks:vi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},sa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gd(t){var e,n,r,i,o,s,a=KS(),l=QS(),u=$ve(),c=mn(mn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:sa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:sa.verticalFill,x:ne(t.x)?t.x:u.left,y:ne(t.y)?t.y:u.top,width:ne(t.width)?t.width:u.width,height:ne(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,y=c.horizontalValues,w=c.verticalValues,v=Mve(),b=Dve();if(!ne(p)||p<=0||!ne(m)||m<=0||!ne(f)||f!==+f||!ne(d)||d!==+d)return null;var C=c.verticalCoordinatesGenerator||Q_e,S=c.horizontalCoordinatesGenerator||Y_e,A=c.horizontalPoints,E=c.verticalPoints;if((!A||!A.length)&&_e(S)){var x=y&&y.length,P=S({yAxis:b?mn(mn({},b),{},{ticks:x?y:b.ticks}):void 0,width:a,height:l,offset:u},x?!0:g);Ei(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bs(P),"]")),Array.isArray(P)&&(A=P)}if((!E||!E.length)&&_e(C)){var O=w&&w.length,I=C({xAxis:v?mn(mn({},v),{},{ticks:O?w:v.ticks}):void 0,width:a,height:l,offset:u},O?!0:g);Ei(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bs(I),"]")),Array.isArray(I)&&(E=I)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(W_e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(q_e,ys({},c,{offset:u,horizontalPoints:A,xAxis:v,yAxis:b})),D.createElement(H_e,ys({},c,{offset:u,verticalPoints:E,xAxis:v,yAxis:b})),D.createElement(G_e,ys({},c,{horizontalPoints:A})),D.createElement(K_e,ys({},c,{verticalPoints:E})))}Gd.displayName="CartesianGrid";var X_e=["type","layout","connectNulls","ref"],J_e=["key"];function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function rR(t,e){if(t==null)return{};var n=Z_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aa(t){return r0e(t)||n0e(t)||t0e(t)||e0e()}function e0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t0e(t,e){if(t){if(typeof t=="string")return _b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _b(t,e)}}function n0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r0e(t){if(Array.isArray(t))return _b(t)}function _b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k4(r.key),r)}}function o0e(t,e,n){return e&&oR(t.prototype,e),n&&oR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s0e(t,e,n){return e=Bm(e),a0e(t,R4()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function a0e(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0e(t)}function l0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function u0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wb(t,e)}function xr(t,e,n){return e=k4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4(t){var e=c0e(t,"string");return Ol(e)=="symbol"?e:e+""}function c0e(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gr=function(t){function e(){var n;i0e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=s0e(this,e,[].concat(i)),xr(n,"state",{isAnimationFinished:!0,totalLength:0}),xr(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),xr(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(w,v){return w+v});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),f=s%u,d=a-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(aa(l.slice(0,m)),[f-g]);break}var y=p.length%2===0?[0,d]:[d];return[].concat(aa(e.repeat(l,c)),aa(p),y).map(function(w){return"".concat(w,"px")}).join(", ")}),xr(n,"id",_h("recharts-line-")),xr(n,"pathRef",function(s){n.mainCurve=s}),xr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),xr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return u0e(e,t),o0e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=hr(c,Th);if(!f)return null;var d=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Yn(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(bt,p,f.map(function(m){return D.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,f=Ce(this.props,!1),d=Ce(l,!0),p=u.map(function(g,y){var w=Un(Un(Un({key:"dot-".concat(y),r:3},f),d),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,w)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(bt,Nc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var f=rR(a,X_e),d=Un(Un(Un({},Ce(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return D.createElement(Xw,Nc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,d=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,y=s.height,w=this.state,v=w.prevPoints,b=w.totalLength;return D.createElement(Mi,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(v){var A=v.length/a.length,E=a.map(function(k,R){var B=Math.floor(R*A);if(v[B]){var U=v[B],W=Ar(U.x,k.x),G=Ar(U.y,k.y);return Un(Un({},k),{},{x:W(S),y:G(S)})}if(m){var L=Ar(g*2,k.x),z=Ar(y/2,k.y);return Un(Un({},k),{},{x:L(S),y:z(S)})}return Un(Un({},k),{},{x:k.x,y:k.y})});return o.renderCurveStatically(E,r,i)}var x=Ar(0,b),P=x(S),O;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});O=o.getStrokeDasharray(P,b,I)}else O=o.generateSimpleStrokeDasharray(b,P);return o.renderCurveStatically(a,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!gy(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,v=a.length===1,b=ke("recharts-line",l),C=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,A=C||S,E=Se(y)?this.id:y,x=(r=Ce(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=x.r,O=P===void 0?3:P,I=x.strokeWidth,k=I===void 0?2:I,R=SX(s)?s:{},B=R.clipDot,U=B===void 0?!0:B,W=O*2+k;return D.createElement(bt,{className:b},C||S?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:C?d:d-p/2,y:S?f:f-m/2,width:C?p:p*2,height:S?m:m*2})),!U&&D.createElement("clipPath",{id:"clipPath-dots-".concat(E)},D.createElement("rect",{x:d-W/2,y:f-W/2,width:p+W,height:m+W}))):null,!v&&this.renderCurve(A,E),this.renderErrorBar(A,E),(v||s)&&this.renderDots(A,U,E),(!g||w)&&Po.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(aa(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(aa(s),aa(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=rR(i,J_e),l=ke("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(WS,Nc({key:s},a,{className:l}))}return o}}])}(j.PureComponent);xr(Gr,"displayName","Line");xr(Gr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!au.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});xr(Gr,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var m=Yn(d,s);return c==="horizontal"?{x:FO({axis:n,ticks:i,bandSize:a,entry:d,index:p}),y:Se(m)?null:r.scale(m),value:m,payload:d}:{x:Se(m)?null:n.scale(m),y:FO({axis:r,ticks:o,bandSize:a,entry:d,index:p}),value:m,payload:d}});return Un({points:f,layout:c},u)});function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function f0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j4(r.key),r)}}function d0e(t,e,n){return e&&h0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p0e(t,e,n){return e=Um(e),m0e(t,M4()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function m0e(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g0e(t)}function g0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function y0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(t,e)}function D4(t,e,n){return e=j4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j4(t){var e=v0e(t,"string");return Nl(e)=="symbol"?e:e+""}function v0e(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function _0e(t){var e=t.xAxisId,n=KS(),r=QS(),i=w4(e);return i==null?null:j.createElement(fu,Eb({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return vi(s,!0)}}))}var Wa=function(t){function e(){return f0e(this,e),p0e(this,e,arguments)}return y0e(e,t),d0e(e,[{key:"render",value:function(){return j.createElement(_0e,this.props)}}])}(j.Component);D4(Wa,"displayName","XAxis");D4(Wa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function w0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F4(r.key),r)}}function E0e(t,e,n){return e&&b0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S0e(t,e,n){return e=zm(e),x0e(t,$4()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function x0e(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T0e(t)}function T0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function A0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sb(t,e)}function L4(t,e,n){return e=F4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F4(t){var e=P0e(t,"string");return Rl(e)=="symbol"?e:e+""}function P0e(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(this,arguments)}var C0e=function(e){var n=e.yAxisId,r=KS(),i=QS(),o=b4(n);return o==null?null:j.createElement(fu,xb({},o,{className:ke("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return vi(a,!0)}}))},qa=function(t){function e(){return w0e(this,e),S0e(this,e,arguments)}return A0e(e,t),E0e(e,[{key:"render",value:function(){return j.createElement(C0e,this.props)}}])}(j.Component);L4(qa,"displayName","YAxis");L4(qa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sR(t){return R0e(t)||N0e(t)||O0e(t)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0e(t,e){if(t){if(typeof t=="string")return Tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tb(t,e)}}function N0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R0e(t){if(Array.isArray(t))return Tb(t)}function Tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ab=function(e,n,r,i,o){var s=hr(e,XS),a=hr(e,Sy),l=[].concat(sR(s),sR(a)),u=hr(e,Ty),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,y){if(y.props[c]===r&&ri(y.props,"extendDomain")&&ne(y.props[f])){var w=y.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,y){if(y.props[c]===r&&ri(y.props,"extendDomain")&&ne(y.props[p])&&ne(y.props[m])){var w=y.props[p],v=y.props[m];return[Math.min(g[0],w,v),Math.max(g[1],w,v)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,y){return ne(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},d)),d},V4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,d),!0;case 5:return y.fn.call(y.context,c,f,d,p),!0;case 6:return y.fn.call(y.context,c,f,d,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var C=y.length,S;for(b=0;b<C;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,f);break;case 4:y[b].fn.call(y[b].context,c,f,d);break;default:if(!v)for(S=1,v=new Array(w-1);S<w;S++)v[S-1]=arguments[S];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(V4);var k0e=V4.exports;const M0e=We(k0e);var c_=new M0e,f_="recharts.syncMouseEvents";function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function D0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B4(r.key),r)}}function $0e(t,e,n){return e&&j0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h_(t,e,n){return e=B4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B4(t){var e=L0e(t,"string");return Qf(e)=="symbol"?e:e+""}function L0e(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F0e=function(){function t(){D0e(this,t),h_(this,"activeIndex",0),h_(this,"coordinateList",[]),h_(this,"layout","horizontal")}return $0e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function V0e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ne(r)&&ne(i))return!0}return!1}function B0e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function U4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=en(e,n,r,i),a=en(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function U0e(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=en(a,l,u,f),p=en(a,l,c,f);r=d.x,i=d.y,o=p.x,s=p.y}else return U4(e);return[{x:r,y:i},{x:o,y:s}]}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){z0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z0e(t,e,n){return e=W0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W0e(t){var e=q0e(t,"string");return Yf(e)=="symbol"?e:e+""}function q0e(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H0e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!s||d!=="ScatterChart"&&i!=="axis")return null;var m,g=Xw;if(d==="ScatterChart")m=s,g=qme;else if(d==="BarChart")m=B0e(f,s,l,c),g=zS;else if(f==="radial"){var y=U4(s),w=y.cx,v=y.cy,b=y.radius,C=y.startAngle,S=y.endAngle;m={cx:w,cy:v,startAngle:C,endAngle:S,innerRadius:b,outerRadius:b},g=HF}else m={points:U0e(f,s,l)},g=Xw;var A=Sd(Sd(Sd(Sd({stroke:"#ccc",pointerEvents:"none"},l),m),Ce(p,!1)),{},{payload:a,payloadIndex:u,className:ke("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,A):j.createElement(g,A)}var G0e=["item"],K0e=["children","className","width","height","style","compact","title","desc"];function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(this,arguments)}function lR(t,e){return X0e(t)||Y0e(t,e)||W4(t,e)||Q0e()}function Q0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function X0e(t){if(Array.isArray(t))return t}function uR(t,e){if(t==null)return{};var n=J0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ewe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q4(r.key),r)}}function twe(t,e,n){return e&&ewe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nwe(t,e,n){return e=Wm(e),rwe(t,z4()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function rwe(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iwe(t)}function iwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z4=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function owe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pb(t,e)}function Pb(t,e){return Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pb(t,e)}function Ml(t){return lwe(t)||awe(t)||W4(t)||swe()}function swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4(t,e){if(t){if(typeof t=="string")return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function awe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lwe(t){if(Array.isArray(t))return Cb(t)}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ce(t,e,n){return e=q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t){var e=uwe(t,"string");return kl(e)=="symbol"?e:e+""}function uwe(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cwe={xAxis:["bottom","top"],yAxis:["left","right"]},fwe={width:"100%",height:"100%"},H4={x:0,y:0};function xd(t){return t}var hwe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},dwe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return q(q(q({},i),en(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return q(q(q({},i),en(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return H4},Ay=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Ml(a),Ml(u)):a},[]);return s.length>0?s:e&&e.length&&ne(i)&&ne(o)?e.slice(i,o+1):[]};function G4(t){return t==="number"?[0,"auto"]:void 0}var Ib=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=Ay(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?a:f;d=Hp(p,s.dataKey,i)}else d=f&&f[r]||a[r];return d?[].concat(Ml(l),[zF(u,d)]):l},[])},fR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=hwe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Ahe(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=Ib(e,n,c,f),p=dwe(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},pwe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=VF(c,o);return r.reduce(function(m,g){var y,w=g.type.defaultProps!==void 0?q(q({},g.type.defaultProps),g.props):g.props,v=w.type,b=w.dataKey,C=w.allowDataOverflow,S=w.allowDuplicatedCategory,A=w.scale,E=w.ticks,x=w.includeHidden,P=w[s];if(m[P])return m;var O=Ay(e.data,{graphicalItems:i.filter(function(Y){var le,pe=s in Y.props?Y.props[s]:(le=Y.type.defaultProps)===null||le===void 0?void 0:le[s];return pe===P}),dataStartIndex:l,dataEndIndex:u}),I=O.length,k,R,B;V0e(w.domain,C,v)&&(k=Hw(w.domain,null,C),p&&(v==="number"||A!=="auto")&&(B=Ic(O,b,"category")));var U=G4(v);if(!k||k.length===0){var W,G=(W=w.domain)!==null&&W!==void 0?W:U;if(b){if(k=Ic(O,b,v),v==="category"&&p){var L=dX(k);S&&L?(R=k,k=Nm(0,I)):S||(k=zO(G,k,g).reduce(function(Y,le){return Y.indexOf(le)>=0?Y:[].concat(Ml(Y),[le])},[]))}else if(v==="category")S?k=k.filter(function(Y){return Y!==""&&!Se(Y)}):k=zO(G,k,g).reduce(function(Y,le){return Y.indexOf(le)>=0||le===""||Se(le)?Y:[].concat(Ml(Y),[le])},[]);else if(v==="number"){var z=Nhe(O,i.filter(function(Y){var le,pe,je=s in Y.props?Y.props[s]:(le=Y.type.defaultProps)===null||le===void 0?void 0:le[s],Qe="hide"in Y.props?Y.props.hide:(pe=Y.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return je===P&&(x||!Qe)}),b,o,c);z&&(k=z)}p&&(v==="number"||A!=="auto")&&(B=Ic(O,b,"category"))}else p?k=Nm(0,I):a&&a[P]&&a[P].hasStack&&v==="number"?k=d==="expand"?[0,1]:UF(a[P].stackGroups,l,u):k=FF(O,i.filter(function(Y){var le=s in Y.props?Y.props[s]:Y.type.defaultProps[s],pe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return le===P&&(x||!pe)}),v,c,!0);if(v==="number")k=Ab(f,k,P,o,E),G&&(k=Hw(G,k,C));else if(v==="category"&&G){var Q=G,ee=k.every(function(Y){return Q.indexOf(Y)>=0});ee&&(k=Q)}}return q(q({},m),{},ce({},P,q(q({},w),{},{axisType:o,domain:k,categoricalDomain:B,duplicateDomain:R,originalDomain:(y=w.domain)!==null&&y!==void 0?y:U,isCategorical:p,layout:c})))},{})},mwe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=Ay(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=VF(c,o),g=-1;return r.reduce(function(y,w){var v=w.type.defaultProps!==void 0?q(q({},w.type.defaultProps),w.props):w.props,b=v[s],C=G4("number");if(!y[b]){g++;var S;return m?S=Nm(0,p):a&&a[b]&&a[b].hasStack?(S=UF(a[b].stackGroups,l,u),S=Ab(f,S,b,o)):(S=Hw(C,FF(d,r.filter(function(A){var E,x,P=s in A.props?A.props[s]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[s],O="hide"in A.props?A.props.hide:(x=A.type.defaultProps)===null||x===void 0?void 0:x.hide;return P===b&&!O}),"number",c),i.defaultProps.allowDataOverflow),S=Ab(f,S,b,o)),q(q({},y),{},ce({},b,q(q({axisType:o},i.defaultProps),{},{hide:!0,orientation:fr(cwe,"".concat(o,".").concat(g%2),null),domain:S,originalDomain:C,isCategorical:m,layout:c})))}return y},{})},gwe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=hr(c,o),p={};return d&&d.length?p=pwe(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=mwe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),p},ywe=function(e){var n=no(e),r=vi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Em(n,r)}},hR=function(e){var n=e.children,r=e.defaultShowTooltip,i=qn(n,xl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},vwe=function(e){return!e||!e.length?!1:e.some(function(n){var r=bi(n&&n.type);return r&&r.indexOf("Bar")>=0})},dR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_we=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=qn(f,xl),m=qn(f,Ba),g=Object.keys(l).reduce(function(S,A){var E=l[A],x=E.orientation;return!E.mirror&&!E.hide?q(q({},S),{},ce({},x,S[x]+E.width)):S},{left:d.left||0,right:d.right||0}),y=Object.keys(s).reduce(function(S,A){var E=s[A],x=E.orientation;return!E.mirror&&!E.hide?q(q({},S),{},ce({},x,fr(S,"".concat(x))+E.height)):S},{top:d.top||0,bottom:d.bottom||0}),w=q(q({},y),g),v=w.bottom;p&&(w.bottom+=p.props.height||xl.defaultProps.height),m&&n&&(w=Ihe(w,i,r,n));var b=u-w.left-w.right,C=c-w.top-w.bottom;return q(q({brushBottom:v},w),{},{width:Math.max(b,0),height:Math.max(C,0)})},wwe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},bwe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(w,v){var b=v.graphicalItems,C=v.stackGroups,S=v.offset,A=v.updateId,E=v.dataStartIndex,x=v.dataEndIndex,P=w.barSize,O=w.layout,I=w.barGap,k=w.barCategoryGap,R=w.maxBarSize,B=dR(O),U=B.numericAxisName,W=B.cateAxisName,G=vwe(b),L=[];return b.forEach(function(z,Q){var ee=Ay(w.data,{graphicalItems:[z],dataStartIndex:E,dataEndIndex:x}),Y=z.type.defaultProps!==void 0?q(q({},z.type.defaultProps),z.props):z.props,le=Y.dataKey,pe=Y.maxBarSize,je=Y["".concat(U,"Id")],Qe=Y["".concat(W,"Id")],on={},Vt=l.reduce(function(Zn,li){var Ys=v["".concat(li.axisType,"Map")],Ph=Y["".concat(li.axisType,"Id")];Ys&&Ys[Ph]||li.axisType==="zAxis"||Vs();var zi=Ys[Ph];return q(q({},Zn),{},ce(ce({},li.axisType,zi),"".concat(li.axisType,"Ticks"),vi(zi)))},on),re=Vt[W],me=Vt["".concat(W,"Ticks")],ye=C&&C[je]&&C[je].hasStack&&zhe(z,C[je].stackGroups),K=bi(z.type).indexOf("Bar")>=0,qe=Em(re,me),Te=[],vt=G&&Phe({barSize:P,stackGroups:C,totalSize:wwe(Vt,W)});if(K){var st,Bt,vr=Se(pe)?R:pe,at=(st=(Bt=Em(re,me,!0))!==null&&Bt!==void 0?Bt:vr)!==null&&st!==void 0?st:0;Te=Che({barGap:I,barCategoryGap:k,bandSize:at!==qe?at:qe,sizeList:vt[Qe],maxBarSize:vr}),at!==qe&&(Te=Te.map(function(Zn){return q(q({},Zn),{},{position:q(q({},Zn.position),{},{offset:Zn.position.offset-at/2})})}))}var St=z&&z.type&&z.type.getComposedData;St&&L.push({props:q(q({},St(q(q({},Vt),{},{displayedData:ee,props:w,dataKey:le,item:z,bandSize:qe,barPosition:Te,offset:S,stackedData:ye,layout:O,dataStartIndex:E,dataEndIndex:x}))),{},ce(ce(ce({key:z.key||"item-".concat(Q)},U,Vt[U]),W,Vt[W]),"animationId",A)),childIndex:AX(z,w.children),item:z})}),L},p=function(w,v){var b=w.props,C=w.dataStartIndex,S=w.dataEndIndex,A=w.updateId;if(!jC({props:b}))return null;var E=b.children,x=b.layout,P=b.stackOffset,O=b.data,I=b.reverseStackOrder,k=dR(x),R=k.numericAxisName,B=k.cateAxisName,U=hr(E,r),W=Vhe(O,U,"".concat(R,"Id"),"".concat(B,"Id"),P,I),G=l.reduce(function(Y,le){var pe="".concat(le.axisType,"Map");return q(q({},Y),{},ce({},pe,gwe(b,q(q({},le),{},{graphicalItems:U,stackGroups:le.axisType===R&&W,dataStartIndex:C,dataEndIndex:S}))))},{}),L=_we(q(q({},G),{},{props:b,graphicalItems:U}),v==null?void 0:v.legendBBox);Object.keys(G).forEach(function(Y){G[Y]=c(b,G[Y],L,Y.replace("Map",""),n)});var z=G["".concat(B,"Map")],Q=ywe(z),ee=d(b,q(q({},G),{},{dataStartIndex:C,dataEndIndex:S,updateId:A,graphicalItems:U,stackGroups:W,offset:L}));return q(q({formattedGraphicalItems:ee,graphicalItems:U,offset:L,stackGroups:W},Q),G)},m=function(y){function w(v){var b,C,S;return Z0e(this,w),S=nwe(this,w,[v]),ce(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ce(S,"accessibilityManager",new F0e),ce(S,"handleLegendBBoxUpdate",function(A){if(A){var E=S.state,x=E.dataStartIndex,P=E.dataEndIndex,O=E.updateId;S.setState(q({legendBBox:A},p({props:S.props,dataStartIndex:x,dataEndIndex:P,updateId:O},q(q({},S.state),{},{legendBBox:A}))))}}),ce(S,"handleReceiveSyncEvent",function(A,E,x){if(S.props.syncId===A){if(x===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),ce(S,"handleBrushChange",function(A){var E=A.startIndex,x=A.endIndex;if(E!==S.state.dataStartIndex||x!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return q({dataStartIndex:E,dataEndIndex:x},p({props:S.props,dataStartIndex:E,dataEndIndex:x,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:x})}}),ce(S,"handleMouseEnter",function(A){var E=S.getMouseInfo(A);if(E){var x=q(q({},E),{},{isTooltipActive:!0});S.setState(x),S.triggerSyncEvent(x);var P=S.props.onMouseEnter;_e(P)&&P(x,A)}}),ce(S,"triggeredAfterMouseMove",function(A){var E=S.getMouseInfo(A),x=E?q(q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(x),S.triggerSyncEvent(x);var P=S.props.onMouseMove;_e(P)&&P(x,A)}),ce(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ce(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ce(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),ce(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var x=S.props.onMouseLeave;_e(x)&&x(E,A)}),ce(S,"handleOuterEvent",function(A){var E=TX(A),x=fr(S.props,"".concat(E));if(E&&_e(x)){var P,O;/.*touch.*/i.test(E)?O=S.getMouseInfo(A.changedTouches[0]):O=S.getMouseInfo(A),x((P=O)!==null&&P!==void 0?P:{},A)}}),ce(S,"handleClick",function(A){var E=S.getMouseInfo(A);if(E){var x=q(q({},E),{},{isTooltipActive:!0});S.setState(x),S.triggerSyncEvent(x);var P=S.props.onClick;_e(P)&&P(x,A)}}),ce(S,"handleMouseDown",function(A){var E=S.props.onMouseDown;if(_e(E)){var x=S.getMouseInfo(A);E(x,A)}}),ce(S,"handleMouseUp",function(A){var E=S.props.onMouseUp;if(_e(E)){var x=S.getMouseInfo(A);E(x,A)}}),ce(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ce(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),ce(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),ce(S,"handleDoubleClick",function(A){var E=S.props.onDoubleClick;if(_e(E)){var x=S.getMouseInfo(A);E(x,A)}}),ce(S,"handleContextMenu",function(A){var E=S.props.onContextMenu;if(_e(E)){var x=S.getMouseInfo(A);E(x,A)}}),ce(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&c_.emit(f_,S.props.syncId,A,S.eventEmitterSymbol)}),ce(S,"applySyncEvent",function(A){var E=S.props,x=E.layout,P=E.syncMethod,O=S.state.updateId,I=A.dataStartIndex,k=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(q({dataStartIndex:I,dataEndIndex:k},p({props:S.props,dataStartIndex:I,dataEndIndex:k,updateId:O},S.state)));else if(A.activeTooltipIndex!==void 0){var R=A.chartX,B=A.chartY,U=A.activeTooltipIndex,W=S.state,G=W.offset,L=W.tooltipTicks;if(!G)return;if(typeof P=="function")U=P(L,A);else if(P==="value"){U=-1;for(var z=0;z<L.length;z++)if(L[z].value===A.activeLabel){U=z;break}}var Q=q(q({},G),{},{x:G.left,y:G.top}),ee=Math.min(R,Q.x+Q.width),Y=Math.min(B,Q.y+Q.height),le=L[U]&&L[U].value,pe=Ib(S.state,S.props.data,U),je=L[U]?{x:x==="horizontal"?L[U].coordinate:ee,y:x==="horizontal"?Y:L[U].coordinate}:H4;S.setState(q(q({},A),{},{activeLabel:le,activeCoordinate:je,activePayload:pe,activeTooltipIndex:U}))}else S.setState(A)}),ce(S,"renderCursor",function(A){var E,x=S.state,P=x.isTooltipActive,O=x.activeCoordinate,I=x.activePayload,k=x.offset,R=x.activeTooltipIndex,B=x.tooltipAxisBandSize,U=S.getTooltipEventType(),W=(E=A.props.active)!==null&&E!==void 0?E:P,G=S.props.layout,L=A.key||"_recharts-cursor";return D.createElement(H0e,{key:L,activeCoordinate:O,activePayload:I,activeTooltipIndex:R,chartName:n,element:A,isActive:W,layout:G,offset:k,tooltipAxisBandSize:B,tooltipEventType:U})}),ce(S,"renderPolarAxis",function(A,E,x){var P=fr(A,"type.axisType"),O=fr(S.state,"".concat(P,"Map")),I=A.type.defaultProps,k=I!==void 0?q(q({},I),A.props):A.props,R=O&&O[k["".concat(P,"Id")]];return j.cloneElement(A,q(q({},R),{},{className:ke(P,R.className),key:A.key||"".concat(E,"-").concat(x),ticks:vi(R,!0)}))}),ce(S,"renderPolarGrid",function(A){var E=A.props,x=E.radialLines,P=E.polarAngles,O=E.polarRadius,I=S.state,k=I.radiusAxisMap,R=I.angleAxisMap,B=no(k),U=no(R),W=U.cx,G=U.cy,L=U.innerRadius,z=U.outerRadius;return j.cloneElement(A,{polarAngles:Array.isArray(P)?P:vi(U,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(O)?O:vi(B,!0).map(function(Q){return Q.coordinate}),cx:W,cy:G,innerRadius:L,outerRadius:z,key:A.key||"polar-grid",radialLines:x})}),ce(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,E=S.props,x=E.children,P=E.width,O=E.height,I=S.props.margin||{},k=P-(I.left||0)-(I.right||0),R=$F({children:x,formattedGraphicalItems:A,legendWidth:k,legendContent:u});if(!R)return null;var B=R.item,U=uR(R,G0e);return j.cloneElement(B,q(q({},U),{},{chartWidth:P,chartHeight:O,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ce(S,"renderTooltip",function(){var A,E=S.props,x=E.children,P=E.accessibilityLayer,O=qn(x,rr);if(!O)return null;var I=S.state,k=I.isTooltipActive,R=I.activeCoordinate,B=I.activePayload,U=I.activeLabel,W=I.offset,G=(A=O.props.active)!==null&&A!==void 0?A:k;return j.cloneElement(O,{viewBox:q(q({},W),{},{x:W.left,y:W.top}),active:G,label:U,payload:G?B:[],coordinate:R,accessibilityLayer:P})}),ce(S,"renderBrush",function(A){var E=S.props,x=E.margin,P=E.data,O=S.state,I=O.offset,k=O.dataStartIndex,R=O.dataEndIndex,B=O.updateId;return j.cloneElement(A,{key:A.key||"_recharts-brush",onChange:_d(S.handleBrushChange,A.props.onChange),data:P,x:ne(A.props.x)?A.props.x:I.left,y:ne(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(x.bottom||0),width:ne(A.props.width)?A.props.width:I.width,startIndex:k,endIndex:R,updateId:"brush-".concat(B)})}),ce(S,"renderReferenceElement",function(A,E,x){if(!A)return null;var P=S,O=P.clipPathId,I=S.state,k=I.xAxisMap,R=I.yAxisMap,B=I.offset,U=A.type.defaultProps||{},W=A.props,G=W.xAxisId,L=G===void 0?U.xAxisId:G,z=W.yAxisId,Q=z===void 0?U.yAxisId:z;return j.cloneElement(A,{key:A.key||"".concat(E,"-").concat(x),xAxis:k[L],yAxis:R[Q],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:O})}),ce(S,"renderActivePoints",function(A){var E=A.item,x=A.activePoint,P=A.basePoint,O=A.childIndex,I=A.isRange,k=[],R=E.props.key,B=E.item.type.defaultProps!==void 0?q(q({},E.item.type.defaultProps),E.item.props):E.item.props,U=B.activeDot,W=B.dataKey,G=q(q({index:O,dataKey:W,cx:x.x,cy:x.y,r:4,fill:US(E.item),strokeWidth:2,stroke:"#fff",payload:x.payload,value:x.value},Ce(U,!1)),Gp(U));return k.push(w.renderActiveDot(U,G,"".concat(R,"-activePoint-").concat(O))),P?k.push(w.renderActiveDot(U,q(q({},G),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(O))):I&&k.push(null),k}),ce(S,"renderGraphicChild",function(A,E,x){var P=S.filterFormatItem(A,E,x);if(!P)return null;var O=S.getTooltipEventType(),I=S.state,k=I.isTooltipActive,R=I.tooltipAxis,B=I.activeTooltipIndex,U=I.activeLabel,W=S.props.children,G=qn(W,rr),L=P.props,z=L.points,Q=L.isRange,ee=L.baseLine,Y=P.item.type.defaultProps!==void 0?q(q({},P.item.type.defaultProps),P.item.props):P.item.props,le=Y.activeDot,pe=Y.hide,je=Y.activeBar,Qe=Y.activeShape,on=!!(!pe&&k&&G&&(le||je||Qe)),Vt={};O!=="axis"&&G&&G.props.trigger==="click"?Vt={onClick:_d(S.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(Vt={onMouseLeave:_d(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:_d(S.handleItemMouseEnter,A.props.onMouseEnter)});var re=j.cloneElement(A,q(q({},P.props),Vt));function me(li){return typeof R.dataKey=="function"?R.dataKey(li.payload):null}if(on)if(B>=0){var ye,K;if(R.dataKey&&!R.allowDuplicatedCategory){var qe=typeof R.dataKey=="function"?me:"payload.".concat(R.dataKey.toString());ye=Hp(z,qe,U),K=Q&&ee&&Hp(ee,qe,U)}else ye=z==null?void 0:z[B],K=Q&&ee&&ee[B];if(Qe||je){var Te=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[j.cloneElement(A,q(q(q({},P.props),Vt),{},{activeIndex:Te})),null,null]}if(!Se(ye))return[re].concat(Ml(S.renderActivePoints({item:P,activePoint:ye,basePoint:K,childIndex:B,isRange:Q})))}else{var vt,st=(vt=S.getItemByXY(S.state.activeCoordinate))!==null&&vt!==void 0?vt:{graphicalItem:re},Bt=st.graphicalItem,vr=Bt.item,at=vr===void 0?A:vr,St=Bt.childIndex,Zn=q(q(q({},P.props),Vt),{},{activeIndex:St});return[j.cloneElement(at,Zn),null,null]}return Q?[re,null,null]:[re,null]}),ce(S,"renderCustomized",function(A,E,x){return j.cloneElement(A,q(q({key:"recharts-customized-".concat(x)},S.props),S.state))}),ce(S,"renderMap",{CartesianGrid:{handler:xd,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:xd},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:xd},YAxis:{handler:xd},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:_h("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=jL(S.triggeredAfterMouseMove,(C=v.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return owe(w,y),twe(w,[{key:"componentDidMount",value:function(){var b,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,C=b.children,S=b.data,A=b.height,E=b.layout,x=qn(C,rr);if(x){var P=x.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=Ib(this.state,S,P,O),k=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+A)/2,B=E==="horizontal",U=B?{x:k,y:R}:{y:k,x:R},W=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});W&&(U=q(q({},U),W.props.points[P].tooltipPosition),I=W.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:U};this.setState(G),this.renderCursor(x),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){aw([qn(b.children,rr)],[qn(this.props.children,rr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=qn(this.props.children,rr);if(b&&typeof b.props.shared=="boolean"){var C=b.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),A=Jae(S),E={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},x=S.width/C.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,x);if(!P)return null;var O=this.state,I=O.xAxisMap,k=O.yAxisMap,R=this.getTooltipEventType(),B=fR(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&I&&k){var U=no(I).scale,W=no(k).scale,G=U&&U.invert?U.invert(E.chartX):null,L=W&&W.invert?W.invert(E.chartY):null;return q(q({},E),{},{xValue:G,yValue:L},B)}return B?q(q({},E),B):null}},{key:"inRange",value:function(b,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=b/S,x=C/S;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,O=E>=P.left&&E<=P.left+P.width&&x>=P.top&&x<=P.top+P.height;return O?{x:E,y:x}:null}var I=this.state,k=I.angleAxisMap,R=I.radiusAxisMap;if(k&&R){var B=no(k);return HO({x:E,y:x},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,C=this.getTooltipEventType(),S=qn(b,rr),A={};S&&C==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Gp(this.props,this.handleOuterEvent);return q(q({},E),A)}},{key:"addListener",value:function(){c_.on(f_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){c_.removeListener(f_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,C,S){for(var A=this.state.formattedGraphicalItems,E=0,x=A.length;E<x;E++){var P=A[E];if(P.item===b||P.props.key===b.key||C===bi(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,C=this.state.offset,S=C.left,A=C.top,E=C.height,x=C.width;return D.createElement("defs",null,D.createElement("clipPath",{id:b},D.createElement("rect",{x:S,y:A,height:E,width:x})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(C,S){var A=lR(S,2),E=A[0],x=A[1];return q(q({},C),{},ce({},E,x.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(C,S){var A=lR(S,2),E=A[0],x=A[1];return q(q({},C),{},ce({},E,x.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(b){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(b){var C=this.state,S=C.formattedGraphicalItems,A=C.activeItem;if(S&&S.length)for(var E=0,x=S.length;E<x;E++){var P=S[E],O=P.props,I=P.item,k=I.type.defaultProps!==void 0?q(q({},I.type.defaultProps),I.props):I.props,R=bi(I.type);if(R==="Bar"){var B=(O.data||[]).find(function(L){return Dme(b,L)});if(B)return{graphicalItem:P,payload:B}}else if(R==="RadialBar"){var U=(O.data||[]).find(function(L){return HO(b,L)});if(U)return{graphicalItem:P,payload:U}}else if(_y(P,A)||wy(P,A)||Wf(P,A)){var W=Lge({graphicalItem:P,activeTooltipItem:A,itemData:k.data}),G=k.activeIndex===void 0?W:k.activeIndex;return{graphicalItem:q(q({},P),{},{childIndex:G}),payload:Wf(P,A)?k.data[W]:P.props.data[W]}}}return null}},{key:"render",value:function(){var b=this;if(!jC(this))return null;var C=this.props,S=C.children,A=C.className,E=C.width,x=C.height,P=C.style,O=C.compact,I=C.title,k=C.desc,R=uR(C,K0e),B=Ce(R,!1);if(O)return D.createElement(WN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(uw,Pa({},B,{width:E,height:x,title:I,desc:k}),this.renderClipPath(),LC(S,this.renderMap)));if(this.props.accessibilityLayer){var U,W;B.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,B.role=(W=this.props.role)!==null&&W!==void 0?W:"application",B.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},B.onFocus=function(){b.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return D.createElement(WN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Pa({className:ke("recharts-wrapper",A),style:q({position:"relative",cursor:"default",width:E,height:x},P)},G,{ref:function(z){b.container=z}}),D.createElement(uw,Pa({},B,{width:E,height:x,title:I,desc:k,style:fwe}),this.renderClipPath(),LC(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);ce(m,"displayName",n),ce(m,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ce(m,"getDerivedStateFromProps",function(y,w){var v=y.dataKey,b=y.data,C=y.children,S=y.width,A=y.height,E=y.layout,x=y.stackOffset,P=y.margin,O=w.dataStartIndex,I=w.dataEndIndex;if(w.updateId===void 0){var k=hR(y);return q(q(q({},k),{},{updateId:0},p(q(q({props:y},k),{},{updateId:0}),w)),{},{prevDataKey:v,prevData:b,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:x,prevMargin:P,prevChildren:C})}if(v!==w.prevDataKey||b!==w.prevData||S!==w.prevWidth||A!==w.prevHeight||E!==w.prevLayout||x!==w.prevStackOffset||!Va(P,w.prevMargin)){var R=hR(y),B={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},U=q(q({},fR(w,b,E)),{},{updateId:w.updateId+1}),W=q(q(q({},R),B),U);return q(q(q({},W),p(q({props:y},W),w)),{},{prevDataKey:v,prevData:b,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:x,prevMargin:P,prevChildren:C})}if(!aw(C,w.prevChildren)){var G,L,z,Q,ee=qn(C,xl),Y=ee&&(G=(L=ee.props)===null||L===void 0?void 0:L.startIndex)!==null&&G!==void 0?G:O,le=ee&&(z=(Q=ee.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&z!==void 0?z:I,pe=Y!==O||le!==I,je=!Se(b),Qe=je&&!pe?w.updateId:w.updateId+1;return q(q({updateId:Qe},p(q(q({props:y},w),{},{updateId:Qe,dataStartIndex:Y,dataEndIndex:le}),w)),{},{prevChildren:C,dataStartIndex:Y,dataEndIndex:le})}return null}),ce(m,"renderActiveDot",function(y,w,v){var b;return j.isValidElement(y)?b=j.cloneElement(y,w):_e(y)?b=y(w):b=D.createElement(WS,w),D.createElement(bt,{className:"recharts-active-dot",key:v},b)});var g=j.forwardRef(function(w,v){return D.createElement(m,Pa({},w,{ref:v}))});return g.displayName=m.displayName,g},d_=bwe({chartName:"LineChart",GraphicalChild:Gr,axisComponents:[{axisType:"xAxis",AxisComp:Wa},{axisType:"yAxis",AxisComp:qa}],formatAxisMap:uve});const Ewe=({rpmData:t,luxData:e,soilMoistureData:n=[],isConnected:r=!1})=>{const[i,o]=j.useState("rpm"),s=()=>{o(i==="rpm"?"lux":i==="lux"?"soilMoisture":"rpm")},a=()=>{o(i==="rpm"?"soilMoisture":i==="lux"?"rpm":"lux")},l=()=>{switch(i){case"rpm":return"Fan RPM History";case"lux":return"Light Intensity History";case"soilMoisture":return"Soil Moisture History"}},u=()=>{switch(i){case"rpm":return yt.frame.fanIcon;case"lux":return yt.frame.lightIcon;case"soilMoisture":return yt.frame.soilmoistureIcon}},c=()=>{switch(i){case"rpm":return t;case"lux":return e;case"soilMoisture":return n}},f=()=>{const d=c();return!r||d.length===0?N.jsx("div",{className:"chart-no-data",children:N.jsx("span",{className:"no-data-text",children:"(No Data)"})}):i==="rpm"?N.jsx(Qv,{width:"100%",height:"100%",children:N.jsxs(d_,{data:t,margin:{top:5,right:20,left:10,bottom:5},children:[N.jsx(Gd,{strokeDasharray:"3 3",stroke:"#e0e0e0",opacity:.5}),N.jsx(Wa,{dataKey:"time",stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"}}),N.jsx(qa,{stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"},width:50}),N.jsx(rr,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:"Poppins"}}),N.jsx(Gr,{type:"monotone",dataKey:"fan1",stroke:"#e74c3c",strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:1500}),N.jsx(Gr,{type:"monotone",dataKey:"fan2",stroke:"#3498db",strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:1500}),N.jsx(Gr,{type:"monotone",dataKey:"fan3",stroke:"#2ecc71",strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:1500}),N.jsx(Gr,{type:"monotone",dataKey:"fan4",stroke:"#f39c12",strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:1500})]})}):i==="lux"?N.jsx(Qv,{width:"100%",height:"100%",children:N.jsxs(d_,{data:e,margin:{top:5,right:20,left:10,bottom:5},children:[N.jsx(Gd,{strokeDasharray:"3 3",stroke:"#e0e0e0",opacity:.5}),N.jsx(Wa,{dataKey:"time",stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"}}),N.jsx(qa,{stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"},width:50}),N.jsx(rr,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:"Poppins"}}),N.jsx(Gr,{type:"monotone",dataKey:"value",stroke:"#f39c12",strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:1500})]})}):N.jsx(Qv,{width:"100%",height:"100%",children:N.jsxs(d_,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[N.jsx(Gd,{strokeDasharray:"3 3",stroke:"#e0e0e0",opacity:.5}),N.jsx(Wa,{dataKey:"time",stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"}}),N.jsx(qa,{stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"},width:50}),N.jsx(rr,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:"Poppins"}}),N.jsx(Gr,{type:"monotone",dataKey:"value",stroke:"#8b4513",strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:1500})]})})};return N.jsxs("div",{className:"switchable-chart-card sensor-card",children:[N.jsxs("div",{className:"card-header",children:[N.jsx("h3",{className:"card-title",children:l()}),N.jsxs("div",{className:"card-header-actions",children:[N.jsx("div",{className:"card-icon",children:N.jsx("img",{src:u(),alt:l()})}),N.jsxs("div",{className:"chart-nav-buttons",children:[N.jsx("button",{className:"switch-chart-btn",onClick:a,title:"Previous chart",children:N.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:N.jsx("polyline",{points:"15 18 9 12 15 6"})})}),N.jsx("button",{className:"switch-chart-btn",onClick:s,title:"Next chart",children:N.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:N.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})]}),N.jsx("div",{className:"chart-container",children:f()})]})},K4=_A().length>0?_A()[0]:hg(H1,"windy-service"),Swe=B1(K4),xwe=bD(K4),Wr=mG,pR=yG,Twe=15;function Awe(){return`You are Windy, an AI assistant specialized in monitoring and analyzing smart growth chambers for optimal plant health.

**Your Mission:**
Help users understand their sensor data, identify issues, and provide practical recommendations for plant growth, with special focus on airflow, light, humidity, soil moisture, and water usage.

**Your Capabilities:**
- Analyze real-time sensor readings from multiple groups (temperature, wind speed, humidity, soil moisture, water levels, light intensity)
- Review historical trends from Firestore time-series data
- Compare current readings against optimal plant growth ranges
- Provide actionable recommendations for fan control, light management, and environmental adjustments
- Explain complex data patterns in clear, simple language

**Critical Rules:**
1. ALWAYS reference the actual Firebase data provided in the context below when answering questions
2. If data is missing or empty, state that explicitly - never hallucinate or guess values
3. When users ask vague questions, briefly explain which data sources you have available (group12, group3, group30, group6&35, plus historical sensorData) and provide a useful analysis based on current readings
4. Focus on practical, specific recommendations rather than generic advice
5. Reference specific sensor values and timestamps when making observations
6. If you notice unusual patterns or concerning trends in the data, proactively mention them

**Available Data Sources:**
- RTDB group12: Core environmental sensors
- RTDB group3: Light control and monitoring
- RTDB group30: Fan/ventilation control and monitoring  
- RTDB group6&35: Additional sensors and controls
- Firestore group30History: Historical fan RPM and related metrics
- Firestore group3History: Historical light intensity and related metrics

**Response Style:**
- Clear and concise explanations
- Data-driven insights with specific numbers
- Practical action steps when relevant
- Friendly but professional tone

Now analyze the Firebase data provided below and answer the user's question.`}async function Td(t){try{const e=sr(Swe,`status/${t}`),n=await A7(e);return n.exists()?n.val():(console.warn(`[Windy] No data found at status/${t}`),null)}catch(e){return console.error(`[Windy] Error fetching RTDB status/${t}:`,e),null}}async function mR(t,e=Twe){try{const n=$0(xwe,t),r=F0(n,V0("timestamp","desc"),B0(e)),i=await P8(r),o=[];return i.forEach(s=>{const a=s.data();o.push(a)}),o.reverse()}catch(n){return console.error(`[Windy] Error fetching Firestore ${t}:`,n),[]}}async function Pwe(){console.log("[Windy] Fetching Firebase data for context...");const[t,e,n,r,i,o]=await Promise.all([Td("group12"),Td("group3"),Td("group30"),Td("group6&35"),mR("growthChamber/group30/sensorData"),mR("growthChamber/group3/sensorData")]),s={rtdb:{group12:t||void 0,group3:e||void 0,group30:n||void 0,"group6&35":r||void 0},firestore:{group30History:i.length>0?i:void 0,group3History:o.length>0?o:void 0},fetchedAt:new Date().toISOString()};return console.log("[Windy] Firebase data fetched successfully"),s}function Cwe(t){const e=[];return e.push("=== CURRENT GROWTH CHAMBER DATA ==="),e.push(`Data fetched at: ${t.fetchedAt}`),e.push(""),e.push("--- REAL-TIME DATABASE (Current Status) ---"),t.rtdb.group12?(e.push(`
[Group 12 - Environmental Sensors]`),e.push(JSON.stringify(t.rtdb.group12,null,2))):e.push(`
[Group 12] No data available`),t.rtdb.group3?(e.push(`
[Group 3 - Light Control]`),e.push(JSON.stringify(t.rtdb.group3,null,2))):e.push(`
[Group 3] No data available`),t.rtdb.group30?(e.push(`
[Group 30 - Fan/Ventilation Control]`),e.push(JSON.stringify(t.rtdb.group30,null,2))):e.push(`
[Group 30] No data available`),t.rtdb["group6&35"]?(e.push(`
[Group 6&35 - Additional Sensors]`),e.push(JSON.stringify(t.rtdb["group6&35"],null,2))):e.push(`
[Group 6&35] No data available`),e.push(`
--- FIRESTORE (Historical Trends) ---`),t.firestore.group30History&&t.firestore.group30History.length>0?(e.push(`
[Group 30 History - ${t.firestore.group30History.length} recent records]`),e.push(JSON.stringify(t.firestore.group30History,null,2))):e.push(`
[Group 30 History] No historical data available`),t.firestore.group3History&&t.firestore.group3History.length>0?(e.push(`
[Group 3 History - ${t.firestore.group3History.length} recent records]`),e.push(JSON.stringify(t.firestore.group3History,null,2))):e.push(`
[Group 3 History] No historical data available`),e.push(`
=== END OF DATA ===
`),e.join(`
`)}function Iwe(t,e,n){const r=[];return r.push(Awe()),r.push(`
`),r.push(Cwe(e)),r.push(`
`),n&&n.length>0&&(r.push("--- CONVERSATION HISTORY ---"),n.slice(-5).forEach(i=>{r.push(`${i.role==="user"?"User":"Windy"}: ${i.content}`)}),r.push(`
`)),r.push("--- CURRENT USER QUESTION ---"),r.push(`User: ${t}`),r.push(`
`),r.push("Windy, please analyze the data above and provide a helpful, data-driven response:"),r.join(`
`)}async function Owe(t,e){try{console.log("[Windy] API Configuration:",{hasApiKey:!!Wr,keyLength:(Wr==null?void 0:Wr.length)||0,endpoint:pR,keyPrefix:(Wr==null?void 0:Wr.substring(0,10))+"..."}),console.log("[Windy] Fetching Firebase data...");const n=await Pwe(),r=Iwe(t,n,e);console.log("[Windy] Sending prompt to Gemini API..."),console.log("[Windy] Prompt length:",r.length,"characters");const i={contents:[{parts:[{text:r}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}};console.log("[Windy] Making API request...");const o=`${pR}?key=${Wr}`,s=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(console.log("[Windy] API response status:",s.status,s.statusText),!s.ok){const c=await s.text();throw console.error("[Windy] API Error Response:",c),new Error(`Gemini API error: ${s.status} ${s.statusText} - ${c}`)}const a=await s.json();console.log("[Windy] API response data:",a);const l=Nwe(a),u=Rwe(l);return console.log("[Windy] Response received successfully"),{text:u,success:!0}}catch(n){return console.error("[Windy] Error:",n),{text:"Sorry, I encountered an error while analyzing the data. Please try again. If the problem persists, check your internet connection and API key configuration.",success:!1,error:n instanceof Error?n.message:"Unknown error"}}}function Nwe(t){var e,n,r,i,o;try{return((o=(i=(r=(n=(e=t==null?void 0:t.candidates)==null?void 0:e[0])==null?void 0:n.content)==null?void 0:r.parts)==null?void 0:i[0])==null?void 0:o.text)||"Sorry, I could not generate a response."}catch(s){return console.error("[Windy] Error extracting text from response:",s),"Sorry, I could not parse the response."}}function Rwe(t){let e=t.trim().replace(/\n{3,}/g,`

`);return e.toLowerCase().includes("windy")||(e+=`

 Windy `),e}function kwe(){return`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function p_(t,e){return{id:kwe(),role:t,content:e,timestamp:new Date}}const Mwe=["Analyze current sensor readings","Are my environmental conditions optimal?","What trends do you see in the data?","Any recommendations for improvement?"],Dwe=({onClose:t})=>{const[e,n]=j.useState([]),[r,i]=j.useState(""),[o,s]=j.useState(!1),a=j.useRef(null),l=j.useRef(null);j.useEffect(()=>{u()},[e]),j.useEffect(()=>{var m;(m=l.current)==null||m.focus()},[]);const u=()=>{var m;(m=a.current)==null||m.scrollIntoView({behavior:"smooth"})},c=async m=>{const g=m||r.trim();if(!g||o)return;i("");const y=p_("user",g);n(w=>[...w,y]),s(!0);try{const w=await Owe(g,e),v=p_("assistant",w.text);n(b=>[...b,v])}catch(w){console.error("[AiChatPanel] Error sending message:",w);const v=p_("assistant","Sorry, I encountered an error. Please try again.");n(b=>[...b,v])}finally{s(!1)}},f=m=>{c(m)},d=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),c())},p=m=>m.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return N.jsxs("div",{className:"ai-chat-panel",children:[N.jsxs("div",{className:"ai-chat-header",children:[N.jsxs("div",{className:"ai-chat-header-left",children:[N.jsx("img",{src:yt.geminiIcon,alt:"Gemini",className:"ai-chat-header-icon"}),N.jsxs("div",{children:[N.jsx("h3",{className:"ai-chat-title",children:"Windy AI Assistant"}),N.jsx("p",{className:"ai-chat-subtitle",children:"Growth Chamber Specialist"})]})]}),N.jsx("button",{className:"ai-chat-close-btn",onClick:t,"aria-label":"Close chat",children:""})]}),N.jsx("div",{className:"ai-chat-messages",children:e.length===0?N.jsxs("div",{className:"ai-chat-empty",children:[N.jsx("img",{src:yt.geminiIcon,alt:"Gemini",className:"ai-chat-empty-icon"}),N.jsx("p",{className:"ai-chat-empty-text",children:"Hi! I'm Windy, your growth chamber AI specialist. "}),N.jsx("p",{className:"ai-chat-empty-subtext",children:"I analyze sensor data, monitor trends, and provide recommendations for optimal plant health. Ask me anything!"})]}):N.jsxs(N.Fragment,{children:[e.map(m=>N.jsx("div",{className:`ai-chat-message ${m.role==="user"?"user-message":"assistant-message"}`,children:N.jsxs("div",{className:"ai-chat-message-content",children:[N.jsx("p",{className:"ai-chat-message-text",children:m.content}),N.jsx("span",{className:"ai-chat-message-time",children:p(m.timestamp)})]})},m.id)),o&&N.jsx("div",{className:"ai-chat-message assistant-message",children:N.jsx("div",{className:"ai-chat-message-content",children:N.jsxs("div",{className:"ai-chat-typing-indicator",children:[N.jsx("span",{}),N.jsx("span",{}),N.jsx("span",{})]})})}),N.jsx("div",{ref:a})]})}),e.length===0&&N.jsxs("div",{className:"ai-chat-quick-questions",children:[N.jsx("p",{className:"ai-chat-quick-title",children:"Quick Questions:"}),N.jsx("div",{className:"ai-chat-quick-chips",children:Mwe.map((m,g)=>N.jsx("button",{className:"ai-chat-quick-chip",onClick:()=>f(m),disabled:o,children:m},g))})]}),N.jsxs("div",{className:"ai-chat-input-container",children:[N.jsx("input",{ref:l,type:"text",className:"ai-chat-input",placeholder:"Ask me anything...",value:r,onChange:m=>i(m.target.value),onKeyPress:d,disabled:o}),N.jsx("button",{className:"ai-chat-send-btn",onClick:()=>c(),disabled:o||!r.trim(),"aria-label":"Send message",children:N.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:N.jsx("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"})})})]})]})},Q4=()=>{const[t,e]=j.useState(!1),n=()=>{e(!t)};return N.jsxs(N.Fragment,{children:[N.jsxs("button",{className:`ai-chat-button ${t?"chat-open":""}`,onClick:n,"aria-label":"Toggle AI Chat",title:"AI Assistant",children:[N.jsx("img",{src:yt.geminiIcon,alt:"Gemini AI",className:"ai-chat-button-icon"}),!t&&N.jsx("span",{className:"ai-chat-button-pulse"})]}),t&&N.jsx(Dwe,{onClose:()=>e(!1)})]})},jwe=()=>{const{sensorData:t,luxHistory:e,rpmHistory:n,plantInfo:r,isLoading:i,error:o,isRealtimeConnected:s}=_$(),[a]=D.useState("OFF"),[l]=D.useState("OFF"),[u]=D.useState(null),[c]=D.useState("");return i&&!t?N.jsx("div",{className:"dashboard-page",style:{backgroundImage:`url(${yt.background})`},children:N.jsx("div",{className:"loading-container",children:N.jsx("p",{children:"Loading dashboard..."})})}):N.jsxs("div",{className:"dashboard-page",style:{backgroundImage:`url(${yt.background})`},children:[N.jsxs("header",{className:"dashboard-header",children:[N.jsx("h1",{className:"dashboard-title",children:"Growth Regulation & Optimized Box for Environmental Control"}),N.jsx("p",{className:"dashboard-subtitle",children:"Dashboard"})]}),o&&N.jsx("div",{className:"error-message",children:o}),N.jsxs("div",{className:"dashboard-content",children:[N.jsxs("div",{className:"left-section",children:[N.jsx(TG,{plantInfo:r}),N.jsx(RG,{statusText:c,isConnected:s}),N.jsx(EC,{title:"Pump Status",status:a,isConnected:s}),N.jsx(EC,{title:"Fan Heater Status",status:l,isConnected:s})]}),N.jsx("div",{className:"right-section",children:N.jsxs("div",{className:"cards-grid",children:[N.jsx(PG,{value:t.windSpeed,isConnected:s}),N.jsx(NG,{value:t.lightIntensity,isConnected:s}),N.jsx(AG,{value:t.temperature,isConnected:s}),N.jsx(CG,{value:t.airHumidity,isConnected:s}),N.jsx(kG,{value:u,isConnected:s}),N.jsx(MG,{vpdValue:u,isConnected:s}),N.jsx(IG,{value:t.soilMoisture,isConnected:s}),N.jsx(OG,{value:t.waterTankLevel,isConnected:s}),N.jsx(Ewe,{rpmData:n,luxData:e,isConnected:s})]})})]}),N.jsx(Q4,{})]})},$we=hg(H1,"manual-control-app"),Xu=B1($we),Lwe=()=>{const{rpmHistory:t}=_$(),n=(()=>{if(!t||t.length===0)return{fan1:0,fan2:0,fan3:0,fan4:0};const g=t[t.length-1];return{fan1:Math.round(g.fan1),fan2:Math.round(g.fan2),fan3:Math.round(g.fan3),fan4:Math.round(g.fan4)}})(),[r,i]=j.useState(!0),[o,s]=j.useState(50),[a,l]=j.useState(!1),[u,c]=j.useState(!0),[f,d]=j.useState(50),p=async()=>{try{await Fu(sr(Xu,"status/group30/autoControl"),r),r||await Fu(sr(Xu,"status/group30/duty"),o),console.log(" Fan settings saved:",{autoControl:r,duty:o}),alert("Fan settings saved to Firebase!")}catch(g){console.error(" Error saving fan settings:",g),alert("Failed to save fan settings")}},m=async()=>{try{await Fu(sr(Xu,"status/group3/lampStatus"),a),a&&(await Fu(sr(Xu,"status/group3/autoControl"),u),u||await Fu(sr(Xu,"status/group3/duty"),f)),console.log(" Light settings saved:",{lampStatus:a,autoControl:u,duty:f}),alert("Light settings saved to Firebase!")}catch(g){console.error(" Error saving light settings:",g),alert("Failed to save light settings")}};return N.jsxs("div",{className:"manual-control-page",style:{backgroundImage:`url(${yt.background})`},children:[N.jsxs("header",{className:"manual-control-header",children:[N.jsx("h1",{className:"manual-control-title",children:"Growth Regulation & Optimized Box for Environmental Control"}),N.jsx("p",{className:"manual-control-subtitle",children:"Manual Control"})]}),N.jsxs("div",{className:"control-container",children:[N.jsxs("div",{className:"control-card",children:[N.jsxs("div",{className:"card-header-row",children:[N.jsxs("div",{className:"card-title-wrapper",children:[N.jsx("h2",{className:"card-title",children:"Fan Control"}),N.jsx("div",{className:"card-icon",children:N.jsx("img",{src:yt.frame.fanIcon,alt:"Fan"})})]}),N.jsx("div",{className:"switch-container-right",children:N.jsxs("div",{className:"mode-switch",children:[N.jsx("button",{className:`switch-option ${r?"active":""}`,onClick:()=>i(!0),children:"auto"}),N.jsx("button",{className:`switch-option ${r?"":"active"}`,onClick:()=>i(!1),children:"manual"})]})})]}),N.jsx("div",{className:"card-center",children:N.jsxs("div",{className:"four-fans-grid",children:[N.jsxs("div",{className:"single-fan-display",children:[N.jsxs("div",{className:"fan-container spinning",children:[N.jsx("div",{className:"fan-blades-small",children:Array.from({length:7}).map((g,y)=>N.jsx("div",{className:"fan-blade-small",style:{transform:`rotate(${y*51.43}deg)`}},y))}),N.jsx("div",{className:"fan-ring"}),N.jsx("div",{className:"fan-rpm-small",children:N.jsx("span",{className:"rpm-value-small",children:n.fan1})})]}),N.jsx("span",{className:"fan-label",children:"Fan 1"})]}),N.jsxs("div",{className:"single-fan-display",children:[N.jsxs("div",{className:"fan-container spinning",children:[N.jsx("div",{className:"fan-blades-small",children:Array.from({length:7}).map((g,y)=>N.jsx("div",{className:"fan-blade-small",style:{transform:`rotate(${y*51.43}deg)`}},y))}),N.jsx("div",{className:"fan-ring"}),N.jsx("div",{className:"fan-rpm-small",children:N.jsx("span",{className:"rpm-value-small",children:n.fan2})})]}),N.jsx("span",{className:"fan-label",children:"Fan 2"})]}),N.jsxs("div",{className:"single-fan-display",children:[N.jsxs("div",{className:"fan-container spinning",children:[N.jsx("div",{className:"fan-blades-small",children:Array.from({length:7}).map((g,y)=>N.jsx("div",{className:"fan-blade-small",style:{transform:`rotate(${y*51.43}deg)`}},y))}),N.jsx("div",{className:"fan-ring"}),N.jsx("div",{className:"fan-rpm-small",children:N.jsx("span",{className:"rpm-value-small",children:n.fan3})})]}),N.jsx("span",{className:"fan-label",children:"Fan 3"})]}),N.jsxs("div",{className:"single-fan-display",children:[N.jsxs("div",{className:"fan-container spinning",children:[N.jsx("div",{className:"fan-blades-small",children:Array.from({length:7}).map((g,y)=>N.jsx("div",{className:"fan-blade-small",style:{transform:`rotate(${y*51.43}deg)`}},y))}),N.jsx("div",{className:"fan-ring"}),N.jsx("div",{className:"fan-rpm-small",children:N.jsx("span",{className:"rpm-value-small",children:n.fan4})})]}),N.jsx("span",{className:"fan-label",children:"Fan 4"})]})]})}),N.jsxs("div",{className:"card-controls",children:[N.jsxs("div",{className:"slider-section",children:[N.jsx("label",{className:"slider-label",children:"Duty 0%  100%"}),N.jsxs("div",{className:"slider-container",children:[N.jsx("input",{type:"range",min:"0",max:"100",value:o,onChange:g=>s(Number(g.target.value)),className:"duty-slider",disabled:r,style:{opacity:r?.4:1}}),N.jsxs("span",{className:"slider-value",children:[o,"%"]})]})]}),N.jsx("button",{className:"save-button-large",onClick:p,children:"Save"})]})]}),N.jsxs("div",{className:"control-card",children:[N.jsxs("div",{className:"card-header-row",children:[N.jsxs("div",{className:"card-title-wrapper",children:[N.jsx("h2",{className:"card-title",children:"Light Control"}),N.jsx("div",{className:"card-icon",children:N.jsx("img",{src:yt.frame.lightIcon,alt:"Light"})})]}),N.jsxs("div",{className:"switch-container-right",children:[N.jsx("div",{className:"power-toggle-container",children:N.jsxs("div",{className:`power-toggle ${a?"on":"off"}`,onClick:()=>l(!a),children:[N.jsxs("div",{className:"toggle-track",children:[N.jsx("span",{className:`toggle-label-on ${a?"active":""}`,children:"On"}),N.jsx("span",{className:`toggle-label-off ${a?"":"active"}`,children:"Off"})]}),N.jsx("div",{className:"toggle-thumb"})]})}),N.jsxs("div",{className:"mode-switch",style:{opacity:a?1:.4,pointerEvents:a?"auto":"none"},children:[N.jsx("button",{className:`switch-option ${u?"active":""}`,onClick:()=>c(!0),disabled:!a,children:"auto"}),N.jsx("button",{className:`switch-option ${u?"":"active"}`,onClick:()=>c(!1),disabled:!a,children:"manual"})]})]})]}),N.jsx("div",{className:"card-center",children:N.jsx("div",{className:"light-indicator",style:{backgroundColor:a?"#f4e04d":"#d0d0d0",opacity:a?1:.5}})}),N.jsxs("div",{className:"card-controls",children:[N.jsxs("div",{className:"slider-section",children:[N.jsx("label",{className:"slider-label",children:"PWM 0  255"}),N.jsxs("div",{className:"slider-container",children:[N.jsx("input",{type:"range",min:"0",max:"255",value:f,onChange:g=>d(Number(g.target.value)),className:"duty-slider",disabled:!a||u,style:{opacity:!a||u?.4:1}}),N.jsx("span",{className:"slider-value",children:f})]})]}),N.jsx("button",{className:"save-button-large",onClick:m,children:"Save"})]})]})]}),N.jsx(Q4,{})]})},Fwe=()=>N.jsxs("div",{className:"about-page",children:[N.jsxs("header",{className:"page-header",children:[N.jsx("h1",{className:"page-title",children:"About"}),N.jsx("p",{className:"page-subtitle",children:"Smart Greenhouse Monitoring System"})]}),N.jsxs("div",{className:"about-content",children:[N.jsxs("div",{className:"about-section",children:[N.jsx("h2",{className:"section-title",children:"Tentang Proyek"}),N.jsx("p",{className:"section-text",children:"Smart Greenhouse Monitoring System adalah sistem IoT yang dirancang untuk memantau dan mengontrol kondisi lingkungan greenhouse secara real-time. Sistem ini menggunakan berbagai sensor untuk mengukur parameter penting seperti suhu, kelembaban udara, kelembaban tanah, kecepatan angin, dan intensitas cahaya."})]}),N.jsxs("div",{className:"about-section",children:[N.jsx("h2",{className:"section-title",children:"Fitur Utama"}),N.jsxs("ul",{className:"feature-list",children:[N.jsx("li",{children:"Monitoring real-time suhu dan kelembaban"}),N.jsx("li",{children:"Kontrol otomatis sistem ventilasi (kipas)"}),N.jsx("li",{children:"Monitoring tingkat air pada tangki"}),N.jsx("li",{children:"Pengukuran intensitas cahaya"}),N.jsx("li",{children:"Visualisasi data historis"}),N.jsx("li",{children:"Kontrol manual perangkat"})]})]}),N.jsxs("div",{className:"about-section",children:[N.jsx("h2",{className:"section-title",children:"Teknologi"}),N.jsxs("div",{className:"tech-grid",children:[N.jsxs("div",{className:"tech-item",children:[N.jsx("h3",{children:"Frontend"}),N.jsx("p",{children:"React + TypeScript"})]}),N.jsxs("div",{className:"tech-item",children:[N.jsx("h3",{children:"Backend"}),N.jsx("p",{children:"Node.js + Express"})]}),N.jsxs("div",{className:"tech-item",children:[N.jsx("h3",{children:"Database"}),N.jsx("p",{children:"Firebase Realtime DB"})]}),N.jsxs("div",{className:"tech-item",children:[N.jsx("h3",{children:"IoT Platform"}),N.jsx("p",{children:"ESP32 / Arduino"})]})]})]}),N.jsxs("div",{className:"about-section",children:[N.jsx("h2",{className:"section-title",children:"Tim Pengembang"}),N.jsx("p",{className:"section-text",children:"Proyek ini dikembangkan sebagai bagian dari tugas Desain Proyek 2, Semester 7, Program Studi Teknik Elektro."})]})]})]}),Vwe=()=>N.jsx(H6,{basename:"/GROBOX",children:N.jsx(EG,{children:N.jsxs("div",{className:"app-container",children:[N.jsx(xG,{}),N.jsx("main",{className:"main-content",children:N.jsxs(L6,{children:[N.jsx(nc,{path:"/",element:N.jsx(jwe,{})}),N.jsx(nc,{path:"/manual-control",element:N.jsx(Lwe,{})}),N.jsx(nc,{path:"/about",element:N.jsx(Fwe,{})}),N.jsx(nc,{path:"*",element:N.jsx(j6,{to:"/",replace:!0})})]})})]})})});m_.createRoot(document.getElementById("root")).render(N.jsx(D.StrictMode,{children:N.jsx(Vwe,{})}));
