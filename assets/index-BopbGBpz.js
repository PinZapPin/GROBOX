function Z4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function We(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iN={exports:{}},Lm={},oN={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=Symbol.for("react.element"),eV=Symbol.for("react.portal"),tV=Symbol.for("react.fragment"),nV=Symbol.for("react.strict_mode"),rV=Symbol.for("react.profiler"),iV=Symbol.for("react.provider"),oV=Symbol.for("react.context"),sV=Symbol.for("react.forward_ref"),aV=Symbol.for("react.suspense"),lV=Symbol.for("react.memo"),uV=Symbol.for("react.lazy"),kx=Symbol.iterator;function cV(t){return t===null||typeof t!="object"?null:(t=kx&&t[kx]||t["@@iterator"],typeof t=="function"?t:null)}var sN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aN=Object.assign,lN={};function Rl(t,e,n){this.props=t,this.context=e,this.refs=lN,this.updater=n||sN}Rl.prototype.isReactComponent={};Rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uN(){}uN.prototype=Rl.prototype;function pb(t,e,n){this.props=t,this.context=e,this.refs=lN,this.updater=n||sN}var mb=pb.prototype=new uN;mb.constructor=pb;aN(mb,Rl.prototype);mb.isPureReactComponent=!0;var Mx=Array.isArray,cN=Object.prototype.hasOwnProperty,gb={current:null},fN={key:!0,ref:!0,__self:!0,__source:!0};function hN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)cN.call(e,r)&&!fN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wf,type:t,key:o,ref:s,props:i,_owner:gb.current}}function fV(t,e){return{$$typeof:Wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wf}function hV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dx=/\/+/g;function My(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hV(""+t.key):e.toString(36)}function _d(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Wf:case eV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+My(s,0):r,Mx(i)?(n="",t!=null&&(n=t.replace(Dx,"$&/")+"/"),_d(i,e,n,"",function(u){return u})):i!=null&&(yb(i)&&(i=fV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Dx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Mx(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+My(o,a);s+=_d(o,e,n,l,i)}else if(l=cV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+My(o,a++),s+=_d(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Mh(t,e,n){if(t==null)return t;var r=[],i=0;return _d(t,r,"","",function(o){return e.call(n,o,i++)}),r}function dV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},wd={transition:null},pV={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:wd,ReactCurrentOwner:gb};function dN(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Mh,forEach:function(t,e,n){Mh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mh(t,function(){e++}),e},toArray:function(t){return Mh(t,function(e){return e})||[]},only:function(t){if(!yb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Rl;xe.Fragment=tV;xe.Profiler=rV;xe.PureComponent=pb;xe.StrictMode=nV;xe.Suspense=aV;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pV;xe.act=dN;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=gb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cN.call(e,l)&&!fN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wf,type:t.type,key:i,ref:o,props:r,_owner:s}};xe.createContext=function(t){return t={$$typeof:oV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iV,_context:t},t.Consumer=t};xe.createElement=hN;xe.createFactory=function(t){var e=hN.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:sV,render:t}};xe.isValidElement=yb;xe.lazy=function(t){return{$$typeof:uV,_payload:{_status:-1,_result:t},_init:dV}};xe.memo=function(t,e){return{$$typeof:lV,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=wd.transition;wd.transition={};try{t()}finally{wd.transition=e}};xe.unstable_act=dN;xe.useCallback=function(t,e){return xn.current.useCallback(t,e)};xe.useContext=function(t){return xn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return xn.current.useEffect(t,e)};xe.useId=function(){return xn.current.useId()};xe.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return xn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};xe.useRef=function(t){return xn.current.useRef(t)};xe.useState=function(t){return xn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return xn.current.useTransition()};xe.version="18.3.1";oN.exports=xe;var $=oN.exports;const D=We($),mV=Z4({__proto__:null,default:D},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gV=$,yV=Symbol.for("react.element"),vV=Symbol.for("react.fragment"),_V=Object.prototype.hasOwnProperty,wV=gV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bV={key:!0,ref:!0,__self:!0,__source:!0};function pN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)_V.call(e,r)&&!bV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yV,type:t,key:o,ref:s,props:i,_owner:wV.current}}Lm.Fragment=vV;Lm.jsx=pN;Lm.jsxs=pN;iN.exports=Lm;var M=iN.exports,n_={},mN={exports:{}},Xn={},gN={exports:{}},yN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var Y=L.length;L.push(z);e:for(;0<Y;){var ee=Y-1>>>1,Q=L[ee];if(0<i(Q,z))L[ee]=z,L[Y]=Q,Y=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],Y=L.pop();if(Y!==z){L[0]=Y;e:for(var ee=0,Q=L.length,le=Q>>>1;ee<le;){var pe=2*(ee+1)-1,De=L[pe],Ye=pe+1,on=L[Ye];if(0>i(De,Y))Ye<Q&&0>i(on,De)?(L[ee]=on,L[Ye]=Y,ee=Ye):(L[ee]=De,L[pe]=Y,ee=pe);else if(Ye<Q&&0>i(on,Y))L[ee]=on,L[Ye]=Y,ee=Ye;else break e}}return z}function i(L,z){var Y=L.sortIndex-z.sortIndex;return Y!==0?Y:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function C(L){if(g=!1,b(L),!m)if(n(l)!==null)m=!0,W(S);else{var z=n(u);z!==null&&G(C,z.startTime-L)}}function S(L,z){m=!1,g&&(g=!1,w(x),x=-1),p=!0;var Y=d;try{for(b(z),f=n(l);f!==null&&(!(f.expirationTime>z)||L&&!O());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,d=f.priorityLevel;var Q=ee(f.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),b(z)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var pe=n(u);pe!==null&&G(C,pe.startTime-z),le=!1}return le}finally{f=null,d=Y,p=!1}}var A=!1,E=null,x=-1,P=5,I=-1;function O(){return!(t.unstable_now()-I<P)}function N(){if(E!==null){var L=t.unstable_now();I=L;var z=!0;try{z=E(!0,L)}finally{z?R():(A=!1,E=null)}}else A=!1}var R;if(typeof _=="function")R=function(){_(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=N,R=function(){U.postMessage(null)}}else R=function(){y(N,0)};function W(L){E=L,A||(A=!0,R())}function G(L,z){x=y(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,W(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var Y=d;d=z;try{return L()}finally{d=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=d;d=L;try{return z()}finally{d=Y}},t.unstable_scheduleCallback=function(L,z,Y){var ee=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ee+Y:ee):Y=ee,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,L={id:c++,callback:z,priorityLevel:L,startTime:Y,expirationTime:Q,sortIndex:-1},Y>ee?(L.sortIndex=Y,e(u,L),n(l)===null&&L===n(u)&&(g?(w(x),x=-1):g=!0,G(C,Y-ee))):(L.sortIndex=Q,e(l,L),m||p||(m=!0,W(S))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var z=d;return function(){var Y=d;d=z;try{return L.apply(this,arguments)}finally{d=Y}}}})(yN);gN.exports=yN;var EV=gN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SV=$,Yn=EV;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vN=new Set,Cc={};function Ls(t,e){Ua(t,e),Ua(t+"Capture",e)}function Ua(t,e){for(Cc[t]=e,t=0;t<e.length;t++)vN.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r_=Object.prototype.hasOwnProperty,xV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$x={},jx={};function TV(t){return r_.call(jx,t)?!0:r_.call($x,t)?!1:xV.test(t)?jx[t]=!0:($x[t]=!0,!1)}function AV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PV(t,e,n,r){if(e===null||typeof e>"u"||AV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var vb=/[\-:]([a-z])/g;function _b(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vb,_b);nn[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vb,_b);nn[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vb,_b);nn[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function wb(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PV(e,n,i,r)&&(n=null),r||i===null?TV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mi=SV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dh=Symbol.for("react.element"),la=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),bb=Symbol.for("react.strict_mode"),i_=Symbol.for("react.profiler"),_N=Symbol.for("react.provider"),wN=Symbol.for("react.context"),Eb=Symbol.for("react.forward_ref"),o_=Symbol.for("react.suspense"),s_=Symbol.for("react.suspense_list"),Sb=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),bN=Symbol.for("react.offscreen"),Lx=Symbol.iterator;function Su(t){return t===null||typeof t!="object"?null:(t=Lx&&t[Lx]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Dy;function Ku(t){if(Dy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dy=e&&e[1]||""}return`
`+Dy+t}var $y=!1;function jy(t,e){if(!t||$y)return"";$y=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{$y=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ku(t):""}function CV(t){switch(t.tag){case 5:return Ku(t.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return t=jy(t.type,!1),t;case 11:return t=jy(t.type.render,!1),t;case 1:return t=jy(t.type,!0),t;default:return""}}function a_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ua:return"Fragment";case la:return"Portal";case i_:return"Profiler";case bb:return"StrictMode";case o_:return"Suspense";case s_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wN:return(t.displayName||"Context")+".Consumer";case _N:return(t._context.displayName||"Context")+".Provider";case Eb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sb:return e=t.displayName||null,e!==null?e:a_(t.type)||"Memo";case Ki:e=t._payload,t=t._init;try{return a_(t(e))}catch{}}return null}function OV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a_(e);case 8:return e===bb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IV(t){var e=EN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $h(t){t._valueTracker||(t._valueTracker=IV(t))}function SN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function l_(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xN(t,e){e=e.checked,e!=null&&wb(t,"checked",e,!1)}function u_(t,e){xN(t,e);var n=xo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?c_(t,e.type,n):e.hasOwnProperty("defaultValue")&&c_(t,e.type,xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function c_(t,e,n){(e!=="number"||Bd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yu=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function f_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Yu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xo(n)}}function TN(t,e){var n=xo(e.value),r=xo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ux(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function h_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jh,PN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jh=jh||document.createElement("div"),jh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RV=["Webkit","ms","Moz","O"];Object.keys(ic).forEach(function(t){RV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ic[e]=ic[t]})});function CN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ic.hasOwnProperty(t)&&ic[t]?(""+e).trim():e+"px"}function ON(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=CN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NV=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d_(t,e){if(e){if(NV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function p_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m_=null;function xb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var g_=null,Ta=null,Aa=null;function zx(t){if(t=Gf(t)){if(typeof g_!="function")throw Error(X(280));var e=t.stateNode;e&&(e=zm(e),g_(t.stateNode,t.type,e))}}function IN(t){Ta?Aa?Aa.push(t):Aa=[t]:Ta=t}function RN(){if(Ta){var t=Ta,e=Aa;if(Aa=Ta=null,zx(t),e)for(t=0;t<e.length;t++)zx(e[t])}}function NN(t,e){return t(e)}function kN(){}var Ly=!1;function MN(t,e,n){if(Ly)return t(e,n);Ly=!0;try{return NN(t,e,n)}finally{Ly=!1,(Ta!==null||Aa!==null)&&(kN(),RN())}}function Ic(t,e){var n=t.stateNode;if(n===null)return null;var r=zm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var y_=!1;if(Ei)try{var xu={};Object.defineProperty(xu,"passive",{get:function(){y_=!0}}),window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{y_=!1}function kV(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var oc=!1,Ud=null,zd=!1,v_=null,MV={onError:function(t){oc=!0,Ud=t}};function DV(t,e,n,r,i,o,s,a,l){oc=!1,Ud=null,kV.apply(MV,arguments)}function $V(t,e,n,r,i,o,s,a,l){if(DV.apply(this,arguments),oc){if(oc){var u=Ud;oc=!1,Ud=null}else throw Error(X(198));zd||(zd=!0,v_=u)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wx(t){if(Fs(t)!==t)throw Error(X(188))}function jV(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Wx(i),t;if(o===r)return Wx(i),e;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function $N(t){return t=jV(t),t!==null?jN(t):null}function jN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jN(t);if(e!==null)return e;t=t.sibling}return null}var LN=Yn.unstable_scheduleCallback,qx=Yn.unstable_cancelCallback,LV=Yn.unstable_shouldYield,FV=Yn.unstable_requestPaint,_t=Yn.unstable_now,VV=Yn.unstable_getCurrentPriorityLevel,Tb=Yn.unstable_ImmediatePriority,FN=Yn.unstable_UserBlockingPriority,Wd=Yn.unstable_NormalPriority,BV=Yn.unstable_LowPriority,VN=Yn.unstable_IdlePriority,Fm=null,Kr=null;function UV(t){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Fm,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:qV,zV=Math.log,WV=Math.LN2;function qV(t){return t>>>=0,t===0?32:31-(zV(t)/WV|0)|0}var Lh=64,Fh=4194304;function Qu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Qu(a):(o&=s,o!==0&&(r=Qu(o)))}else s=n&~i,s!==0?r=Qu(s):o!==0&&(r=Qu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),i=1<<n,r|=t[n],e&=~i;return r}function HV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Nr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=HV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function __(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BN(){var t=Lh;return Lh<<=1,!(Lh&4194240)&&(Lh=64),t}function Fy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function KV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ab(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function UN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zN,Pb,WN,qN,HN,w_=!1,Vh=[],so=null,ao=null,lo=null,Rc=new Map,Nc=new Map,Xi=[],YV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hx(t,e){switch(t){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(e.pointerId)}}function Tu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Gf(e),e!==null&&Pb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QV(t,e,n,r,i){switch(e){case"focusin":return so=Tu(so,t,e,n,r,i),!0;case"dragenter":return ao=Tu(ao,t,e,n,r,i),!0;case"mouseover":return lo=Tu(lo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rc.set(o,Tu(Rc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nc.set(o,Tu(Nc.get(o)||null,t,e,n,r,i)),!0}return!1}function GN(t){var e=is(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=DN(n),e!==null){t.blockedOn=e,HN(t.priority,function(){WN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=b_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);m_=r,n.target.dispatchEvent(r),m_=null}else return e=Gf(n),e!==null&&Pb(e),t.blockedOn=n,!1;e.shift()}return!0}function Gx(t,e,n){bd(t)&&n.delete(e)}function XV(){w_=!1,so!==null&&bd(so)&&(so=null),ao!==null&&bd(ao)&&(ao=null),lo!==null&&bd(lo)&&(lo=null),Rc.forEach(Gx),Nc.forEach(Gx)}function Au(t,e){t.blockedOn===e&&(t.blockedOn=null,w_||(w_=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,XV)))}function kc(t){function e(i){return Au(i,t)}if(0<Vh.length){Au(Vh[0],t);for(var n=1;n<Vh.length;n++){var r=Vh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(so!==null&&Au(so,t),ao!==null&&Au(ao,t),lo!==null&&Au(lo,t),Rc.forEach(e),Nc.forEach(e),n=0;n<Xi.length;n++)r=Xi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xi.length&&(n=Xi[0],n.blockedOn===null);)GN(n),n.blockedOn===null&&Xi.shift()}var Pa=Mi.ReactCurrentBatchConfig,Hd=!0;function JV(t,e,n,r){var i=Le,o=Pa.transition;Pa.transition=null;try{Le=1,Cb(t,e,n,r)}finally{Le=i,Pa.transition=o}}function ZV(t,e,n,r){var i=Le,o=Pa.transition;Pa.transition=null;try{Le=4,Cb(t,e,n,r)}finally{Le=i,Pa.transition=o}}function Cb(t,e,n,r){if(Hd){var i=b_(t,e,n,r);if(i===null)Yy(t,e,r,Gd,n),Hx(t,r);else if(QV(i,t,e,n,r))r.stopPropagation();else if(Hx(t,r),e&4&&-1<YV.indexOf(t)){for(;i!==null;){var o=Gf(i);if(o!==null&&zN(o),o=b_(t,e,n,r),o===null&&Yy(t,e,r,Gd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Yy(t,e,r,null,n)}}var Gd=null;function b_(t,e,n,r){if(Gd=null,t=xb(r),t=is(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gd=t,null}function KN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VV()){case Tb:return 1;case FN:return 4;case Wd:case BV:return 16;case VN:return 536870912;default:return 16}default:return 16}}var eo=null,Ob=null,Ed=null;function YN(){if(Ed)return Ed;var t,e=Ob,n=e.length,r,i="value"in eo?eo.value:eo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ed=i.slice(t,1<r?1-r:void 0)}function Sd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bh(){return!0}function Kx(){return!1}function Jn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bh:Kx,this.isPropagationStopped=Kx,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bh)},persist:function(){},isPersistent:Bh}),e}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ib=Jn(Nl),Hf=ht({},Nl,{view:0,detail:0}),e3=Jn(Hf),Vy,By,Pu,Vm=ht({},Hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pu&&(Pu&&t.type==="mousemove"?(Vy=t.screenX-Pu.screenX,By=t.screenY-Pu.screenY):By=Vy=0,Pu=t),Vy)},movementY:function(t){return"movementY"in t?t.movementY:By}}),Yx=Jn(Vm),t3=ht({},Vm,{dataTransfer:0}),n3=Jn(t3),r3=ht({},Hf,{relatedTarget:0}),Uy=Jn(r3),i3=ht({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),o3=Jn(i3),s3=ht({},Nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),a3=Jn(s3),l3=ht({},Nl,{data:0}),Qx=Jn(l3),u3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=f3[t])?!!e[t]:!1}function Rb(){return h3}var d3=ht({},Hf,{key:function(t){if(t.key){var e=u3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rb,charCode:function(t){return t.type==="keypress"?Sd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p3=Jn(d3),m3=ht({},Vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xx=Jn(m3),g3=ht({},Hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rb}),y3=Jn(g3),v3=ht({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_3=Jn(v3),w3=ht({},Vm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b3=Jn(w3),E3=[9,13,27,32],Nb=Ei&&"CompositionEvent"in window,sc=null;Ei&&"documentMode"in document&&(sc=document.documentMode);var S3=Ei&&"TextEvent"in window&&!sc,QN=Ei&&(!Nb||sc&&8<sc&&11>=sc),Jx=" ",Zx=!1;function XN(t,e){switch(t){case"keyup":return E3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function x3(t,e){switch(t){case"compositionend":return JN(e);case"keypress":return e.which!==32?null:(Zx=!0,Jx);case"textInput":return t=e.data,t===Jx&&Zx?null:t;default:return null}}function T3(t,e){if(ca)return t==="compositionend"||!Nb&&XN(t,e)?(t=YN(),Ed=Ob=eo=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QN&&e.locale!=="ko"?null:e.data;default:return null}}var A3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!A3[t.type]:e==="textarea"}function ZN(t,e,n,r){IN(r),e=Kd(e,"onChange"),0<e.length&&(n=new Ib("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ac=null,Mc=null;function P3(t){ck(t,0)}function Bm(t){var e=da(t);if(SN(e))return t}function C3(t,e){if(t==="change")return e}var ek=!1;if(Ei){var zy;if(Ei){var Wy="oninput"in document;if(!Wy){var tT=document.createElement("div");tT.setAttribute("oninput","return;"),Wy=typeof tT.oninput=="function"}zy=Wy}else zy=!1;ek=zy&&(!document.documentMode||9<document.documentMode)}function nT(){ac&&(ac.detachEvent("onpropertychange",tk),Mc=ac=null)}function tk(t){if(t.propertyName==="value"&&Bm(Mc)){var e=[];ZN(e,Mc,t,xb(t)),MN(P3,e)}}function O3(t,e,n){t==="focusin"?(nT(),ac=e,Mc=n,ac.attachEvent("onpropertychange",tk)):t==="focusout"&&nT()}function I3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bm(Mc)}function R3(t,e){if(t==="click")return Bm(e)}function N3(t,e){if(t==="input"||t==="change")return Bm(e)}function k3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:k3;function Dc(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!r_.call(e,i)||!Dr(t[i],e[i]))return!1}return!0}function rT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iT(t,e){var n=rT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rT(n)}}function nk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rk(){for(var t=window,e=Bd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bd(t.document)}return e}function kb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M3(t){var e=rk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nk(n.ownerDocument.documentElement,n)){if(r!==null&&kb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=iT(n,o);var s=iT(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D3=Ei&&"documentMode"in document&&11>=document.documentMode,fa=null,E_=null,lc=null,S_=!1;function oT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;S_||fa==null||fa!==Bd(r)||(r=fa,"selectionStart"in r&&kb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lc&&Dc(lc,r)||(lc=r,r=Kd(E_,"onSelect"),0<r.length&&(e=new Ib("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fa)))}function Uh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ha={animationend:Uh("Animation","AnimationEnd"),animationiteration:Uh("Animation","AnimationIteration"),animationstart:Uh("Animation","AnimationStart"),transitionend:Uh("Transition","TransitionEnd")},qy={},ik={};Ei&&(ik=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Um(t){if(qy[t])return qy[t];if(!ha[t])return t;var e=ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ik)return qy[t]=e[n];return t}var ok=Um("animationend"),sk=Um("animationiteration"),ak=Um("animationstart"),lk=Um("transitionend"),uk=new Map,sT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(t,e){uk.set(t,e),Ls(e,[t])}for(var Hy=0;Hy<sT.length;Hy++){var Gy=sT[Hy],$3=Gy.toLowerCase(),j3=Gy[0].toUpperCase()+Gy.slice(1);Mo($3,"on"+j3)}Mo(ok,"onAnimationEnd");Mo(sk,"onAnimationIteration");Mo(ak,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(lk,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function aT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$V(r,e,void 0,t),t.currentTarget=null}function ck(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;aT(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;aT(i,a,u),o=l}}}if(zd)throw t=v_,zd=!1,v_=null,t}function Xe(t,e){var n=e[C_];n===void 0&&(n=e[C_]=new Set);var r=t+"__bubble";n.has(r)||(fk(e,t,2,!1),n.add(r))}function Ky(t,e,n){var r=0;e&&(r|=4),fk(n,t,r,e)}var zh="_reactListening"+Math.random().toString(36).slice(2);function $c(t){if(!t[zh]){t[zh]=!0,vN.forEach(function(n){n!=="selectionchange"&&(L3.has(n)||Ky(n,!1,t),Ky(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zh]||(e[zh]=!0,Ky("selectionchange",!1,e))}}function fk(t,e,n,r){switch(KN(e)){case 1:var i=JV;break;case 4:i=ZV;break;default:i=Cb}n=i.bind(null,e,n,t),i=void 0,!y_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=is(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}MN(function(){var u=o,c=xb(n),f=[];e:{var d=uk.get(t);if(d!==void 0){var p=Ib,m=t;switch(t){case"keypress":if(Sd(n)===0)break e;case"keydown":case"keyup":p=p3;break;case"focusin":m="focus",p=Uy;break;case"focusout":m="blur",p=Uy;break;case"beforeblur":case"afterblur":p=Uy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=n3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=y3;break;case ok:case sk:case ak:p=o3;break;case lk:p=_3;break;case"scroll":p=e3;break;case"wheel":p=b3;break;case"copy":case"cut":case"paste":p=a3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xx}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?d!==null?d+"Capture":null:d;g=[];for(var _=u,b;_!==null;){b=_;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,w!==null&&(C=Ic(_,w),C!=null&&g.push(jc(_,C,b)))),y)break;_=_.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==m_&&(m=n.relatedTarget||n.fromElement)&&(is(m)||m[Si]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?is(m):null,m!==null&&(y=Fs(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=Yx,C="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=Xx,C="onPointerLeave",w="onPointerEnter",_="pointer"),y=p==null?d:da(p),b=m==null?d:da(m),d=new g(C,_+"leave",p,n,c),d.target=y,d.relatedTarget=b,C=null,is(c)===u&&(g=new g(w,_+"enter",m,n,c),g.target=b,g.relatedTarget=y,C=g),y=C,p&&m)t:{for(g=p,w=m,_=0,b=g;b;b=Qs(b))_++;for(b=0,C=w;C;C=Qs(C))b++;for(;0<_-b;)g=Qs(g),_--;for(;0<b-_;)w=Qs(w),b--;for(;_--;){if(g===w||w!==null&&g===w.alternate)break t;g=Qs(g),w=Qs(w)}g=null}else g=null;p!==null&&lT(f,d,p,g,!1),m!==null&&y!==null&&lT(f,y,m,g,!0)}}e:{if(d=u?da(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=C3;else if(eT(d))if(ek)S=N3;else{S=I3;var A=O3}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=R3);if(S&&(S=S(t,u))){ZN(f,S,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&c_(d,"number",d.value)}switch(A=u?da(u):window,t){case"focusin":(eT(A)||A.contentEditable==="true")&&(fa=A,E_=u,lc=null);break;case"focusout":lc=E_=fa=null;break;case"mousedown":S_=!0;break;case"contextmenu":case"mouseup":case"dragend":S_=!1,oT(f,n,c);break;case"selectionchange":if(D3)break;case"keydown":case"keyup":oT(f,n,c)}var E;if(Nb)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ca?XN(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(QN&&n.locale!=="ko"&&(ca||x!=="onCompositionStart"?x==="onCompositionEnd"&&ca&&(E=YN()):(eo=c,Ob="value"in eo?eo.value:eo.textContent,ca=!0)),A=Kd(u,x),0<A.length&&(x=new Qx(x,t,null,n,c),f.push({event:x,listeners:A}),E?x.data=E:(E=JN(n),E!==null&&(x.data=E)))),(E=S3?x3(t,n):T3(t,n))&&(u=Kd(u,"onBeforeInput"),0<u.length&&(c=new Qx("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}ck(f,e)})}function jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ic(t,n),o!=null&&r.unshift(jc(t,o,i)),o=Ic(t,e),o!=null&&r.push(jc(t,o,i))),t=t.return}return r}function Qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lT(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ic(n,o),l!=null&&s.unshift(jc(n,l,a))):i||(l=Ic(n,o),l!=null&&s.push(jc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var F3=/\r\n?/g,V3=/\u0000|\uFFFD/g;function uT(t){return(typeof t=="string"?t:""+t).replace(F3,`
`).replace(V3,"")}function Wh(t,e,n){if(e=uT(e),uT(t)!==e&&n)throw Error(X(425))}function Yd(){}var x_=null,T_=null;function A_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var P_=typeof setTimeout=="function"?setTimeout:void 0,B3=typeof clearTimeout=="function"?clearTimeout:void 0,cT=typeof Promise=="function"?Promise:void 0,U3=typeof queueMicrotask=="function"?queueMicrotask:typeof cT<"u"?function(t){return cT.resolve(null).then(t).catch(z3)}:P_;function z3(t){setTimeout(function(){throw t})}function Qy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kc(e)}function uo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kl=Math.random().toString(36).slice(2),qr="__reactFiber$"+kl,Lc="__reactProps$"+kl,Si="__reactContainer$"+kl,C_="__reactEvents$"+kl,W3="__reactListeners$"+kl,q3="__reactHandles$"+kl;function is(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fT(t);t!==null;){if(n=t[qr])return n;t=fT(t)}return e}t=n,n=t.parentNode}return null}function Gf(t){return t=t[qr]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function zm(t){return t[Lc]||null}var O_=[],pa=-1;function Do(t){return{current:t}}function tt(t){0>pa||(t.current=O_[pa],O_[pa]=null,pa--)}function Ke(t,e){pa++,O_[pa]=t.current,t.current=e}var To={},_n=Do(To),Nn=Do(!1),Es=To;function za(t,e){var n=t.type.contextTypes;if(!n)return To;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function Qd(){tt(Nn),tt(_n)}function hT(t,e,n){if(_n.current!==To)throw Error(X(168));Ke(_n,e),Ke(Nn,n)}function hk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,OV(t)||"Unknown",i));return ht({},n,r)}function Xd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||To,Es=_n.current,Ke(_n,t),Ke(Nn,Nn.current),!0}function dT(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=hk(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,tt(Nn),tt(_n),Ke(_n,t)):tt(Nn),Ke(Nn,n)}var ui=null,Wm=!1,Xy=!1;function dk(t){ui===null?ui=[t]:ui.push(t)}function H3(t){Wm=!0,dk(t)}function $o(){if(!Xy&&ui!==null){Xy=!0;var t=0,e=Le;try{var n=ui;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,Wm=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),LN(Tb,$o),i}finally{Le=e,Xy=!1}}return null}var ma=[],ga=0,Jd=null,Zd=0,rr=[],ir=0,Ss=null,ci=1,fi="";function Xo(t,e){ma[ga++]=Zd,ma[ga++]=Jd,Jd=t,Zd=e}function pk(t,e,n){rr[ir++]=ci,rr[ir++]=fi,rr[ir++]=Ss,Ss=t;var r=ci;t=fi;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var o=32-Nr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ci=1<<32-Nr(e)+i|n<<i|r,fi=o+t}else ci=1<<o|n<<i|r,fi=t}function Mb(t){t.return!==null&&(Xo(t,1),pk(t,1,0))}function Db(t){for(;t===Jd;)Jd=ma[--ga],ma[ga]=null,Zd=ma[--ga],ma[ga]=null;for(;t===Ss;)Ss=rr[--ir],rr[ir]=null,fi=rr[--ir],rr[ir]=null,ci=rr[--ir],rr[ir]=null}var Kn=null,Gn=null,nt=!1,xr=null;function mk(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Gn=uo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:ci,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Gn=null,!0):!1;default:return!1}}function I_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function R_(t){if(nt){var e=Gn;if(e){var n=e;if(!pT(t,e)){if(I_(t))throw Error(X(418));e=uo(n.nextSibling);var r=Kn;e&&pT(t,e)?mk(r,n):(t.flags=t.flags&-4097|2,nt=!1,Kn=t)}}else{if(I_(t))throw Error(X(418));t.flags=t.flags&-4097|2,nt=!1,Kn=t}}}function mT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function qh(t){if(t!==Kn)return!1;if(!nt)return mT(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!A_(t.type,t.memoizedProps)),e&&(e=Gn)){if(I_(t))throw gk(),Error(X(418));for(;e;)mk(t,e),e=uo(e.nextSibling)}if(mT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gn=uo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gn=null}}else Gn=Kn?uo(t.stateNode.nextSibling):null;return!0}function gk(){for(var t=Gn;t;)t=uo(t.nextSibling)}function Wa(){Gn=Kn=null,nt=!1}function $b(t){xr===null?xr=[t]:xr.push(t)}var G3=Mi.ReactCurrentBatchConfig;function Cu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Hh(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gT(t){var e=t._init;return e(t._payload)}function yk(t){function e(w,_){if(t){var b=w.deletions;b===null?(w.deletions=[_],w.flags|=16):b.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=po(w,_),w.index=0,w.sibling=null,w}function o(w,_,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<_?(w.flags|=2,_):b):(w.flags|=2,_)):(w.flags|=1048576,_)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,b,C){return _===null||_.tag!==6?(_=iv(b,w.mode,C),_.return=w,_):(_=i(_,b),_.return=w,_)}function l(w,_,b,C){var S=b.type;return S===ua?c(w,_,b.props.children,C,b.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ki&&gT(S)===_.type)?(C=i(_,b.props),C.ref=Cu(w,_,b),C.return=w,C):(C=Id(b.type,b.key,b.props,null,w.mode,C),C.ref=Cu(w,_,b),C.return=w,C)}function u(w,_,b,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=ov(b,w.mode,C),_.return=w,_):(_=i(_,b.children||[]),_.return=w,_)}function c(w,_,b,C,S){return _===null||_.tag!==7?(_=gs(b,w.mode,C,S),_.return=w,_):(_=i(_,b),_.return=w,_)}function f(w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=iv(""+_,w.mode,b),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Dh:return b=Id(_.type,_.key,_.props,null,w.mode,b),b.ref=Cu(w,null,_),b.return=w,b;case la:return _=ov(_,w.mode,b),_.return=w,_;case Ki:var C=_._init;return f(w,C(_._payload),b)}if(Yu(_)||Su(_))return _=gs(_,w.mode,b,null),_.return=w,_;Hh(w,_)}return null}function d(w,_,b,C){var S=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(w,_,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dh:return b.key===S?l(w,_,b,C):null;case la:return b.key===S?u(w,_,b,C):null;case Ki:return S=b._init,d(w,_,S(b._payload),C)}if(Yu(b)||Su(b))return S!==null?null:c(w,_,b,C,null);Hh(w,b)}return null}function p(w,_,b,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(b)||null,a(_,w,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Dh:return w=w.get(C.key===null?b:C.key)||null,l(_,w,C,S);case la:return w=w.get(C.key===null?b:C.key)||null,u(_,w,C,S);case Ki:var A=C._init;return p(w,_,b,A(C._payload),S)}if(Yu(C)||Su(C))return w=w.get(b)||null,c(_,w,C,S,null);Hh(_,C)}return null}function m(w,_,b,C){for(var S=null,A=null,E=_,x=_=0,P=null;E!==null&&x<b.length;x++){E.index>x?(P=E,E=null):P=E.sibling;var I=d(w,E,b[x],C);if(I===null){E===null&&(E=P);break}t&&E&&I.alternate===null&&e(w,E),_=o(I,_,x),A===null?S=I:A.sibling=I,A=I,E=P}if(x===b.length)return n(w,E),nt&&Xo(w,x),S;if(E===null){for(;x<b.length;x++)E=f(w,b[x],C),E!==null&&(_=o(E,_,x),A===null?S=E:A.sibling=E,A=E);return nt&&Xo(w,x),S}for(E=r(w,E);x<b.length;x++)P=p(E,w,x,b[x],C),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?x:P.key),_=o(P,_,x),A===null?S=P:A.sibling=P,A=P);return t&&E.forEach(function(O){return e(w,O)}),nt&&Xo(w,x),S}function g(w,_,b,C){var S=Su(b);if(typeof S!="function")throw Error(X(150));if(b=S.call(b),b==null)throw Error(X(151));for(var A=S=null,E=_,x=_=0,P=null,I=b.next();E!==null&&!I.done;x++,I=b.next()){E.index>x?(P=E,E=null):P=E.sibling;var O=d(w,E,I.value,C);if(O===null){E===null&&(E=P);break}t&&E&&O.alternate===null&&e(w,E),_=o(O,_,x),A===null?S=O:A.sibling=O,A=O,E=P}if(I.done)return n(w,E),nt&&Xo(w,x),S;if(E===null){for(;!I.done;x++,I=b.next())I=f(w,I.value,C),I!==null&&(_=o(I,_,x),A===null?S=I:A.sibling=I,A=I);return nt&&Xo(w,x),S}for(E=r(w,E);!I.done;x++,I=b.next())I=p(E,w,x,I.value,C),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?x:I.key),_=o(I,_,x),A===null?S=I:A.sibling=I,A=I);return t&&E.forEach(function(N){return e(w,N)}),nt&&Xo(w,x),S}function y(w,_,b,C){if(typeof b=="object"&&b!==null&&b.type===ua&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Dh:e:{for(var S=b.key,A=_;A!==null;){if(A.key===S){if(S=b.type,S===ua){if(A.tag===7){n(w,A.sibling),_=i(A,b.props.children),_.return=w,w=_;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ki&&gT(S)===A.type){n(w,A.sibling),_=i(A,b.props),_.ref=Cu(w,A,b),_.return=w,w=_;break e}n(w,A);break}else e(w,A);A=A.sibling}b.type===ua?(_=gs(b.props.children,w.mode,C,b.key),_.return=w,w=_):(C=Id(b.type,b.key,b.props,null,w.mode,C),C.ref=Cu(w,_,b),C.return=w,w=C)}return s(w);case la:e:{for(A=b.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(w,_.sibling),_=i(_,b.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=ov(b,w.mode,C),_.return=w,w=_}return s(w);case Ki:return A=b._init,y(w,_,A(b._payload),C)}if(Yu(b))return m(w,_,b,C);if(Su(b))return g(w,_,b,C);Hh(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,b),_.return=w,w=_):(n(w,_),_=iv(b,w.mode,C),_.return=w,w=_),s(w)):n(w,_)}return y}var qa=yk(!0),vk=yk(!1),ep=Do(null),tp=null,ya=null,jb=null;function Lb(){jb=ya=tp=null}function Fb(t){var e=ep.current;tt(ep),t._currentValue=e}function N_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ca(t,e){tp=t,jb=ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cn=!0),t.firstContext=null)}function fr(t){var e=t._currentValue;if(jb!==t)if(t={context:t,memoizedValue:e,next:null},ya===null){if(tp===null)throw Error(X(308));ya=t,tp.dependencies={lanes:0,firstContext:t}}else ya=ya.next=t;return e}var os=null;function Vb(t){os===null?os=[t]:os.push(t)}function _k(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vb(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yi=!1;function Bb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function co(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,Vb(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function xd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ab(t,n)}}function yT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function np(t,e,n,r){var i=t.updateQueue;Yi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=ht({},f,d);break e;case 2:Yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ts|=s,t.lanes=s,t.memoizedState=f}}function vT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var Kf={},Yr=Do(Kf),Fc=Do(Kf),Vc=Do(Kf);function ss(t){if(t===Kf)throw Error(X(174));return t}function Ub(t,e){switch(Ke(Vc,e),Ke(Fc,t),Ke(Yr,Kf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:h_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=h_(e,t)}tt(Yr),Ke(Yr,e)}function Ha(){tt(Yr),tt(Fc),tt(Vc)}function bk(t){ss(Vc.current);var e=ss(Yr.current),n=h_(e,t.type);e!==n&&(Ke(Fc,t),Ke(Yr,n))}function zb(t){Fc.current===t&&(tt(Yr),tt(Fc))}var lt=Do(0);function rp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jy=[];function Wb(){for(var t=0;t<Jy.length;t++)Jy[t]._workInProgressVersionPrimary=null;Jy.length=0}var Td=Mi.ReactCurrentDispatcher,Zy=Mi.ReactCurrentBatchConfig,xs=0,ut=null,Nt=null,Wt=null,ip=!1,uc=!1,Bc=0,K3=0;function sn(){throw Error(X(321))}function qb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function Hb(t,e,n,r,i,o){if(xs=o,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?J3:Z3,t=n(r,i),uc){o=0;do{if(uc=!1,Bc=0,25<=o)throw Error(X(301));o+=1,Wt=Nt=null,e.updateQueue=null,Td.current=eB,t=n(r,i)}while(uc)}if(Td.current=op,e=Nt!==null&&Nt.next!==null,xs=0,Wt=Nt=ut=null,ip=!1,e)throw Error(X(300));return t}function Gb(){var t=Bc!==0;return Bc=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?ut.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function hr(){if(Nt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Wt===null?ut.memoizedState:Wt.next;if(e!==null)Wt=e,Nt=t;else{if(t===null)throw Error(X(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Wt===null?ut.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Uc(t,e){return typeof e=="function"?e(t):e}function ev(t){var e=hr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((xs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ut.lanes|=c,Ts|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Dr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ut.lanes|=o,Ts|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tv(t){var e=hr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Dr(o,e.memoizedState)||(Cn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Ek(){}function Sk(t,e){var n=ut,r=hr(),i=e(),o=!Dr(r.memoizedState,i);if(o&&(r.memoizedState=i,Cn=!0),r=r.queue,Kb(Ak.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,zc(9,Tk.bind(null,n,r,i,e),void 0,null),Kt===null)throw Error(X(349));xs&30||xk(n,e,i)}return i}function xk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Tk(t,e,n,r){e.value=n,e.getSnapshot=r,Pk(e)&&Ck(t)}function Ak(t,e,n){return n(function(){Pk(e)&&Ck(t)})}function Pk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function Ck(t){var e=xi(t,1);e!==null&&kr(e,t,1,-1)}function _T(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:t},e.queue=t,t=t.dispatch=X3.bind(null,ut,t),[e.memoizedState,t]}function zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ok(){return hr().memoizedState}function Ad(t,e,n,r){var i=zr();ut.flags|=t,i.memoizedState=zc(1|e,n,void 0,r===void 0?null:r)}function qm(t,e,n,r){var i=hr();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var s=Nt.memoizedState;if(o=s.destroy,r!==null&&qb(r,s.deps)){i.memoizedState=zc(e,n,o,r);return}}ut.flags|=t,i.memoizedState=zc(1|e,n,o,r)}function wT(t,e){return Ad(8390656,8,t,e)}function Kb(t,e){return qm(2048,8,t,e)}function Ik(t,e){return qm(4,2,t,e)}function Rk(t,e){return qm(4,4,t,e)}function Nk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kk(t,e,n){return n=n!=null?n.concat([t]):null,qm(4,4,Nk.bind(null,e,t),n)}function Yb(){}function Mk(t,e){var n=hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Dk(t,e){var n=hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $k(t,e,n){return xs&21?(Dr(n,e)||(n=BN(),ut.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=n)}function Y3(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Zy.transition;Zy.transition={};try{t(!1),e()}finally{Le=n,Zy.transition=r}}function jk(){return hr().memoizedState}function Q3(t,e,n){var r=ho(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lk(t))Fk(e,n);else if(n=_k(t,e,n,r),n!==null){var i=Sn();kr(n,t,r,i),Vk(n,e,r)}}function X3(t,e,n){var r=ho(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lk(t))Fk(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Dr(a,s)){var l=e.interleaved;l===null?(i.next=i,Vb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_k(t,e,i,r),n!==null&&(i=Sn(),kr(n,t,r,i),Vk(n,e,r))}}function Lk(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function Fk(t,e){uc=ip=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ab(t,n)}}var op={readContext:fr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},J3={readContext:fr,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:fr,useEffect:wT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ad(4194308,4,Nk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ad(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Q3.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:_T,useDebugValue:Yb,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=_T(!1),e=t[0];return t=Y3.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=zr();if(nt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Kt===null)throw Error(X(349));xs&30||xk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,wT(Ak.bind(null,r,o,t),[t]),r.flags|=2048,zc(9,Tk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=zr(),e=Kt.identifierPrefix;if(nt){var n=fi,r=ci;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z3={readContext:fr,useCallback:Mk,useContext:fr,useEffect:Kb,useImperativeHandle:kk,useInsertionEffect:Ik,useLayoutEffect:Rk,useMemo:Dk,useReducer:ev,useRef:Ok,useState:function(){return ev(Uc)},useDebugValue:Yb,useDeferredValue:function(t){var e=hr();return $k(e,Nt.memoizedState,t)},useTransition:function(){var t=ev(Uc)[0],e=hr().memoizedState;return[t,e]},useMutableSource:Ek,useSyncExternalStore:Sk,useId:jk,unstable_isNewReconciler:!1},eB={readContext:fr,useCallback:Mk,useContext:fr,useEffect:Kb,useImperativeHandle:kk,useInsertionEffect:Ik,useLayoutEffect:Rk,useMemo:Dk,useReducer:tv,useRef:Ok,useState:function(){return tv(Uc)},useDebugValue:Yb,useDeferredValue:function(t){var e=hr();return Nt===null?e.memoizedState=t:$k(e,Nt.memoizedState,t)},useTransition:function(){var t=tv(Uc)[0],e=hr().memoizedState;return[t,e]},useMutableSource:Ek,useSyncExternalStore:Sk,useId:jk,unstable_isNewReconciler:!1};function _r(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function k_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hm={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=ho(t),o=yi(r,i);o.payload=e,n!=null&&(o.callback=n),e=co(t,o,i),e!==null&&(kr(e,t,i,r),xd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=ho(t),o=yi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=co(t,o,i),e!==null&&(kr(e,t,i,r),xd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=ho(t),i=yi(n,r);i.tag=2,e!=null&&(i.callback=e),e=co(t,i,r),e!==null&&(kr(e,t,r,n),xd(e,t,r))}};function bT(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Dc(n,r)||!Dc(i,o):!0}function Bk(t,e,n){var r=!1,i=To,o=e.contextType;return typeof o=="object"&&o!==null?o=fr(o):(i=kn(e)?Es:_n.current,r=e.contextTypes,o=(r=r!=null)?za(t,i):To),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ET(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hm.enqueueReplaceState(e,e.state,null)}function M_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=fr(o):(o=kn(e)?Es:_n.current,i.context=za(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(k_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hm.enqueueReplaceState(i,i.state,null),np(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ga(t,e){try{var n="",r=e;do n+=CV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function nv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function D_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tB=typeof WeakMap=="function"?WeakMap:Map;function Uk(t,e,n){n=yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ap||(ap=!0,q_=r),D_(t,e)},n}function zk(t,e,n){n=yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){D_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){D_(t,e),typeof r!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ST(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mB.bind(null,t,e,n),e.then(t,t))}function xT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yi(-1,1),e.tag=2,co(n,e,1))),n.lanes|=1),t)}var nB=Mi.ReactCurrentOwner,Cn=!1;function bn(t,e,n,r){e.child=t===null?vk(e,null,n,r):qa(e,t.child,n,r)}function AT(t,e,n,r,i){n=n.render;var o=e.ref;return Ca(e,i),r=Hb(t,e,n,r,o,i),n=Gb(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(nt&&n&&Mb(e),e.flags|=1,bn(t,e,r,i),e.child)}function PT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!rE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Wk(t,e,o,r,i)):(t=Id(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Dc,n(s,r)&&t.ref===e.ref)return Ti(t,e,i)}return e.flags|=1,t=po(o,r),t.ref=e.ref,t.return=e,e.child=t}function Wk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Dc(o,r)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Cn=!0);else return e.lanes=t.lanes,Ti(t,e,i)}return $_(t,e,n,r,i)}function qk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(_a,Wn),Wn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(_a,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke(_a,Wn),Wn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ke(_a,Wn),Wn|=r;return bn(t,e,i,n),e.child}function Hk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $_(t,e,n,r,i){var o=kn(n)?Es:_n.current;return o=za(e,o),Ca(e,i),n=Hb(t,e,n,r,o,i),r=Gb(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(nt&&r&&Mb(e),e.flags|=1,bn(t,e,n,i),e.child)}function CT(t,e,n,r,i){if(kn(n)){var o=!0;Xd(e)}else o=!1;if(Ca(e,i),e.stateNode===null)Pd(t,e),Bk(e,n,r),M_(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=fr(u):(u=kn(n)?Es:_n.current,u=za(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ET(e,s,r,u),Yi=!1;var d=e.memoizedState;s.state=d,np(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Nn.current||Yi?(typeof c=="function"&&(k_(e,n,c,r),l=e.memoizedState),(a=Yi||bT(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,wk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_r(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=fr(l):(l=kn(n)?Es:_n.current,l=za(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&ET(e,s,r,l),Yi=!1,d=e.memoizedState,s.state=d,np(e,r,s,i);var m=e.memoizedState;a!==f||d!==m||Nn.current||Yi?(typeof p=="function"&&(k_(e,n,p,r),m=e.memoizedState),(u=Yi||bT(e,n,u,r,d,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return j_(t,e,n,r,o,i)}function j_(t,e,n,r,i,o){Hk(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&dT(e,n,!1),Ti(t,e,o);r=e.stateNode,nB.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=qa(e,t.child,null,o),e.child=qa(e,null,a,o)):bn(t,e,a,o),e.memoizedState=r.state,i&&dT(e,n,!0),e.child}function Gk(t){var e=t.stateNode;e.pendingContext?hT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hT(t,e.context,!1),Ub(t,e.containerInfo)}function OT(t,e,n,r,i){return Wa(),$b(i),e.flags|=256,bn(t,e,n,r),e.child}var L_={dehydrated:null,treeContext:null,retryLane:0};function F_(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kk(t,e,n){var r=e.pendingProps,i=lt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(lt,i&1),t===null)return R_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ym(s,r,0,null),t=gs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=F_(n),e.memoizedState=L_,t):Qb(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rB(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=po(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=po(a,o):(o=gs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?F_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=L_,r}return o=t.child,t=o.sibling,r=po(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qb(t,e){return e=Ym({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gh(t,e,n,r){return r!==null&&$b(r),qa(e,t.child,null,n),t=Qb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rB(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=nv(Error(X(422))),Gh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ym({mode:"visible",children:r.children},i,0,null),o=gs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&qa(e,t.child,null,s),e.child.memoizedState=F_(s),e.memoizedState=L_,o);if(!(e.mode&1))return Gh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(X(419)),r=nv(o,r,void 0),Gh(t,e,s,r)}if(a=(s&t.childLanes)!==0,Cn||a){if(r=Kt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xi(t,i),kr(r,t,i,-1))}return nE(),r=nv(Error(X(421))),Gh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gB.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gn=uo(i.nextSibling),Kn=e,nt=!0,xr=null,t!==null&&(rr[ir++]=ci,rr[ir++]=fi,rr[ir++]=Ss,ci=t.id,fi=t.overflow,Ss=e),e=Qb(e,r.children),e.flags|=4096,e)}function IT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),N_(t.return,e,n)}function rv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Yk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(bn(t,e,r.children,n),r=lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&IT(t,n,e);else if(t.tag===19)IT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(lt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rv(e,!0,n,null,o);break;case"together":rv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=po(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=po(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iB(t,e,n){switch(e.tag){case 3:Gk(e),Wa();break;case 5:bk(e);break;case 1:kn(e.type)&&Xd(e);break;case 4:Ub(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(ep,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(lt,lt.current&1),e.flags|=128,null):n&e.child.childLanes?Kk(t,e,n):(Ke(lt,lt.current&1),t=Ti(t,e,n),t!==null?t.sibling:null);Ke(lt,lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(lt,lt.current),r)break;return null;case 22:case 23:return e.lanes=0,qk(t,e,n)}return Ti(t,e,n)}var Qk,V_,Xk,Jk;Qk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};V_=function(){};Xk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ss(Yr.current);var o=null;switch(n){case"input":i=l_(t,i),r=l_(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=f_(t,i),r=f_(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yd)}d_(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Jk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ou(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oB(t,e,n){var r=e.pendingProps;switch(Db(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return kn(e.type)&&Qd(),an(e),null;case 3:return r=e.stateNode,Ha(),tt(Nn),tt(_n),Wb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(K_(xr),xr=null))),V_(t,e),an(e),null;case 5:zb(e);var i=ss(Vc.current);if(n=e.type,t!==null&&e.stateNode!=null)Xk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return an(e),null}if(t=ss(Yr.current),qh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qr]=e,r[Lc]=o,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<Xu.length;i++)Xe(Xu[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Fx(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":Bx(r,o),Xe("invalid",r)}d_(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Wh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Wh(r.textContent,a,t),i=["children",""+a]):Cc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Xe("scroll",r)}switch(n){case"input":$h(r),Vx(r,o,!0);break;case"textarea":$h(r),Ux(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Yd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qr]=e,t[Lc]=r,Qk(t,e,!1,!1),e.stateNode=t;e:{switch(s=p_(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xu.length;i++)Xe(Xu[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":Fx(t,r),i=l_(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":Bx(t,r),i=f_(t,r),Xe("invalid",t);break;default:i=r}d_(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?ON(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Oc(t,l):typeof l=="number"&&Oc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Xe("scroll",t):l!=null&&wb(t,o,l,s))}switch(n){case"input":$h(t),Vx(t,r,!1);break;case"textarea":$h(t),Ux(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?xa(t,!!r.multiple,o,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)Jk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=ss(Vc.current),ss(Yr.current),qh(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(o=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:Wh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return an(e),null;case 13:if(tt(lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Gn!==null&&e.mode&1&&!(e.flags&128))gk(),Wa(),e.flags|=98560,o=!1;else if(o=qh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[qr]=e}else Wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),o=!1}else xr!==null&&(K_(xr),xr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||lt.current&1?Mt===0&&(Mt=3):nE())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return Ha(),V_(t,e),t===null&&$c(e.stateNode.containerInfo),an(e),null;case 10:return Fb(e.type._context),an(e),null;case 17:return kn(e.type)&&Qd(),an(e),null;case 19:if(tt(lt),o=e.memoizedState,o===null)return an(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ou(o,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=rp(t),s!==null){for(e.flags|=128,Ou(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(lt,lt.current&1|2),e.child}t=t.sibling}o.tail!==null&&_t()>Ka&&(e.flags|=128,r=!0,Ou(o,!1),e.lanes=4194304)}else{if(!r)if(t=rp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ou(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!nt)return an(e),null}else 2*_t()-o.renderingStartTime>Ka&&n!==1073741824&&(e.flags|=128,r=!0,Ou(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_t(),e.sibling=null,n=lt.current,Ke(lt,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return tE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function sB(t,e){switch(Db(e),e.tag){case 1:return kn(e.type)&&Qd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ha(),tt(Nn),tt(_n),Wb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zb(e),null;case 13:if(tt(lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(lt),null;case 4:return Ha(),null;case 10:return Fb(e.type._context),null;case 22:case 23:return tE(),null;case 24:return null;default:return null}}var Kh=!1,fn=!1,aB=typeof WeakSet=="function"?WeakSet:Set,oe=null;function va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function B_(t,e,n){try{n()}catch(r){pt(t,e,r)}}var RT=!1;function lB(t,e){if(x_=Hd,t=rk(),kb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(T_={focusedElem:t,selectionRange:n},Hd=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:_r(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(C){pt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return m=RT,RT=!1,m}function cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&B_(e,n,o)}i=i.next}while(i!==r)}}function Gm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function U_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zk(t){var e=t.alternate;e!==null&&(t.alternate=null,Zk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[Lc],delete e[C_],delete e[W3],delete e[q3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e2(t){return t.tag===5||t.tag===3||t.tag===4}function NT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yd));else if(r!==4&&(t=t.child,t!==null))for(z_(t,e,n),t=t.sibling;t!==null;)z_(t,e,n),t=t.sibling}function W_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(W_(t,e,n),t=t.sibling;t!==null;)W_(t,e,n),t=t.sibling}var Jt=null,wr=!1;function Gi(t,e,n){for(n=n.child;n!==null;)t2(t,e,n),n=n.sibling}function t2(t,e,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Fm,n)}catch{}switch(n.tag){case 5:fn||va(n,e);case 6:var r=Jt,i=wr;Jt=null,Gi(t,e,n),Jt=r,wr=i,Jt!==null&&(wr?(t=Jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&(wr?(t=Jt,n=n.stateNode,t.nodeType===8?Qy(t.parentNode,n):t.nodeType===1&&Qy(t,n),kc(t)):Qy(Jt,n.stateNode));break;case 4:r=Jt,i=wr,Jt=n.stateNode.containerInfo,wr=!0,Gi(t,e,n),Jt=r,wr=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&B_(n,e,s),i=i.next}while(i!==r)}Gi(t,e,n);break;case 1:if(!fn&&(va(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}Gi(t,e,n);break;case 21:Gi(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,Gi(t,e,n),fn=r):Gi(t,e,n);break;default:Gi(t,e,n)}}function kT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aB),e.forEach(function(r){var i=yB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Jt=a.stateNode,wr=!1;break e;case 3:Jt=a.stateNode.containerInfo,wr=!0;break e;case 4:Jt=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(Jt===null)throw Error(X(160));t2(o,s,i),Jt=null,wr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n2(e,t),e=e.sibling}function n2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(e,t),Br(t),r&4){try{cc(3,t,t.return),Gm(3,t)}catch(g){pt(t,t.return,g)}try{cc(5,t,t.return)}catch(g){pt(t,t.return,g)}}break;case 1:yr(e,t),Br(t),r&512&&n!==null&&va(n,n.return);break;case 5:if(yr(e,t),Br(t),r&512&&n!==null&&va(n,n.return),t.flags&32){var i=t.stateNode;try{Oc(i,"")}catch(g){pt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&xN(i,o),p_(a,s);var u=p_(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?ON(i,f):c==="dangerouslySetInnerHTML"?PN(i,f):c==="children"?Oc(i,f):wb(i,c,f,u)}switch(a){case"input":u_(i,o);break;case"textarea":TN(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?xa(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?xa(i,!!o.multiple,o.defaultValue,!0):xa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Lc]=o}catch(g){pt(t,t.return,g)}}break;case 6:if(yr(e,t),Br(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){pt(t,t.return,g)}}break;case 3:if(yr(e,t),Br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kc(e.containerInfo)}catch(g){pt(t,t.return,g)}break;case 4:yr(e,t),Br(t);break;case 13:yr(e,t),Br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Zb=_t())),r&4&&kT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(u=fn)||c,yr(e,t),fn=u):yr(e,t),Br(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(d=oe,p=d.child,d.tag){case 0:case 11:case 14:case 15:cc(4,d,d.return);break;case 1:va(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){pt(r,n,g)}}break;case 5:va(d,d.return);break;case 22:if(d.memoizedState!==null){DT(f);continue}}p!==null?(p.return=d,oe=p):DT(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=CN("display",s))}catch(g){pt(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){pt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yr(e,t),Br(t),r&4&&kT(t);break;case 21:break;default:yr(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e2(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oc(i,""),r.flags&=-33);var o=NT(t);W_(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=NT(t);z_(t,a,s);break;default:throw Error(X(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uB(t,e,n){oe=t,r2(t)}function r2(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Kh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||fn;a=Kh;var u=fn;if(Kh=s,(fn=l)&&!u)for(oe=i;oe!==null;)s=oe,l=s.child,s.tag===22&&s.memoizedState!==null?$T(i):l!==null?(l.return=s,oe=l):$T(i);for(;o!==null;)oe=o,r2(o),o=o.sibling;oe=i,Kh=a,fn=u}MT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):MT(t)}}function MT(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||Gm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vT(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vT(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&kc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}fn||e.flags&512&&U_(e)}catch(d){pt(e,e.return,d)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function DT(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function $T(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gm(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var o=e.return;try{U_(e)}catch(l){pt(e,o,l)}break;case 5:var s=e.return;try{U_(e)}catch(l){pt(e,s,l)}}}catch(l){pt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var cB=Math.ceil,sp=Mi.ReactCurrentDispatcher,Xb=Mi.ReactCurrentOwner,lr=Mi.ReactCurrentBatchConfig,Ne=0,Kt=null,Tt=null,tn=0,Wn=0,_a=Do(0),Mt=0,Wc=null,Ts=0,Km=0,Jb=0,fc=null,Pn=null,Zb=0,Ka=1/0,li=null,ap=!1,q_=null,fo=null,Yh=!1,to=null,lp=0,hc=0,H_=null,Cd=-1,Od=0;function Sn(){return Ne&6?_t():Cd!==-1?Cd:Cd=_t()}function ho(t){return t.mode&1?Ne&2&&tn!==0?tn&-tn:G3.transition!==null?(Od===0&&(Od=BN()),Od):(t=Le,t!==0||(t=window.event,t=t===void 0?16:KN(t.type)),t):1}function kr(t,e,n,r){if(50<hc)throw hc=0,H_=null,Error(X(185));qf(t,n,r),(!(Ne&2)||t!==Kt)&&(t===Kt&&(!(Ne&2)&&(Km|=n),Mt===4&&Ji(t,tn)),Mn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Ka=_t()+500,Wm&&$o()))}function Mn(t,e){var n=t.callbackNode;GV(t,e);var r=qd(t,t===Kt?tn:0);if(r===0)n!==null&&qx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qx(n),e===1)t.tag===0?H3(jT.bind(null,t)):dk(jT.bind(null,t)),U3(function(){!(Ne&6)&&$o()}),n=null;else{switch(UN(r)){case 1:n=Tb;break;case 4:n=FN;break;case 16:n=Wd;break;case 536870912:n=VN;break;default:n=Wd}n=f2(n,i2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function i2(t,e){if(Cd=-1,Od=0,Ne&6)throw Error(X(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=qd(t,t===Kt?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=up(t,r);else{e=r;var i=Ne;Ne|=2;var o=s2();(Kt!==t||tn!==e)&&(li=null,Ka=_t()+500,ms(t,e));do try{dB();break}catch(a){o2(t,a)}while(!0);Lb(),sp.current=o,Ne=i,Tt!==null?e=0:(Kt=null,tn=0,e=Mt)}if(e!==0){if(e===2&&(i=__(t),i!==0&&(r=i,e=G_(t,i))),e===1)throw n=Wc,ms(t,0),Ji(t,r),Mn(t,_t()),n;if(e===6)Ji(t,r);else{if(i=t.current.alternate,!(r&30)&&!fB(i)&&(e=up(t,r),e===2&&(o=__(t),o!==0&&(r=o,e=G_(t,o))),e===1))throw n=Wc,ms(t,0),Ji(t,r),Mn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Jo(t,Pn,li);break;case 3:if(Ji(t,r),(r&130023424)===r&&(e=Zb+500-_t(),10<e)){if(qd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=P_(Jo.bind(null,t,Pn,li),e);break}Jo(t,Pn,li);break;case 4:if(Ji(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Nr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cB(r/1960))-r,10<r){t.timeoutHandle=P_(Jo.bind(null,t,Pn,li),r);break}Jo(t,Pn,li);break;case 5:Jo(t,Pn,li);break;default:throw Error(X(329))}}}return Mn(t,_t()),t.callbackNode===n?i2.bind(null,t):null}function G_(t,e){var n=fc;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=up(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&K_(e)),t}function K_(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function fB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Dr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ji(t,e){for(e&=~Jb,e&=~Km,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function jT(t){if(Ne&6)throw Error(X(327));Oa();var e=qd(t,0);if(!(e&1))return Mn(t,_t()),null;var n=up(t,e);if(t.tag!==0&&n===2){var r=__(t);r!==0&&(e=r,n=G_(t,r))}if(n===1)throw n=Wc,ms(t,0),Ji(t,e),Mn(t,_t()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jo(t,Pn,li),Mn(t,_t()),null}function eE(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Ka=_t()+500,Wm&&$o())}}function As(t){to!==null&&to.tag===0&&!(Ne&6)&&Oa();var e=Ne;Ne|=1;var n=lr.transition,r=Le;try{if(lr.transition=null,Le=1,t)return t()}finally{Le=r,lr.transition=n,Ne=e,!(Ne&6)&&$o()}}function tE(){Wn=_a.current,tt(_a)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,B3(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(Db(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qd();break;case 3:Ha(),tt(Nn),tt(_n),Wb();break;case 5:zb(r);break;case 4:Ha();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:Fb(r.type._context);break;case 22:case 23:tE()}n=n.return}if(Kt=t,Tt=t=po(t.current,null),tn=Wn=e,Mt=0,Wc=null,Jb=Km=Ts=0,Pn=fc=null,os!==null){for(e=0;e<os.length;e++)if(n=os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}os=null}return t}function o2(t,e){do{var n=Tt;try{if(Lb(),Td.current=op,ip){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ip=!1}if(xs=0,Wt=Nt=ut=null,uc=!1,Bc=0,Xb.current=null,n===null||n.return===null){Mt=1,Wc=e,Tt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=xT(s);if(p!==null){p.flags&=-257,TT(p,s,a,o,e),p.mode&1&&ST(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){ST(o,u,e),nE();break e}l=Error(X(426))}}else if(nt&&a.mode&1){var y=xT(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),TT(y,s,a,o,e),$b(Ga(l,a));break e}}o=l=Ga(l,a),Mt!==4&&(Mt=2),fc===null?fc=[o]:fc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=Uk(o,l,e);yT(o,w);break e;case 1:a=l;var _=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fo===null||!fo.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=zk(o,a,e);yT(o,C);break e}}o=o.return}while(o!==null)}l2(n)}catch(S){e=S,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function s2(){var t=sp.current;return sp.current=op,t===null?op:t}function nE(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Kt===null||!(Ts&268435455)&&!(Km&268435455)||Ji(Kt,tn)}function up(t,e){var n=Ne;Ne|=2;var r=s2();(Kt!==t||tn!==e)&&(li=null,ms(t,e));do try{hB();break}catch(i){o2(t,i)}while(!0);if(Lb(),Ne=n,sp.current=r,Tt!==null)throw Error(X(261));return Kt=null,tn=0,Mt}function hB(){for(;Tt!==null;)a2(Tt)}function dB(){for(;Tt!==null&&!LV();)a2(Tt)}function a2(t){var e=c2(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?l2(t):Tt=e,Xb.current=null}function l2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sB(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,Tt=null;return}}else if(n=oB(n,e,Wn),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Mt===0&&(Mt=5)}function Jo(t,e,n){var r=Le,i=lr.transition;try{lr.transition=null,Le=1,pB(t,e,n,r)}finally{lr.transition=i,Le=r}return null}function pB(t,e,n,r){do Oa();while(to!==null);if(Ne&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(KV(t,o),t===Kt&&(Tt=Kt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yh||(Yh=!0,f2(Wd,function(){return Oa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lr.transition,lr.transition=null;var s=Le;Le=1;var a=Ne;Ne|=4,Xb.current=null,lB(t,n),n2(n,t),M3(T_),Hd=!!x_,T_=x_=null,t.current=n,uB(n),FV(),Ne=a,Le=s,lr.transition=o}else t.current=n;if(Yh&&(Yh=!1,to=t,lp=i),o=t.pendingLanes,o===0&&(fo=null),UV(n.stateNode),Mn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ap)throw ap=!1,t=q_,q_=null,t;return lp&1&&t.tag!==0&&Oa(),o=t.pendingLanes,o&1?t===H_?hc++:(hc=0,H_=t):hc=0,$o(),null}function Oa(){if(to!==null){var t=UN(lp),e=lr.transition,n=Le;try{if(lr.transition=null,Le=16>t?16:t,to===null)var r=!1;else{if(t=to,to=null,lp=0,Ne&6)throw Error(X(331));var i=Ne;for(Ne|=4,oe=t.current;oe!==null;){var o=oe,s=o.child;if(oe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:cc(8,c,o)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var d=c.sibling,p=c.return;if(Zk(c),c===u){oe=null;break}if(d!==null){d.return=p,oe=d;break}oe=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,oe=s;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,oe=w;break e}oe=o.return}}var _=t.current;for(oe=_;oe!==null;){s=oe;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,oe=b;else e:for(s=_;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gm(9,a)}}catch(S){pt(a,a.return,S)}if(a===s){oe=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,oe=C;break e}oe=a.return}}if(Ne=i,$o(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Fm,t)}catch{}r=!0}return r}finally{Le=n,lr.transition=e}}return!1}function LT(t,e,n){e=Ga(n,e),e=Uk(t,e,1),t=co(t,e,1),e=Sn(),t!==null&&(qf(t,1,e),Mn(t,e))}function pt(t,e,n){if(t.tag===3)LT(t,t,n);else for(;e!==null;){if(e.tag===3){LT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fo===null||!fo.has(r))){t=Ga(n,t),t=zk(e,t,1),e=co(e,t,1),t=Sn(),e!==null&&(qf(e,1,t),Mn(e,t));break}}e=e.return}}function mB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(tn&n)===n&&(Mt===4||Mt===3&&(tn&130023424)===tn&&500>_t()-Zb?ms(t,0):Jb|=n),Mn(t,e)}function u2(t,e){e===0&&(t.mode&1?(e=Fh,Fh<<=1,!(Fh&130023424)&&(Fh=4194304)):e=1);var n=Sn();t=xi(t,e),t!==null&&(qf(t,e,n),Mn(t,n))}function gB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u2(t,n)}function yB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),u2(t,n)}var c2;c2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)Cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cn=!1,iB(t,e,n);Cn=!!(t.flags&131072)}else Cn=!1,nt&&e.flags&1048576&&pk(e,Zd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pd(t,e),t=e.pendingProps;var i=za(e,_n.current);Ca(e,n),i=Hb(null,e,r,t,i,n);var o=Gb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(r)?(o=!0,Xd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bb(e),i.updater=Hm,e.stateNode=i,i._reactInternals=e,M_(e,r,t,n),e=j_(null,e,r,!0,o,n)):(e.tag=0,nt&&o&&Mb(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_B(r),t=_r(r,t),i){case 0:e=$_(null,e,r,t,n);break e;case 1:e=CT(null,e,r,t,n);break e;case 11:e=AT(null,e,r,t,n);break e;case 14:e=PT(null,e,r,_r(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),$_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),CT(t,e,r,i,n);case 3:e:{if(Gk(e),t===null)throw Error(X(387));r=e.pendingProps,o=e.memoizedState,i=o.element,wk(t,e),np(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ga(Error(X(423)),e),e=OT(t,e,r,n,i);break e}else if(r!==i){i=Ga(Error(X(424)),e),e=OT(t,e,r,n,i);break e}else for(Gn=uo(e.stateNode.containerInfo.firstChild),Kn=e,nt=!0,xr=null,n=vk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wa(),r===i){e=Ti(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return bk(e),t===null&&R_(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,A_(r,i)?s=null:o!==null&&A_(r,o)&&(e.flags|=32),Hk(t,e),bn(t,e,s,n),e.child;case 6:return t===null&&R_(e),null;case 13:return Kk(t,e,n);case 4:return Ub(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qa(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),AT(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ke(ep,r._currentValue),r._currentValue=s,o!==null)if(Dr(o.value,s)){if(o.children===i.children&&!Nn.current){e=Ti(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=yi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),N_(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(X(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),N_(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ca(e,n),i=fr(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),PT(t,e,r,i,n);case 15:return Wk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Pd(t,e),e.tag=1,kn(r)?(t=!0,Xd(e)):t=!1,Ca(e,n),Bk(e,r,i),M_(e,r,i,n),j_(null,e,r,!0,t,n);case 19:return Yk(t,e,n);case 22:return qk(t,e,n)}throw Error(X(156,e.tag))};function f2(t,e){return LN(t,e)}function vB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new vB(t,e,n,r)}function rE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _B(t){if(typeof t=="function")return rE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eb)return 11;if(t===Sb)return 14}return 2}function po(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Id(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")rE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ua:return gs(n.children,i,o,e);case bb:s=8,i|=8;break;case i_:return t=sr(12,n,e,i|2),t.elementType=i_,t.lanes=o,t;case o_:return t=sr(13,n,e,i),t.elementType=o_,t.lanes=o,t;case s_:return t=sr(19,n,e,i),t.elementType=s_,t.lanes=o,t;case bN:return Ym(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _N:s=10;break e;case wN:s=9;break e;case Eb:s=11;break e;case Sb:s=14;break e;case Ki:s=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function gs(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function Ym(t,e,n,r){return t=sr(22,t,r,e),t.elementType=bN,t.lanes=n,t.stateNode={isHidden:!1},t}function iv(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function ov(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fy(0),this.expirationTimes=Fy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iE(t,e,n,r,i,o,s,a,l){return t=new wB(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bb(o),t}function bB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function h2(t){if(!t)return To;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(kn(n))return hk(t,n,e)}return e}function d2(t,e,n,r,i,o,s,a,l){return t=iE(n,r,!0,t,i,o,s,a,l),t.context=h2(null),n=t.current,r=Sn(),i=ho(n),o=yi(r,i),o.callback=e??null,co(n,o,i),t.current.lanes=i,qf(t,i,r),Mn(t,r),t}function Qm(t,e,n,r){var i=e.current,o=Sn(),s=ho(i);return n=h2(n),e.context===null?e.context=n:e.pendingContext=n,e=yi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=co(i,e,s),t!==null&&(kr(t,i,s,o),xd(t,i,s)),s}function cp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function oE(t,e){FT(t,e),(t=t.alternate)&&FT(t,e)}function EB(){return null}var p2=typeof reportError=="function"?reportError:function(t){console.error(t)};function sE(t){this._internalRoot=t}Xm.prototype.render=sE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Qm(t,e,null,null)};Xm.prototype.unmount=sE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;As(function(){Qm(null,t,null,null)}),e[Si]=null}};function Xm(t){this._internalRoot=t}Xm.prototype.unstable_scheduleHydration=function(t){if(t){var e=qN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xi.length&&e!==0&&e<Xi[n].priority;n++);Xi.splice(n,0,t),n===0&&GN(t)}};function aE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VT(){}function SB(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=cp(s);o.call(u)}}var s=d2(e,r,t,0,null,!1,!1,"",VT);return t._reactRootContainer=s,t[Si]=s.current,$c(t.nodeType===8?t.parentNode:t),As(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=cp(l);a.call(u)}}var l=iE(t,0,!1,null,null,!1,!1,"",VT);return t._reactRootContainer=l,t[Si]=l.current,$c(t.nodeType===8?t.parentNode:t),As(function(){Qm(e,l,n,r)}),l}function Zm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=cp(s);a.call(l)}}Qm(e,s,t,i)}else s=SB(n,e,t,i,r);return cp(s)}zN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qu(e.pendingLanes);n!==0&&(Ab(e,n|1),Mn(e,_t()),!(Ne&6)&&(Ka=_t()+500,$o()))}break;case 13:As(function(){var r=xi(t,1);if(r!==null){var i=Sn();kr(r,t,1,i)}}),oE(t,1)}};Pb=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=Sn();kr(e,t,134217728,n)}oE(t,134217728)}};WN=function(t){if(t.tag===13){var e=ho(t),n=xi(t,e);if(n!==null){var r=Sn();kr(n,t,e,r)}oE(t,e)}};qN=function(){return Le};HN=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};g_=function(t,e,n){switch(e){case"input":if(u_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zm(r);if(!i)throw Error(X(90));SN(r),u_(r,i)}}}break;case"textarea":TN(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};NN=eE;kN=As;var xB={usingClientEntryPoint:!1,Events:[Gf,da,zm,IN,RN,eE]},Iu={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TB={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$N(t),t===null?null:t.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance||EB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{Fm=Qh.inject(TB),Kr=Qh}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xB;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aE(e))throw Error(X(200));return bB(t,e,null,n)};Xn.createRoot=function(t,e){if(!aE(t))throw Error(X(299));var n=!1,r="",i=p2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iE(t,1,!1,null,null,n,!1,r,i),t[Si]=e.current,$c(t.nodeType===8?t.parentNode:t),new sE(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=$N(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return As(t)};Xn.hydrate=function(t,e,n){if(!Jm(e))throw Error(X(200));return Zm(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!aE(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=p2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=d2(e,null,t,1,n??null,i,!1,o,s),t[Si]=e.current,$c(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xm(e)};Xn.render=function(t,e,n){if(!Jm(e))throw Error(X(200));return Zm(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!Jm(t))throw Error(X(40));return t._reactRootContainer?(As(function(){Zm(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};Xn.unstable_batchedUpdates=eE;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jm(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Zm(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function m2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m2)}catch(t){console.error(t)}}m2(),mN.exports=Xn;var AB=mN.exports,BT=AB;n_.createRoot=BT.createRoot,n_.hydrateRoot=BT.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}var no;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(no||(no={}));const UT="popstate";function PB(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Y_("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fp(i)}return OB(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CB(){return Math.random().toString(36).substr(2,8)}function zT(t,e){return{usr:t.state,key:t.key,idx:e}}function Y_(t,e,n,r){return n===void 0&&(n=null),qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ml(e):e,{state:n,key:e&&e.key||r||CB()})}function fp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function OB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=no.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(qc({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=no.Pop;let y=c(),w=y==null?null:y-u;u=y,l&&l({action:a,location:g.location,delta:w})}function d(y,w){a=no.Push;let _=Y_(g.location,y,w);u=c()+1;let b=zT(_,u),C=g.createHref(_);try{s.pushState(b,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}o&&l&&l({action:a,location:g.location,delta:1})}function p(y,w){a=no.Replace;let _=Y_(g.location,y,w);u=c();let b=zT(_,u),C=g.createHref(_);s.replaceState(b,"",C),o&&l&&l({action:a,location:g.location,delta:0})}function m(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:fp(y);return _=_.replace(/ $/,"%20"),ct(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let g={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(UT,f),l=y,()=>{i.removeEventListener(UT,f),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let w=m(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:p,go(y){return s.go(y)}};return g}var WT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WT||(WT={}));function IB(t,e,n){return n===void 0&&(n="/"),RB(t,e,n)}function RB(t,e,n,r){let i=typeof e=="string"?Ml(e):e,o=Ya(i.pathname||"/",n);if(o==null)return null;let s=g2(t);NB(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=zB(o);a=BB(s[l],u)}return a}function g2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=mo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),g2(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:FB(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of y2(o.path))i(o,s,l)}),e}function y2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=y2(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function NB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kB=/^:[\w-]+$/,MB=3,DB=2,$B=1,jB=10,LB=-2,qT=t=>t==="*";function FB(t,e){let n=t.split("/"),r=n.length;return n.some(qT)&&(r+=LB),e&&(r+=DB),n.filter(i=>!qT(i)).reduce((i,o)=>i+(kB.test(o)?MB:o===""?$B:jB),r)}function VB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function BB(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=Q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:mo([o,f.pathname]),pathnameBase:KB(mo([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=mo([o,f.pathnameBase]))}return s}function Q_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=a[f]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[f];return p&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function UB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ya(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const WB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qB=t=>WB.test(t);function HB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ml(t):t,o;if(n)if(qB(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),lE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=HT(n.substring(1),"/"):o=HT(n,e)}else o=e;return{pathname:o,search:YB(r),hash:QB(i)}}function HT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uE(t,e){let n=GB(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ml(t):(i=qc({},t),ct(!i.pathname||!i.pathname.includes("?"),sv("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),sv("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),sv("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=HB(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const mo=t=>t.join("/").replace(/\/\/+/g,"/"),KB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const v2=["post","put","patch","delete"];new Set(v2);const JB=["get",...v2];new Set(JB);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}const eg=$.createContext(null),_2=$.createContext(null),Di=$.createContext(null),tg=$.createContext(null),jo=$.createContext({outlet:null,matches:[],isDataRoute:!1}),w2=$.createContext(null);function ZB(t,e){let{relative:n}=e===void 0?{}:e;Dl()||ct(!1);let{basename:r,navigator:i}=$.useContext(Di),{hash:o,pathname:s,search:a}=ng(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:mo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Dl(){return $.useContext(tg)!=null}function $l(){return Dl()||ct(!1),$.useContext(tg).location}function b2(t){$.useContext(Di).static||$.useLayoutEffect(t)}function E2(){let{isDataRoute:t}=$.useContext(jo);return t?h6():e6()}function e6(){Dl()||ct(!1);let t=$.useContext(eg),{basename:e,future:n,navigator:r}=$.useContext(Di),{matches:i}=$.useContext(jo),{pathname:o}=$l(),s=JSON.stringify(uE(i,n.v7_relativeSplatPath)),a=$.useRef(!1);return b2(()=>{a.current=!0}),$.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=cE(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:mo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function ng(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(Di),{matches:i}=$.useContext(jo),{pathname:o}=$l(),s=JSON.stringify(uE(i,r.v7_relativeSplatPath));return $.useMemo(()=>cE(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function t6(t,e){return n6(t,e)}function n6(t,e,n,r){Dl()||ct(!1);let{navigator:i}=$.useContext(Di),{matches:o}=$.useContext(jo),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=$l(),c;if(e){var f;let y=typeof e=="string"?Ml(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||ct(!1),c=y}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=IB(t,{pathname:p}),g=a6(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:mo([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:mo([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&g?$.createElement(tg.Provider,{value:{location:Hc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:no.Pop}},g):g}function r6(){let t=f6(),e=XB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const i6=$.createElement(r6,null);class o6 extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(jo.Provider,{value:this.props.routeContext},$.createElement(w2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s6(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(eg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(jo.Provider,{value:e},r)}function a6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||ct(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let p,m=!1,g=null,y=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||i6,l&&(u<0&&d===0?(d6("route-fallback"),m=!0,y=null):u===d&&(m=!0,y=f.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,d+1)),_=()=>{let b;return p?b=g:m?b=y:f.route.Component?b=$.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,$.createElement(s6,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?$.createElement(o6,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var S2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(S2||{}),x2=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(x2||{});function l6(t){let e=$.useContext(eg);return e||ct(!1),e}function u6(t){let e=$.useContext(_2);return e||ct(!1),e}function c6(t){let e=$.useContext(jo);return e||ct(!1),e}function T2(t){let e=c6(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function f6(){var t;let e=$.useContext(w2),n=u6(),r=T2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function h6(){let{router:t}=l6(S2.UseNavigateStable),e=T2(x2.UseNavigateStable),n=$.useRef(!1);return b2(()=>{n.current=!0}),$.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hc({fromRouteId:e},o)))},[t,e])}const GT={};function d6(t,e,n){GT[t]||(GT[t]=!0)}function p6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function m6(t){let{to:e,replace:n,state:r,relative:i}=t;Dl()||ct(!1);let{future:o,static:s}=$.useContext(Di),{matches:a}=$.useContext(jo),{pathname:l}=$l(),u=E2(),c=cE(e,uE(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return $.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Ju(t){ct(!1)}function g6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=no.Pop,navigator:o,static:s=!1,future:a}=t;Dl()&&ct(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:o,static:s,future:Hc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Ml(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:m="default"}=r,g=$.useMemo(()=>{let y=Ya(c,l);return y==null?null:{location:{pathname:y,search:f,hash:d,state:p,key:m},navigationType:i}},[l,c,f,d,p,m,i]);return g==null?null:$.createElement(Di.Provider,{value:u},$.createElement(tg.Provider,{children:n,value:g}))}function y6(t){let{children:e,location:n}=t;return t6(X_(e),n)}new Promise(()=>{});function X_(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let o=[...e,i];if(r.type===$.Fragment){n.push.apply(n,X_(r.props.children,o));return}r.type!==Ju&&ct(!1),!r.props.index||!r.props.children||ct(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=X_(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function A2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function v6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _6(t,e){return t.button===0&&(!e||e==="_self")&&!v6(t)}const w6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],E6="6";try{window.__reactRouterVersion=E6}catch{}const S6=$.createContext({isTransitioning:!1}),x6="startTransition",KT=mV[x6];function T6(t){let{basename:e,children:n,future:r,window:i}=t,o=$.useRef();o.current==null&&(o.current=PB({window:i,v5Compat:!0}));let s=o.current,[a,l]=$.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=$.useCallback(f=>{u&&KT?KT(()=>l(f)):l(f)},[l,u]);return $.useLayoutEffect(()=>s.listen(c),[s,c]),$.useEffect(()=>p6(r),[r]),$.createElement(g6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const A6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C6=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=A2(e,w6),{basename:p}=$.useContext(Di),m,g=!1;if(typeof u=="string"&&P6.test(u)&&(m=u,A6))try{let b=new URL(window.location.href),C=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=Ya(C.pathname,p);C.origin===b.origin&&S!=null?u=S+C.search+C.hash:g=!0}catch{}let y=ZB(u,{relative:i}),w=I6(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function _(b){r&&r(b),b.defaultPrevented||w(b)}return $.createElement("a",hp({},d,{href:m||y,onClick:g||o?r:_,ref:n,target:l}))}),av=$.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:u,children:c}=e,f=A2(e,b6),d=ng(l,{relative:f.relative}),p=$l(),m=$.useContext(_2),{navigator:g,basename:y}=$.useContext(Di),w=m!=null&&R6(d)&&u===!0,_=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,b=p.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(b=b.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&y&&(C=Ya(C,y)||C);const S=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=b===_||!s&&b.startsWith(_)&&b.charAt(S)==="/",E=C!=null&&(C===_||!s&&C.startsWith(_)&&C.charAt(_.length)==="/"),x={isActive:A,isPending:E,isTransitioning:w},P=A?r:void 0,I;typeof o=="function"?I=o(x):I=[o,A?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(x):a;return $.createElement(C6,hp({},f,{"aria-current":P,className:I,ref:n,style:O,to:l,viewTransition:u}),typeof c=="function"?c(x):c)});var J_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(J_||(J_={}));var YT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(YT||(YT={}));function O6(t){let e=$.useContext(eg);return e||ct(!1),e}function I6(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=E2(),u=$l(),c=ng(t,{relative:s});return $.useCallback(f=>{if(_6(f,n)){f.preventDefault();let d=r!==void 0?r:fp(u)===fp(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}function R6(t,e){e===void 0&&(e={});let n=$.useContext(S6);n==null&&ct(!1);let{basename:r}=O6(J_.useViewTransitionState),i=ng(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ya(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ya(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Q_(i.pathname,s)!=null||Q_(i.pathname,o)!=null}const N6=()=>{};var QT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z=function(t,e){if(!t)throw jl(e)},jl=function(t){return new Error("Firebase Database ("+P2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},k6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new M6;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O2=function(t){const e=C2(t);return fE.encodeByteArray(e,!0)},dp=function(t){return O2(t).replace(/\./g,"")},Z_=function(t){try{return fE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){return I2(void 0,t)}function I2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$6(n)||(t[n]=I2(t[n],e[n]));return t}function $6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=()=>j6().__FIREBASE_DEFAULTS__,F6=()=>{if(typeof process>"u"||typeof QT>"u")return;const t=QT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z_(t[1]);return e&&JSON.parse(e)},hE=()=>{try{return N6()||L6()||F6()||V6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},B6=t=>{var e,n;return(n=(e=hE())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},R2=t=>{const e=B6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N2=()=>{var t;return(t=hE())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dp(JSON.stringify(n)),dp(JSON.stringify(s)),""].join(".")}const dc={};function U6(){const t={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?t.emulator.push(e):t.prod.push(e);return t}function z6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let XT=!1;function D2(t,e){if(typeof window>"u"||typeof document>"u"||!Yf(window.location.host)||dc[t]===e||dc[t]||XT)return;dc[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",o=U6().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{XT=!0,s()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=z6(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const b=d.element;a(b),c(y,g);const C=u();l(_,w),b.append(_,m,y,C),document.body.appendChild(b)}o?(m.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($2())}function W6(){var e;const t=(e=hE())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H6(){return P2.NODE_ADMIN===!0}function G6(){return!W6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K6(){try{return typeof indexedDB=="object"}catch{return!1}}function Y6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="FirebaseError";class Ll extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Q6,Object.setPrototypeOf(this,Ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L2.prototype.create)}}class L2{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?X6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ll(i,a,r)}}function X6(t,e){return t.replace(J6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const J6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){return JSON.parse(t)}function Ht(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Gc(Z_(o[0])||""),n=Gc(Z_(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Z6=function(t){const e=F2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},eU=function(t){const e=F2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function JT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Kc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(ZT(o)&&ZT(s)){if(!Kc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ZT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let f=0;f<80;f++){f<40?f<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):f<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const d=(i<<5|i>>>27)+u+l+c+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function dE(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,Z(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ig=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){return t&&t._delegate?t._delegate:t}class Xa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sU(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oU(t){return t===Zo?void 0:t}function sU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const lU={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},uU=Ae.INFO,cU={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},fU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pE{constructor(e){this.name=e,this._logLevel=uU,this._logHandler=fU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const hU=(t,e)=>e.some(n=>t instanceof n);let eA,tA;function dU(){return eA||(eA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pU(){return tA||(tA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V2=new WeakMap,e0=new WeakMap,B2=new WeakMap,lv=new WeakMap,mE=new WeakMap;function mU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(go(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&V2.set(n,t)}).catch(()=>{}),mE.set(e,t),e}function gU(t){if(e0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});e0.set(t,e)}let t0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yU(t){t0=t(t0)}function vU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uv(this),e,...n);return B2.set(r,e.sort?e.sort():[e]),go(r)}:pU().includes(t)?function(...e){return t.apply(uv(this),e),go(V2.get(this))}:function(...e){return go(t.apply(uv(this),e))}}function _U(t){return typeof t=="function"?vU(t):(t instanceof IDBTransaction&&gU(t),hU(t,dU())?new Proxy(t,t0):t)}function go(t){if(t instanceof IDBRequest)return mU(t);if(lv.has(t))return lv.get(t);const e=_U(t);return e!==t&&(lv.set(t,e),mE.set(e,t)),e}const uv=t=>mE.get(t);function wU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=go(s);return r&&s.addEventListener("upgradeneeded",l=>{r(go(s.result),l.oldVersion,l.newVersion,go(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const bU=["get","getKey","getAll","getAllKeys","count"],EU=["put","add","delete","clear"],cv=new Map;function nA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cv.get(e))return cv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bU.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return cv.set(e,o),o}yU(t=>({...t,get:(e,n,r)=>nA(e,n)||t.get(e,n,r),has:(e,n)=>!!nA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n0="@firebase/app",rA="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new pE("@firebase/app"),TU="@firebase/app-compat",AU="@firebase/analytics-compat",PU="@firebase/analytics",CU="@firebase/app-check-compat",OU="@firebase/app-check",IU="@firebase/auth",RU="@firebase/auth-compat",NU="@firebase/database",kU="@firebase/data-connect",MU="@firebase/database-compat",DU="@firebase/functions",$U="@firebase/functions-compat",jU="@firebase/installations",LU="@firebase/installations-compat",FU="@firebase/messaging",VU="@firebase/messaging-compat",BU="@firebase/performance",UU="@firebase/performance-compat",zU="@firebase/remote-config",WU="@firebase/remote-config-compat",qU="@firebase/storage",HU="@firebase/storage-compat",GU="@firebase/firestore",KU="@firebase/ai",YU="@firebase/firestore-compat",QU="firebase",XU="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="[DEFAULT]",JU={[n0]:"fire-core",[TU]:"fire-core-compat",[PU]:"fire-analytics",[AU]:"fire-analytics-compat",[OU]:"fire-app-check",[CU]:"fire-app-check-compat",[IU]:"fire-auth",[RU]:"fire-auth-compat",[NU]:"fire-rtdb",[kU]:"fire-data-connect",[MU]:"fire-rtdb-compat",[DU]:"fire-fn",[$U]:"fire-fn-compat",[jU]:"fire-iid",[LU]:"fire-iid-compat",[FU]:"fire-fcm",[VU]:"fire-fcm-compat",[BU]:"fire-perf",[UU]:"fire-perf-compat",[zU]:"fire-rc",[WU]:"fire-rc-compat",[qU]:"fire-gcs",[HU]:"fire-gcs-compat",[GU]:"fire-fst",[YU]:"fire-fst-compat",[KU]:"fire-vertex","fire-js":"fire-js",[QU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new Map,ZU=new Map,i0=new Map;function iA(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yc(t){const e=t.name;if(i0.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;i0.set(e,t);for(const n of mp.values())iA(n,t);for(const n of ZU.values())iA(n,t);return!0}function U2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function z2(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new L2("app","Firebase",e5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=XU;function gE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:r0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw yo.create("bad-app-name",{appName:String(i)});if(n||(n=N2()),!n)throw yo.create("no-options");const o=mp.get(i);if(o){if(Kc(n,o.options)&&Kc(r,o.config))return o;throw yo.create("duplicate-app",{appName:i})}const s=new aU(i);for(const l of i0.values())s.addComponent(l);const a=new t5(n,r,s);return mp.set(i,a),a}function q2(t=r0){const e=mp.get(t);if(!e&&t===r0&&N2())return gE();if(!e)throw yo.create("no-app",{appName:t});return e}function vo(t,e,n){let r=JU[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(s.join(" "));return}Yc(new Xa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="firebase-heartbeat-database",r5=1,Qc="firebase-heartbeat-store";let fv=null;function H2(){return fv||(fv=wU(n5,r5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw yo.create("idb-open",{originalErrorMessage:t.message})})),fv}async function i5(t){try{const n=(await H2()).transaction(Qc),r=await n.objectStore(Qc).get(G2(t));return await n.done,r}catch(e){if(e instanceof Ll)Ai.warn(e.message);else{const n=yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function oA(t,e){try{const r=(await H2()).transaction(Qc,"readwrite");await r.objectStore(Qc).put(e,G2(t)),await r.done}catch(n){if(n instanceof Ll)Ai.warn(n.message);else{const r=yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function G2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=1024,s5=30;class a5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>s5){const s=c5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sA(),{heartbeatsToSend:r,unsentEntries:i}=l5(this._heartbeatsCache.heartbeats),o=dp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ai.warn(n),""}}}function sA(){return new Date().toISOString().substring(0,10)}function l5(t,e=o5){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),aA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K6()?Y6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aA(t){return dp(JSON.stringify({version:2,heartbeats:t})).length}function c5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){Yc(new Xa("platform-logger",e=>new SU(e),"PRIVATE")),Yc(new Xa("heartbeat",e=>new a5(e),"PRIVATE")),vo(n0,rA,t),vo(n0,rA,"esm2020"),vo("fire-js","")}f5("");var h5="firebase",d5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo(h5,d5,"app");var lA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,K2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,x){function P(){}P.prototype=x.prototype,E.F=x.prototype,E.prototype=new P,E.prototype.constructor=E,E.D=function(I,O,N){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return x.prototype[O].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,x,P){P||(P=0);const I=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)I[O]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(O=0;O<16;++O)I[O]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=E.g[0],P=E.g[1],O=E.g[2];let N=E.g[3],R;R=x+(N^P&(O^N))+I[0]+3614090360&4294967295,x=P+(R<<7&4294967295|R>>>25),R=N+(O^x&(P^O))+I[1]+3905402710&4294967295,N=x+(R<<12&4294967295|R>>>20),R=O+(P^N&(x^P))+I[2]+606105819&4294967295,O=N+(R<<17&4294967295|R>>>15),R=P+(x^O&(N^x))+I[3]+3250441966&4294967295,P=O+(R<<22&4294967295|R>>>10),R=x+(N^P&(O^N))+I[4]+4118548399&4294967295,x=P+(R<<7&4294967295|R>>>25),R=N+(O^x&(P^O))+I[5]+1200080426&4294967295,N=x+(R<<12&4294967295|R>>>20),R=O+(P^N&(x^P))+I[6]+2821735955&4294967295,O=N+(R<<17&4294967295|R>>>15),R=P+(x^O&(N^x))+I[7]+4249261313&4294967295,P=O+(R<<22&4294967295|R>>>10),R=x+(N^P&(O^N))+I[8]+1770035416&4294967295,x=P+(R<<7&4294967295|R>>>25),R=N+(O^x&(P^O))+I[9]+2336552879&4294967295,N=x+(R<<12&4294967295|R>>>20),R=O+(P^N&(x^P))+I[10]+4294925233&4294967295,O=N+(R<<17&4294967295|R>>>15),R=P+(x^O&(N^x))+I[11]+2304563134&4294967295,P=O+(R<<22&4294967295|R>>>10),R=x+(N^P&(O^N))+I[12]+1804603682&4294967295,x=P+(R<<7&4294967295|R>>>25),R=N+(O^x&(P^O))+I[13]+4254626195&4294967295,N=x+(R<<12&4294967295|R>>>20),R=O+(P^N&(x^P))+I[14]+2792965006&4294967295,O=N+(R<<17&4294967295|R>>>15),R=P+(x^O&(N^x))+I[15]+1236535329&4294967295,P=O+(R<<22&4294967295|R>>>10),R=x+(O^N&(P^O))+I[1]+4129170786&4294967295,x=P+(R<<5&4294967295|R>>>27),R=N+(P^O&(x^P))+I[6]+3225465664&4294967295,N=x+(R<<9&4294967295|R>>>23),R=O+(x^P&(N^x))+I[11]+643717713&4294967295,O=N+(R<<14&4294967295|R>>>18),R=P+(N^x&(O^N))+I[0]+3921069994&4294967295,P=O+(R<<20&4294967295|R>>>12),R=x+(O^N&(P^O))+I[5]+3593408605&4294967295,x=P+(R<<5&4294967295|R>>>27),R=N+(P^O&(x^P))+I[10]+38016083&4294967295,N=x+(R<<9&4294967295|R>>>23),R=O+(x^P&(N^x))+I[15]+3634488961&4294967295,O=N+(R<<14&4294967295|R>>>18),R=P+(N^x&(O^N))+I[4]+3889429448&4294967295,P=O+(R<<20&4294967295|R>>>12),R=x+(O^N&(P^O))+I[9]+568446438&4294967295,x=P+(R<<5&4294967295|R>>>27),R=N+(P^O&(x^P))+I[14]+3275163606&4294967295,N=x+(R<<9&4294967295|R>>>23),R=O+(x^P&(N^x))+I[3]+4107603335&4294967295,O=N+(R<<14&4294967295|R>>>18),R=P+(N^x&(O^N))+I[8]+1163531501&4294967295,P=O+(R<<20&4294967295|R>>>12),R=x+(O^N&(P^O))+I[13]+2850285829&4294967295,x=P+(R<<5&4294967295|R>>>27),R=N+(P^O&(x^P))+I[2]+4243563512&4294967295,N=x+(R<<9&4294967295|R>>>23),R=O+(x^P&(N^x))+I[7]+1735328473&4294967295,O=N+(R<<14&4294967295|R>>>18),R=P+(N^x&(O^N))+I[12]+2368359562&4294967295,P=O+(R<<20&4294967295|R>>>12),R=x+(P^O^N)+I[5]+4294588738&4294967295,x=P+(R<<4&4294967295|R>>>28),R=N+(x^P^O)+I[8]+2272392833&4294967295,N=x+(R<<11&4294967295|R>>>21),R=O+(N^x^P)+I[11]+1839030562&4294967295,O=N+(R<<16&4294967295|R>>>16),R=P+(O^N^x)+I[14]+4259657740&4294967295,P=O+(R<<23&4294967295|R>>>9),R=x+(P^O^N)+I[1]+2763975236&4294967295,x=P+(R<<4&4294967295|R>>>28),R=N+(x^P^O)+I[4]+1272893353&4294967295,N=x+(R<<11&4294967295|R>>>21),R=O+(N^x^P)+I[7]+4139469664&4294967295,O=N+(R<<16&4294967295|R>>>16),R=P+(O^N^x)+I[10]+3200236656&4294967295,P=O+(R<<23&4294967295|R>>>9),R=x+(P^O^N)+I[13]+681279174&4294967295,x=P+(R<<4&4294967295|R>>>28),R=N+(x^P^O)+I[0]+3936430074&4294967295,N=x+(R<<11&4294967295|R>>>21),R=O+(N^x^P)+I[3]+3572445317&4294967295,O=N+(R<<16&4294967295|R>>>16),R=P+(O^N^x)+I[6]+76029189&4294967295,P=O+(R<<23&4294967295|R>>>9),R=x+(P^O^N)+I[9]+3654602809&4294967295,x=P+(R<<4&4294967295|R>>>28),R=N+(x^P^O)+I[12]+3873151461&4294967295,N=x+(R<<11&4294967295|R>>>21),R=O+(N^x^P)+I[15]+530742520&4294967295,O=N+(R<<16&4294967295|R>>>16),R=P+(O^N^x)+I[2]+3299628645&4294967295,P=O+(R<<23&4294967295|R>>>9),R=x+(O^(P|~N))+I[0]+4096336452&4294967295,x=P+(R<<6&4294967295|R>>>26),R=N+(P^(x|~O))+I[7]+1126891415&4294967295,N=x+(R<<10&4294967295|R>>>22),R=O+(x^(N|~P))+I[14]+2878612391&4294967295,O=N+(R<<15&4294967295|R>>>17),R=P+(N^(O|~x))+I[5]+4237533241&4294967295,P=O+(R<<21&4294967295|R>>>11),R=x+(O^(P|~N))+I[12]+1700485571&4294967295,x=P+(R<<6&4294967295|R>>>26),R=N+(P^(x|~O))+I[3]+2399980690&4294967295,N=x+(R<<10&4294967295|R>>>22),R=O+(x^(N|~P))+I[10]+4293915773&4294967295,O=N+(R<<15&4294967295|R>>>17),R=P+(N^(O|~x))+I[1]+2240044497&4294967295,P=O+(R<<21&4294967295|R>>>11),R=x+(O^(P|~N))+I[8]+1873313359&4294967295,x=P+(R<<6&4294967295|R>>>26),R=N+(P^(x|~O))+I[15]+4264355552&4294967295,N=x+(R<<10&4294967295|R>>>22),R=O+(x^(N|~P))+I[6]+2734768916&4294967295,O=N+(R<<15&4294967295|R>>>17),R=P+(N^(O|~x))+I[13]+1309151649&4294967295,P=O+(R<<21&4294967295|R>>>11),R=x+(O^(P|~N))+I[4]+4149444226&4294967295,x=P+(R<<6&4294967295|R>>>26),R=N+(P^(x|~O))+I[11]+3174756917&4294967295,N=x+(R<<10&4294967295|R>>>22),R=O+(x^(N|~P))+I[2]+718787259&4294967295,O=N+(R<<15&4294967295|R>>>17),R=P+(N^(O|~x))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+x&4294967295,E.g[1]=E.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+O&4294967295,E.g[3]=E.g[3]+N&4294967295}r.prototype.v=function(E,x){x===void 0&&(x=E.length);const P=x-this.blockSize,I=this.C;let O=this.h,N=0;for(;N<x;){if(O==0)for(;N<=P;)i(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<x;)if(I[O++]=E.charCodeAt(N++),O==this.blockSize){i(this,I),O=0;break}}else for(;N<x;)if(I[O++]=E[N++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=x},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var x=1;x<E.length-8;++x)E[x]=0;x=this.o*8;for(var P=E.length-8;P<E.length;++P)E[P]=x&255,x/=256;for(this.v(E),E=Array(16),x=0,P=0;P<4;++P)for(let I=0;I<32;I+=8)E[x++]=this.g[P]>>>I&255;return E};function o(E,x){var P=a;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=x(E)}function s(E,x){this.h=x;const P=[];let I=!0;for(let O=E.length-1;O>=0;O--){const N=E[O]|0;I&&N==x||(P[O]=N,I=!1)}this.g=P}var a={};function l(E){return-128<=E&&E<128?o(E,function(x){return new s([x|0],x<0?-1:0)}):new s([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return y(u(-E));const x=[];let P=1;for(let I=0;E>=P;I++)x[I]=E/P|0,P*=4294967296;return new s(x,0)}function c(E,x){if(E.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(E.charAt(0)=="-")return y(c(E.substring(1),x));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(x,8));let I=f;for(let N=0;N<E.length;N+=8){var O=Math.min(8,E.length-N);const R=parseInt(E.substring(N,N+O),x);O<8?(O=u(Math.pow(x,O)),I=I.j(O).add(u(R))):(I=I.j(P),I=I.add(u(R)))}return I}var f=l(0),d=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-y(this).m();let E=0,x=1;for(let P=0;P<this.g.length;P++){const I=this.i(P);E+=(I>=0?I:4294967296+I)*x,x*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(m(this))return"0";if(g(this))return"-"+y(this).toString(E);const x=u(Math.pow(E,6));var P=this;let I="";for(;;){const O=C(P,x).g;P=w(P,O.j(x));let N=((P.g.length>0?P.g[0]:P.h)>>>0).toString(E);if(P=O,m(P))return N+I;for(;N.length<6;)N="0"+N;I=N+I}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function m(E){if(E.h!=0)return!1;for(let x=0;x<E.g.length;x++)if(E.g[x]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=w(this,E),g(E)?-1:m(E)?0:1};function y(E){const x=E.g.length,P=[];for(let I=0;I<x;I++)P[I]=~E.g[I];return new s(P,~E.h).add(d)}t.abs=function(){return g(this)?y(this):this},t.add=function(E){const x=Math.max(this.g.length,E.g.length),P=[];let I=0;for(let O=0;O<=x;O++){let N=I+(this.i(O)&65535)+(E.i(O)&65535),R=(N>>>16)+(this.i(O)>>>16)+(E.i(O)>>>16);I=R>>>16,N&=65535,R&=65535,P[O]=R<<16|N}return new s(P,P[P.length-1]&-2147483648?-1:0)};function w(E,x){return E.add(y(x))}t.j=function(E){if(m(this)||m(E))return f;if(g(this))return g(E)?y(this).j(y(E)):y(y(this).j(E));if(g(E))return y(this.j(y(E)));if(this.l(p)<0&&E.l(p)<0)return u(this.m()*E.m());const x=this.g.length+E.g.length,P=[];for(var I=0;I<2*x;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<E.g.length;O++){const N=this.i(I)>>>16,R=this.i(I)&65535,B=E.i(O)>>>16,U=E.i(O)&65535;P[2*I+2*O]+=R*U,_(P,2*I+2*O),P[2*I+2*O+1]+=N*U,_(P,2*I+2*O+1),P[2*I+2*O+1]+=R*B,_(P,2*I+2*O+1),P[2*I+2*O+2]+=N*B,_(P,2*I+2*O+2)}for(E=0;E<x;E++)P[E]=P[2*E+1]<<16|P[2*E];for(E=x;E<2*x;E++)P[E]=0;return new s(P,0)};function _(E,x){for(;(E[x]&65535)!=E[x];)E[x+1]+=E[x]>>>16,E[x]&=65535,x++}function b(E,x){this.g=E,this.h=x}function C(E,x){if(m(x))throw Error("division by zero");if(m(E))return new b(f,f);if(g(E))return x=C(y(E),x),new b(y(x.g),y(x.h));if(g(x))return x=C(E,y(x)),new b(y(x.g),x.h);if(E.g.length>30){if(g(E)||g(x))throw Error("slowDivide_ only works with positive integers.");for(var P=d,I=x;I.l(E)<=0;)P=S(P),I=S(I);var O=A(P,1),N=A(I,1);for(I=A(I,2),P=A(P,2);!m(I);){var R=N.add(I);R.l(E)<=0&&(O=O.add(P),N=R),I=A(I,1),P=A(P,1)}return x=w(E,O.j(x)),new b(O,x)}for(O=f;E.l(x)>=0;){for(P=Math.max(1,Math.floor(E.m()/x.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),N=u(P),R=N.j(x);g(R)||R.l(E)>0;)P-=I,N=u(P),R=N.j(x);m(N)&&(N=d),O=O.add(N),E=w(E,R)}return new b(O,E)}t.B=function(E){return C(this,E).h},t.and=function(E){const x=Math.max(this.g.length,E.g.length),P=[];for(let I=0;I<x;I++)P[I]=this.i(I)&E.i(I);return new s(P,this.h&E.h)},t.or=function(E){const x=Math.max(this.g.length,E.g.length),P=[];for(let I=0;I<x;I++)P[I]=this.i(I)|E.i(I);return new s(P,this.h|E.h)},t.xor=function(E){const x=Math.max(this.g.length,E.g.length),P=[];for(let I=0;I<x;I++)P[I]=this.i(I)^E.i(I);return new s(P,this.h^E.h)};function S(E){const x=E.g.length+1,P=[];for(let I=0;I<x;I++)P[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(P,E.h)}function A(E,x){const P=x>>5;x%=32;const I=E.g.length-P,O=[];for(let N=0;N<I;N++)O[N]=x>0?E.i(N+P)>>>x|E.i(N+P+1)<<32-x:E.i(N+P);return new s(O,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,K2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,_o=s}).apply(typeof lA<"u"?lA:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y2,Zu,Q2,Rd,o0,X2,J2,Z2;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(h,v){if(v)e:{var T=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var j=h[k];if(!(j in T))break e;T=T[j]}h=h[h.length-1],k=T[h],v=v(k),v!=k&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(v){var T=[],k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&T.push([k,v[k]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function l(h,v,T){return h.call.apply(h.bind,arguments)}function u(h,v,T){return u=l,u.apply(null,arguments)}function c(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function f(h,v){function T(){}T.prototype=v.prototype,h.Z=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(k,j,V){for(var te=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)te[ve-2]=arguments[ve];return v.prototype[j].apply(k,te)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const v=h.length;if(v>0){const T=Array(v);for(let k=0;k<v;k++)T[k]=h[k];return T}return[]}function m(h,v){for(let k=1;k<arguments.length;k++){const j=arguments[k];var T=typeof j;if(T=T!="object"?T:j?Array.isArray(j)?"array":T:"null",T=="array"||T=="object"&&typeof j.length=="number"){T=h.length||0;const V=j.length||0;h.length=T+V;for(let te=0;te<V;te++)h[T+te]=j[te]}else h.push(j)}}class g{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function y(h){s.setTimeout(()=>{throw h},0)}function w(){var h=E;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class _{constructor(){this.h=this.g=null}add(v,T){const k=b.get();k.set(v,T),this.h?this.h.next=k:this.g=k,this.h=k}}var b=new g(()=>new C,h=>h.reset());class C{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let S,A=!1,E=new _,x=()=>{const h=Promise.resolve(void 0);S=()=>{h.then(P)}};function P(){for(var h;h=w();){try{h.h.call(h.g)}catch(T){y(T)}var v=b;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}A=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};s.addEventListener("test",T,v),s.removeEventListener("test",T,v)}catch{}return h}();function R(h){return/^[\s\xa0]*$/.test(h)}function B(h,v){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}f(B,O),B.prototype.init=function(h,v){const T=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var U="closure_listenable_"+(Math.random()*1e6|0),W=0;function G(h,v,T,k,j){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!k,this.ha=j,this.key=++W,this.da=this.fa=!1}function L(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h,v,T){for(const k in h)v.call(T,h[k],k,h)}function Y(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function ee(h){const v={};for(const T in h)v[T]=h[T];return v}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,v){let T,k;for(let j=1;j<arguments.length;j++){k=arguments[j];for(T in k)h[T]=k[T];for(let V=0;V<Q.length;V++)T=Q[V],Object.prototype.hasOwnProperty.call(k,T)&&(h[T]=k[T])}}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,v,T,k,j){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const te=Ye(h,v,k,j);return te>-1?(v=h[te],T||(v.fa=!1)):(v=new G(v,this.src,V,!!k,j),v.fa=T,h.push(v)),v};function De(h,v){const T=v.type;if(T in h.g){var k=h.g[T],j=Array.prototype.indexOf.call(k,v,void 0),V;(V=j>=0)&&Array.prototype.splice.call(k,j,1),V&&(L(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ye(h,v,T,k){for(let j=0;j<h.length;++j){const V=h[j];if(!V.da&&V.listener==v&&V.capture==!!T&&V.ha==k)return j}return-1}var on="closure_lm_"+(Math.random()*1e6|0),Lt={};function re(h,v,T,k,j){if(Array.isArray(v)){for(let V=0;V<v.length;V++)re(h,v[V],T,k,j);return null}return T=gr(T),h&&h[U]?h.J(v,T,a(k)?!!k.capture:!1,j):me(h,v,T,!1,k,j)}function me(h,v,T,k,j,V){if(!v)throw Error("Invalid event type");const te=a(j)?!!j.capture:!!j;let ve=st(h);if(ve||(h[on]=ve=new pe(h)),T=ve.add(v,T,k,te,V),T.proxy)return T;if(k=ye(),T.proxy=k,k.src=h,k.listener=T,h.addEventListener)N||(j=te),j===void 0&&(j=!1),h.addEventListener(v.toString(),k,j);else if(h.attachEvent)h.attachEvent(Te(v.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ye(){function h(T){return v.call(h.src,h.listener,T)}const v=yt;return h}function K(h,v,T,k,j){if(Array.isArray(v))for(var V=0;V<v.length;V++)K(h,v[V],T,k,j);else k=a(k)?!!k.capture:!!k,T=gr(T),h&&h[U]?(h=h.i,V=String(v).toString(),V in h.g&&(v=h.g[V],T=Ye(v,T,k,j),T>-1&&(L(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete h.g[V],h.h--)))):h&&(h=st(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ye(v,T,k,j)),(T=h>-1?v[h]:null)&&qe(T))}function qe(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[U])De(v.i,h);else{var T=h.type,k=h.proxy;v.removeEventListener?v.removeEventListener(T,k,h.capture):v.detachEvent?v.detachEvent(Te(T),k):v.addListener&&v.removeListener&&v.removeListener(k),(T=st(v))?(De(T,h),T.h==0&&(T.src=null,v[on]=null)):L(h)}}}function Te(h){return h in Lt?Lt[h]:Lt[h]="on"+h}function yt(h,v){if(h.da)h=!0;else{v=new B(v,this);const T=h.listener,k=h.ha||h.src;h.fa&&qe(h),h=T.call(k,v)}return h}function st(h){return h=h[on],h instanceof pe?h:null}var Ft="__closure_events_fn_"+(Math.random()*1e9>>>0);function gr(h){return typeof h=="function"?h:(h[Ft]||(h[Ft]=function(v){return h.handleEvent(v)}),h[Ft])}function at(){I.call(this),this.i=new pe(this),this.M=this,this.G=null}f(at,I),at.prototype[U]=!0,at.prototype.removeEventListener=function(h,v,T,k){K(this,h,v,T,k)};function Et(h,v){var T,k=h.G;if(k)for(T=[];k;k=k.G)T.push(k);if(h=h.M,k=v.type||v,typeof v=="string")v=new O(v,h);else if(v instanceof O)v.target=v.target||h;else{var j=v;v=new O(k,h),le(v,j)}j=!0;let V,te;if(T)for(te=T.length-1;te>=0;te--)V=v.g=T[te],j=Zn(V,k,!0,v)&&j;if(V=v.g=h,j=Zn(V,k,!0,v)&&j,j=Zn(V,k,!1,v)&&j,T)for(te=0;te<T.length;te++)V=v.g=T[te],j=Zn(V,k,!1,v)&&j}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const T=h.g[v];for(let k=0;k<T.length;k++)L(T[k]);delete h.g[v],h.h--}}this.G=null},at.prototype.J=function(h,v,T,k){return this.i.add(String(h),v,!1,T,k)},at.prototype.K=function(h,v,T,k){return this.i.add(String(h),v,!0,T,k)};function Zn(h,v,T,k){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let j=!0;for(let V=0;V<v.length;++V){const te=v[V];if(te&&!te.da&&te.capture==T){const ve=te.listener,Ot=te.ha||te.src;te.fa&&De(h.i,te),j=ve.call(Ot,k)!==!1&&j}}return j&&!k.defaultPrevented}function oi(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:s.setTimeout(h,v||0)}function Hs(h){h.g=oi(()=>{h.g=null,h.i&&(h.i=!1,Hs(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class bh extends I{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(h){I.call(this),this.h=h,this.g={}}f(Vi,I);var VS=[];function BS(h){z(h.g,function(v,T){this.g.hasOwnProperty(T)&&qe(v)},h),h.g={}}Vi.prototype.N=function(){Vi.Z.N.call(this),BS(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yy=s.JSON.stringify,O4=s.JSON.parse,I4=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function US(){}function zS(){}var lu={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vy(){O.call(this,"d")}f(vy,O);function _y(){O.call(this,"c")}f(_y,O);var qo={},WS=null;function Eh(){return WS=WS||new at}qo.Ia="serverreachability";function qS(h){O.call(this,qo.Ia,h)}f(qS,O);function uu(h){const v=Eh();Et(v,new qS(v))}qo.STAT_EVENT="statevent";function HS(h,v){O.call(this,qo.STAT_EVENT,h),this.stat=v}f(HS,O);function wn(h){const v=Eh();Et(v,new HS(v,h))}qo.Ja="timingevent";function GS(h,v){O.call(this,qo.Ja,h),this.size=v}f(GS,O);function cu(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},v)}function fu(){this.g=!0}fu.prototype.ua=function(){this.g=!1};function R4(h,v,T,k,j,V){h.info(function(){if(h.g)if(V){var te="",ve=V.split("&");for(let Be=0;Be<ve.length;Be++){var Ot=ve[Be].split("=");if(Ot.length>1){const Vt=Ot[0];Ot=Ot[1];const Vr=Vt.split("_");te=Vr.length>=2&&Vr[1]=="type"?te+(Vt+"="+Ot+"&"):te+(Vt+"=redacted&")}}}else te=null;else te=V;return"XMLHTTP REQ ("+k+") [attempt "+j+"]: "+v+`
`+T+`
`+te})}function N4(h,v,T,k,j,V,te){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+j+"]: "+v+`
`+T+`
`+V+" "+te})}function Gs(h,v,T,k){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+M4(h,T)+(k?" "+k:"")})}function k4(h,v){h.info(function(){return"TIMEOUT: "+v})}fu.prototype.info=function(){};function M4(h,v){if(!h.g)return v;if(!v)return null;try{const V=JSON.parse(v);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var T=V[h];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var j=k[0];if(j!="noop"&&j!="stop"&&j!="close")for(let te=1;te<k.length;te++)k[te]=""}}}}return yy(V)}catch{return v}}var Sh={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},KS={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},YS;function wy(){}f(wy,US),wy.prototype.g=function(){return new XMLHttpRequest},YS=new wy;function hu(h){return encodeURIComponent(String(h))}function D4(h){var v=1;h=h.split(":");const T=[];for(;v>0&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function Bi(h,v,T,k){this.j=h,this.i=v,this.l=T,this.S=k||1,this.V=new Vi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new QS}function QS(){this.i=null,this.g="",this.h=!1}var XS={},by={};function Ey(h,v,T){h.M=1,h.A=Th(Fr(v)),h.u=T,h.R=!0,JS(h,null)}function JS(h,v){h.F=Date.now(),xh(h),h.B=Fr(h.A);var T=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),fx(T.i,"t",k),h.C=0,T=h.j.L,h.h=new QS,h.g=Ox(h.j,T?v:null,!h.u),h.P>0&&(h.O=new bh(u(h.Y,h,h.g),h.P)),v=h.V,T=h.g,k=h.ba;var j="readystatechange";Array.isArray(j)||(j&&(VS[0]=j.toString()),j=VS);for(let V=0;V<j.length;V++){const te=re(T,j[V],k||v.handleEvent,!1,v.h||v);if(!te)break;v.g[te.key]=te}v=h.J?ee(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),uu(),R4(h.i,h.v,h.B,h.l,h.S,h.u)}Bi.prototype.ba=function(h){h=h.target;const v=this.O;v&&Wi(h)==3?v.j():this.Y(h)},Bi.prototype.Y=function(h){try{if(h==this.g)e:{const ve=Wi(this.g),Ot=this.g.ya(),Be=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||vx(this.g)))){this.K||ve!=4||Ot==7||(Ot==8||Be<=0?uu(3):uu(2)),Sy(this);var v=this.g.ca();this.X=v;var T=$4(this);if(this.o=v==200,N4(this.i,this.v,this.B,this.l,this.S,ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var k,j=this.g;if((k=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(k)){var V=k;break t}}V=null}if(h=V)Gs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xy(this,h);else{this.o=!1,this.m=3,wn(12),Ho(this),du(this);break e}}if(this.R){h=!0;let Vt;for(;!this.K&&this.C<T.length;)if(Vt=j4(this,T),Vt==by){ve==4&&(this.m=4,wn(14),h=!1),Gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==XS){this.m=4,wn(15),Gs(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Gs(this.i,this.l,Vt,null),xy(this,Vt);if(ZS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||T.length!=0||this.h.h||(this.m=1,wn(16),h=!1),this.o=this.o&&h,!h)Gs(this.i,this.l,T,"[Invalid Chunked Response]"),Ho(this),du(this);else if(T.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ny(te),te.P=!0,wn(11))}}else Gs(this.i,this.l,T,null),xy(this,T);ve==4&&Ho(this),this.o&&!this.K&&(ve==4?Tx(this.j,this):(this.o=!1,xh(this)))}else X4(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,wn(12)):(this.m=0,wn(13)),Ho(this),du(this)}}}catch{}finally{}};function $4(h){if(!ZS(h))return h.g.la();const v=vx(h.g);if(v==="")return"";let T="";const k=v.length,j=Wi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ho(h),du(h),"";h.h.i=new s.TextDecoder}for(let V=0;V<k;V++)h.h.h=!0,T+=h.h.i.decode(v[V],{stream:!(j&&V==k-1)});return v.length=0,h.h.g+=T,h.C=0,h.h.g}function ZS(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function j4(h,v){var T=h.C,k=v.indexOf(`
`,T);return k==-1?by:(T=Number(v.substring(T,k)),isNaN(T)?XS:(k+=1,k+T>v.length?by:(v=v.slice(k,k+T),h.C=k+T,v)))}Bi.prototype.cancel=function(){this.K=!0,Ho(this)};function xh(h){h.T=Date.now()+h.H,ex(h,h.H)}function ex(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=cu(u(h.aa,h),v)}function Sy(h){h.D&&(s.clearTimeout(h.D),h.D=null)}Bi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(k4(this.i,this.B),this.M!=2&&(uu(),wn(17)),Ho(this),this.m=2,du(this)):ex(this,this.T-h)};function du(h){h.j.I==0||h.K||Tx(h.j,h)}function Ho(h){Sy(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,BS(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function xy(h,v){try{var T=h.j;if(T.I!=0&&(T.g==h||Ty(T.h,h))){if(!h.L&&Ty(T.h,h)&&T.I==3){try{var k=T.Ba.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var j=k;if(j[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ih(T),Ch(T);else break e;Ry(T),wn(18)}}else T.xa=j[1],0<T.xa-T.K&&j[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=cu(u(T.Va,T),6e3));rx(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ko(T,11)}else if((h.L||T.g==h)&&Ih(T),!R(v))for(j=T.Ba.g.parse(v),v=0;v<j.length;v++){let Be=j[v];const Vt=Be[0];if(!(Vt<=T.K))if(T.K=Vt,Be=Be[1],T.I==2)if(Be[0]=="c"){T.M=Be[1],T.ba=Be[2];const Vr=Be[3];Vr!=null&&(T.ka=Vr,T.j.info("VER="+T.ka));const Yo=Be[4];Yo!=null&&(T.za=Yo,T.j.info("SVER="+T.za));const qi=Be[5];qi!=null&&typeof qi=="number"&&qi>0&&(k=1.5*qi,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Hi=h.g;if(Hi){const Nh=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nh){var V=k.h;V.g||Nh.indexOf("spdy")==-1&&Nh.indexOf("quic")==-1&&Nh.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ay(V,V.h),V.h=null))}if(k.G){const ky=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;ky&&(k.wa=ky,Qe(k.J,k.G,ky))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var te=h;if(k.na=Cx(k,k.L?k.ba:null,k.W),te.L){ix(k.h,te);var ve=te,Ot=k.O;Ot&&(ve.H=Ot),ve.D&&(Sy(ve),xh(ve)),k.g=te}else Sx(k);T.i.length>0&&Oh(T)}else Be[0]!="stop"&&Be[0]!="close"||Ko(T,7);else T.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ko(T,7):Iy(T):Be[0]!="noop"&&T.l&&T.l.qa(Be),T.A=0)}}uu(4)}catch{}}var L4=class{constructor(h,v){this.g=h,this.map=v}};function tx(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nx(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function rx(h){return h.h?1:h.g?h.g.size:0}function Ty(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ay(h,v){h.g?h.g.add(v):h.h=v}function ix(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}tx.prototype.cancel=function(){if(this.i=ox(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ox(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.G);return v}return p(h.i)}var sx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F4(h,v){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const k=h[T].indexOf("=");let j,V=null;k>=0?(j=h[T].substring(0,k),V=h[T].substring(k+1)):j=h[T],v(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ui(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Ui?(this.l=h.l,pu(this,h.j),this.o=h.o,this.g=h.g,mu(this,h.u),this.h=h.h,Py(this,hx(h.i)),this.m=h.m):h&&(v=String(h).match(sx))?(this.l=!1,pu(this,v[1]||"",!0),this.o=gu(v[2]||""),this.g=gu(v[3]||"",!0),mu(this,v[4]),this.h=gu(v[5]||"",!0),Py(this,v[6]||"",!0),this.m=gu(v[7]||"")):(this.l=!1,this.i=new vu(null,this.l))}Ui.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(yu(v,ax,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(yu(v,ax,!0),"@"),h.push(hu(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(yu(T,T.charAt(0)=="/"?U4:B4,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",yu(T,W4)),h.join("")},Ui.prototype.resolve=function(h){const v=Fr(this);let T=!!h.j;T?pu(v,h.j):T=!!h.o,T?v.o=h.o:T=!!h.g,T?v.g=h.g:T=h.u!=null;var k=h.h;if(T)mu(v,h.u);else if(T=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var j=v.h.lastIndexOf("/");j!=-1&&(k=v.h.slice(0,j+1)+k)}if(j=k,j==".."||j==".")k="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){k=j.lastIndexOf("/",0)==0,j=j.split("/");const V=[];for(let te=0;te<j.length;){const ve=j[te++];ve=="."?k&&te==j.length&&V.push(""):ve==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),k&&te==j.length&&V.push("")):(V.push(ve),k=!0)}k=V.join("/")}else k=j}return T?v.h=k:T=h.i.toString()!=="",T?Py(v,hx(h.i)):T=!!h.m,T&&(v.m=h.m),v};function Fr(h){return new Ui(h)}function pu(h,v,T){h.j=T?gu(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function mu(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Py(h,v,T){v instanceof vu?(h.i=v,q4(h.i,h.l)):(T||(v=yu(v,z4)),h.i=new vu(v,h.l))}function Qe(h,v,T){h.i.set(v,T)}function Th(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function gu(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function yu(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,V4),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function V4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ax=/[#\/\?@]/g,B4=/[#\?:]/g,U4=/[#\?]/g,z4=/[#\?@]/g,W4=/#/g;function vu(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Go(h){h.g||(h.g=new Map,h.h=0,h.i&&F4(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=vu.prototype,t.add=function(h,v){Go(this),this.i=null,h=Ks(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function lx(h,v){Go(h),v=Ks(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ux(h,v){return Go(h),v=Ks(h,v),h.g.has(v)}t.forEach=function(h,v){Go(this),this.g.forEach(function(T,k){T.forEach(function(j){h.call(v,j,k,this)},this)},this)};function cx(h,v){Go(h);let T=[];if(typeof v=="string")ux(h,v)&&(T=T.concat(h.g.get(Ks(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)T=T.concat(h[v]);return T}t.set=function(h,v){return Go(this),this.i=null,h=Ks(this,h),ux(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=cx(this,h),h.length>0?String(h[0]):v):v};function fx(h,v,T){lx(h,v),T.length>0&&(h.i=null,h.g.set(Ks(h,v),p(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let k=0;k<v.length;k++){var T=v[k];const j=hu(T);T=cx(this,T);for(let V=0;V<T.length;V++){let te=j;T[V]!==""&&(te+="="+hu(T[V])),h.push(te)}}return this.i=h.join("&")};function hx(h){const v=new vu;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ks(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function q4(h,v){v&&!h.j&&(Go(h),h.i=null,h.g.forEach(function(T,k){const j=k.toLowerCase();k!=j&&(lx(this,k),fx(this,j,T))},h)),h.j=v}function H4(h,v){const T=new fu;if(s.Image){const k=new Image;k.onload=c(zi,T,"TestLoadImage: loaded",!0,v,k),k.onerror=c(zi,T,"TestLoadImage: error",!1,v,k),k.onabort=c(zi,T,"TestLoadImage: abort",!1,v,k),k.ontimeout=c(zi,T,"TestLoadImage: timeout",!1,v,k),s.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else v(!1)}function G4(h,v){const T=new fu,k=new AbortController,j=setTimeout(()=>{k.abort(),zi(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:k.signal}).then(V=>{clearTimeout(j),V.ok?zi(T,"TestPingServer: ok",!0,v):zi(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(j),zi(T,"TestPingServer: error",!1,v)})}function zi(h,v,T,k,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),k(T)}catch{}}function K4(){this.g=new I4}function Cy(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Cy,US),Cy.prototype.g=function(){return new Ah(this.i,this.h)};function Ah(h,v){at.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Ah,at),t=Ah.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,wu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||s).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_u(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,wu(this)),this.g&&(this.readyState=3,wu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dx(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function dx(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?_u(this):wu(this),this.readyState==3&&dx(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,_u(this))},t.Na=function(h){this.g&&(this.response=h,_u(this))},t.ga=function(){this.g&&_u(this)};function _u(h){h.readyState=4,h.l=null,h.j=null,h.B=null,wu(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function wu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function px(h){let v="";return z(h,function(T,k){v+=k,v+=":",v+=T,v+=`\r
`}),v}function Oy(h,v,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=px(T),typeof h=="string"?T!=null&&hu(T):Qe(h,v,T))}function dt(h){at.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(dt,at);var Y4=/^https?$/i,Q4=["POST","PUT"];t=dt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():YS.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(V){mx(this,V);return}if(h=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var j in k)T.set(j,k[j]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())T.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(V=>V.toLowerCase()=="content-type"),j=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(Q4,v,void 0)>=0)||k||j||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,te]of T)this.g.setRequestHeader(V,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){mx(this,V)}};function mx(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,gx(h),Ph(h)}function gx(h){h.A||(h.A=!0,Et(h,"complete"),Et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Et(this,"complete"),Et(this,"abort"),Ph(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ph(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?yx(this):this.Xa())},t.Xa=function(){yx(this)};function yx(h){if(h.h&&typeof o<"u"){if(h.v&&Wi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Et(h,"readystatechange"),Wi(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var k;if(k=V===0){let te=String(h.D).match(sx)[1]||null;!te&&s.self&&s.self.location&&(te=s.self.location.protocol.slice(0,-1)),k=!Y4.test(te?te.toLowerCase():"")}T=k}if(T)Et(h,"complete"),Et(h,"success");else{h.o=6;try{var j=Wi(h)>2?h.g.statusText:""}catch{j=""}h.l=j+" ["+h.ca()+"]",gx(h)}}finally{Ph(h)}}}}function Ph(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,v||Et(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),O4(v)}};function vx(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function X4(h){const v={};h=(h.g&&Wi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(R(h[k]))continue;var T=D4(h[k]);const j=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const V=v[j]||[];v[j]=V,V.push(T)}Y(v,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bu(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function _x(h){this.za=0,this.i=[],this.j=new fu,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bu("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bu("baseRetryDelayMs",5e3,h),this.Za=bu("retryDelaySeedMs",1e4,h),this.Ta=bu("forwardChannelMaxRetries",2,h),this.va=bu("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new tx(h&&h.concurrentRequestLimit),this.Ba=new K4,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_x.prototype,t.ka=8,t.I=1,t.connect=function(h,v,T,k){wn(0),this.W=h,this.H=v||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=Cx(this,null,this.W),Oh(this)};function Iy(h){if(wx(h),h.I==3){var v=h.V++,T=Fr(h.J);if(Qe(T,"SID",h.M),Qe(T,"RID",v),Qe(T,"TYPE","terminate"),Eu(h,T),v=new Bi(h,h.j,v),v.M=2,v.A=Th(Fr(T)),T=!1,s.navigator&&s.navigator.sendBeacon)try{T=s.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&s.Image&&(new Image().src=v.A,T=!0),T||(v.g=Ox(v.j,null),v.g.ea(v.A)),v.F=Date.now(),xh(v)}Px(h)}function Ch(h){h.g&&(Ny(h),h.g.cancel(),h.g=null)}function wx(h){Ch(h),h.v&&(s.clearTimeout(h.v),h.v=null),Ih(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Oh(h){if(!nx(h.h)&&!h.m){h.m=!0;var v=h.Ea;S||x(),A||(S(),A=!0),E.add(v,h),h.D=0}}function J4(h,v){return rx(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=cu(u(h.Ea,h,v),Ax(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const j=new Bi(this,this.j,h);let V=this.o;if(this.U&&(V?(V=ee(V),le(V,this.U)):V=this.U),this.u!==null||this.R||(j.J=V,V=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Ex(this,j,v),T=Fr(this.J),Qe(T,"RID",h),Qe(T,"CVER",22),this.G&&Qe(T,"X-HTTP-Session-Id",this.G),Eu(this,T),V&&(this.R?v="headers="+hu(px(V))+"&"+v:this.u&&Oy(T,this.u,V)),Ay(this.h,j),this.Ra&&Qe(T,"TYPE","init"),this.S?(Qe(T,"$req",v),Qe(T,"SID","null"),j.U=!0,Ey(j,T,null)):Ey(j,T,v),this.I=2}}else this.I==3&&(h?bx(this,h):this.i.length==0||nx(this.h)||bx(this))};function bx(h,v){var T;v?T=v.l:T=h.V++;const k=Fr(h.J);Qe(k,"SID",h.M),Qe(k,"RID",T),Qe(k,"AID",h.K),Eu(h,k),h.u&&h.o&&Oy(k,h.u,h.o),T=new Bi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Ex(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ay(h.h,T),Ey(T,k,v)}function Eu(h,v){h.H&&z(h.H,function(T,k){Qe(v,k,T)}),h.l&&z({},function(T,k){Qe(v,k,T)})}function Ex(h,v,T){T=Math.min(h.i.length,T);const k=h.l?u(h.l.Ka,h.l,h):null;e:{var j=h.i;let ve=-1;for(;;){const Ot=["count="+T];ve==-1?T>0?(ve=j[0].g,Ot.push("ofs="+ve)):ve=0:Ot.push("ofs="+ve);let Be=!0;for(let Vt=0;Vt<T;Vt++){var V=j[Vt].g;const Vr=j[Vt].map;if(V-=ve,V<0)ve=Math.max(0,j[Vt].g-100),Be=!1;else try{V="req"+V+"_"||"";try{var te=Vr instanceof Map?Vr:Object.entries(Vr);for(const[Yo,qi]of te){let Hi=qi;a(qi)&&(Hi=yy(qi)),Ot.push(V+Yo+"="+encodeURIComponent(Hi))}}catch(Yo){throw Ot.push(V+"type="+encodeURIComponent("_badmap")),Yo}}catch{k&&k(Vr)}}if(Be){te=Ot.join("&");break e}}te=void 0}return h=h.i.splice(0,T),v.G=h,te}function Sx(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;S||x(),A||(S(),A=!0),E.add(v,h),h.A=0}}function Ry(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=cu(u(h.Da,h),Ax(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,xx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=cu(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wn(10),Ch(this),xx(this))};function Ny(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function xx(h){h.g=new Bi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Fr(h.na);Qe(v,"RID","rpc"),Qe(v,"SID",h.M),Qe(v,"AID",h.K),Qe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(v,"TO",h.ia),Qe(v,"TYPE","xmlhttp"),Eu(h,v),h.u&&h.o&&Oy(v,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Th(Fr(v)),T.u=null,T.R=!0,JS(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Ch(this),Ry(this),wn(19))};function Ih(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function Tx(h,v){var T=null;if(h.g==v){Ih(h),Ny(h),h.g=null;var k=2}else if(Ty(h.h,v))T=v.G,ix(h.h,v),k=1;else return;if(h.I!=0){if(v.o)if(k==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var j=h.D;k=Eh(),Et(k,new GS(k,T)),Oh(h)}else Sx(h);else if(j=v.m,j==3||j==0&&v.X>0||!(k==1&&J4(h,v)||k==2&&Ry(h)))switch(T&&T.length>0&&(v=h.h,v.i=v.i.concat(T)),j){case 1:Ko(h,5);break;case 4:Ko(h,10);break;case 3:Ko(h,6);break;default:Ko(h,2)}}}function Ax(h,v){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*v}function Ko(h,v){if(h.j.info("Error code "+v),v==2){var T=u(h.bb,h),k=h.Ua;const j=!k;k=new Ui(k||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||pu(k,"https"),Th(k),j?H4(k.toString(),T):G4(k.toString(),T)}else wn(2);h.I=0,h.l&&h.l.pa(v),Px(h),wx(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function Px(h){if(h.I=0,h.ja=[],h.l){const v=ox(h.h);(v.length!=0||h.i.length!=0)&&(m(h.ja,v),m(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function Cx(h,v,T){var k=T instanceof Ui?Fr(T):new Ui(T);if(k.g!="")v&&(k.g=v+"."+k.g),mu(k,k.u);else{var j=s.location;k=j.protocol,v=v?v+"."+j.hostname:j.hostname,j=+j.port;const V=new Ui(null);k&&pu(V,k),v&&(V.g=v),j&&mu(V,j),T&&(V.h=T),k=V}return T=h.G,v=h.wa,T&&v&&Qe(k,T,v),Qe(k,"VER",h.ka),Eu(h,k),k}function Ox(h,v,T){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new dt(new Cy({ab:T})):new dt(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ix(){}t=Ix.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Rh(){}Rh.prototype.g=function(h,v){return new Vn(h,v)};function Vn(h,v){at.call(this),this.g=new _x(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!R(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ys(this)}f(Vn,at),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Iy(this.g)},Vn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=yy(h),h=T);v.i.push(new L4(v.Ya++,h)),v.I==3&&Oh(v)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Iy(this.g),delete this.g,Vn.Z.N.call(this)};function Rx(h){vy.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}f(Rx,vy);function Nx(){_y.call(this),this.status=1}f(Nx,_y);function Ys(h){this.g=h}f(Ys,Ix),Ys.prototype.ra=function(){Et(this.g,"a")},Ys.prototype.qa=function(h){Et(this.g,new Rx(h))},Ys.prototype.pa=function(h){Et(this.g,new Nx)},Ys.prototype.oa=function(){Et(this.g,"b")},Rh.prototype.createWebChannel=Rh.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,Z2=function(){return new Rh},J2=function(){return Eh()},X2=qo,o0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sh.NO_ERROR=0,Sh.TIMEOUT=8,Sh.HTTP_ERROR=6,Rd=Sh,KS.COMPLETE="complete",Q2=KS,zS.EventType=lu,lu.OPEN="a",lu.CLOSE="b",lu.ERROR="c",lu.MESSAGE="d",at.prototype.listen=at.prototype.J,Zu=zS,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,Y2=dt}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const uA="@firebase/firestore",cA="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new pE("@firebase/firestore");function ia(){return Ps.logLevel}function ie(t,...e){if(Ps.logLevel<=Ae.DEBUG){const n=e.map(yE);Ps.debug(`Firestore (${Fl}): ${t}`,...n)}}function Pi(t,...e){if(Ps.logLevel<=Ae.ERROR){const n=e.map(yE);Ps.error(`Firestore (${Fl}): ${t}`,...n)}}function Ja(t,...e){if(Ps.logLevel<=Ae.WARN){const n=e.map(yE);Ps.warn(`Firestore (${Fl}): ${t}`,...n)}}function yE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eM(t,r,n)}function eM(t,e,n){let r=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pi(r),new Error(r)}function ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||eM(e,i,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ll{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class m5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g5{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ia,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ia)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new tM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class y5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,z2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const r=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=w5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function s0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return hv(i)===hv(o)?Pe(i,o):hv(i)?1:-1}return Pe(t.length,e.length)}const b5=55296,E5=57343;function hv(t){const e=t.charCodeAt(0);return e>=b5&&e<=E5}function Za(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="__name__";class Wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Wr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Pe(e.length,n.length)}static compareSegments(e,n){const r=Wr.isNumericId(e),i=Wr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):s0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class rt extends Wr{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const S5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Wr{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return S5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hA}static keyField(){return new gn([hA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(rt.fromString(e))}static fromName(e){return new ue(rt.fromString(e).popFirst(5))}static empty(){return new ue(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new rt(e.slice()))}}function x5(t,e,n,r){if(e===!0&&r===!0)throw new ae(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dA(t){if(ue.isDocumentKey(t))throw new ae(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function Nd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=og(t);throw new ae(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Qf(t,e){if(!rM(t))throw new ae(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ae(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=-62135596800,mA=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mA);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pA)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mA}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qf(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Pt("string",it._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new it(0,0))}static max(){return new he(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function T5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Ao(i,ue.empty(),e)}function A5(t){return new Ao(t.readTime,t.key,Xc)}class Ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ao(he.min(),ue.empty(),Xc)}static max(){return new Ao(he.max(),ue.empty(),Xc)}}function P5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==C5)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new H((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function I5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ag.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=-1;function lg(t){return t==null}function gp(t){return t===0&&1/t==-1/0}function N5(t){return typeof t=="number"&&Number.isInteger(t)&&!gp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="";function k5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gA(e)),e=M5(t.get(n),e);return gA(e)}function M5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case iM:n+="";break;default:n+=o}}return n}function gA(t){return t+iM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yt=class a0{constructor(e,n){this.comparator=e,this.root=n||wo.EMPTY}insert(e,n){return new a0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wo.BLACK,null,null))}remove(e){return new a0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}},Jh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wo=class ai{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ai.RED,this.left=i??ai.EMPTY,this.right=o??ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ai(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}};wo.EMPTY=null,wo.RED=!0,wo.BLACK=!1;wo.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new wo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vA(this.data.getIterator())}getIteratorFrom(e){return new vA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class vA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new ro([])}unionWith(e){let n=new $t(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ro(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sM("Invalid base64 string: "+o):o}}(e);return new rn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const D5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=D5.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="server_timestamp",lM="__type__",uM="__previous_value__",cM="__local_write_time__";function vE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lM])==null?void 0:r.stringValue)===aM}function ug(t){const e=t.mapValue.fields[uM];return vE(e)?ug(e):e}function Jc(t){const e=Po(t.mapValue.fields[cM].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const yp="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||yp}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===yp}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="__type__",j5="__max__",Zh={mapValue:{}},hM="__vector__",vp="value";function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vE(t)?4:F5(t)?9007199254740991:L5(t)?10:11:de(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Po(i.timestampValue),a=Po(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Co(i.bytesValue).isEqual(Co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return vt(i.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return vt(i.integerValue)===vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=vt(i.doubleValue),a=vt(o.doubleValue);return s===a?gp(s)===gp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Za(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(yA(s)!==yA(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ni(s[l],a[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function ef(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function el(t,e){if(t===e)return 0;const n=Oo(t),r=Oo(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=vt(o.integerValue||o.doubleValue),l=vt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return _A(t.timestampValue,e.timestampValue);case 4:return _A(Jc(t),Jc(e));case 5:return s0(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Co(o),l=Co(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Pe(a[u],l[u]);if(c!==0)return c}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Pe(vt(o.latitude),vt(s.latitude));return a!==0?a:Pe(vt(o.longitude),vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var d,p,m,g;const a=o.fields||{},l=s.fields||{},u=(d=a[vp])==null?void 0:d.arrayValue,c=(p=l[vp])==null?void 0:p.arrayValue,f=Pe(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((g=c==null?void 0:c.values)==null?void 0:g.length)||0);return f!==0?f:wA(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Zh.mapValue&&s===Zh.mapValue)return 0;if(o===Zh.mapValue)return 1;if(s===Zh.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=s0(l[f],c[f]);if(d!==0)return d;const p=el(a[l[f]],u[c[f]]);if(p!==0)return p}return Pe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function _A(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Po(t),r=Po(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function wA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=el(n[i],r[i]);if(o)return o}return Pe(n.length,r.length)}function tl(t){return l0(t)}function l0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Po(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=l0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${l0(n.fields[s])}`;return i+"}"}(t.mapValue):de(61005,{value:t})}function kd(t){switch(Oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ug(t);return e?16+kd(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+kd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Bl(r.fields,(o,s)=>{i+=o.length+kd(s)}),i}(t.mapValue);default:throw de(13486,{value:t})}}function bA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function u0(t){return!!t&&"integerValue"in t}function _E(t){return!!t&&"arrayValue"in t}function EA(t){return!!t&&"nullValue"in t}function SA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dv(t){return!!t&&"mapValue"in t}function L5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fM])==null?void 0:r.stringValue)===hM}function pc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return{...t}}function F5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===j5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=gn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=pc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());dv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Hr(pc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,he.min(),he.min(),he.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,i){return new hn(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new hn(e,2,n,he.min(),he.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,he.min(),he.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.position=e,this.inclusive=n}}function xA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=el(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function TA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n="asc"){this.field=e,this.dir=n}}function V5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{}class At extends dM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U5(e,n,r):n==="array-contains"?new q5(e,r):n==="in"?new H5(e,r):n==="not-in"?new G5(e,r):n==="array-contains-any"?new K5(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z5(e,r):new W5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(el(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends dM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $r(e,n)}matches(e){return pM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pM(t){return t.op==="and"}function mM(t){return B5(t)&&pM(t)}function B5(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function c0(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+tl(t.value);if(mM(t))return t.filters.map(e=>c0(e)).join(",");{const e=t.filters.map(n=>c0(n)).join(",");return`${t.op}(${e})`}}function gM(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&gM(s,i.filters[a]),!0):!1}(t,e):void de(19439)}function yM(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${tl(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(yM).join(" ,")+"}"}(t):"Filter"}class U5 extends At{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class z5 extends At{constructor(e,n){super(e,"in",n),this.keys=vM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W5 extends At{constructor(e,n){super(e,"not-in",n),this.keys=vM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class q5 extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _E(n)&&ef(n.arrayValue,this.value)}}class H5 extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ef(this.value.arrayValue,n)}}class G5 extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ef(this.value.arrayValue,n)}}class K5 extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_E(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ef(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function AA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Y5(t,e,n,r,i,o,s)}function wE(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>c0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tl(r)).join(",")),e.Te=n}return e.Te}function bE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TA(t.startAt,e.startAt)&&TA(t.endAt,e.endAt)}function f0(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q5(t,e,n,r,i,o,s,a){return new Ul(t,e,n,r,i,o,s,a)}function EE(t){return new Ul(t)}function PA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _M(t){return t.collectionGroup!==null}function mc(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $t(gn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new tf(o,r))}),n.has(gn.keyField().canonicalString())||e.Ie.push(new tf(gn.keyField(),r))}return e.Ie}function Qr(t){const e=Ie(t);return e.Ee||(e.Ee=X5(e,mc(t))),e.Ee}function X5(t,e){if(t.limitType==="F")return AA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new tf(i.field,o)});const n=t.endAt?new _p(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _p(t.startAt.position,t.startAt.inclusive):null;return AA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function h0(t,e){const n=t.filters.concat([e]);return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wp(t,e,n){return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cg(t,e){return bE(Qr(t),Qr(e))&&t.limitType===e.limitType}function wM(t){return`${wE(Qr(t))}|lt:${t.limitType}`}function oa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yM(i)).join(", ")}]`),lg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>tl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>tl(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function fg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of mc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=xA(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,mc(r),i)||r.endAt&&!function(s,a,l){const u=xA(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,mc(r),i))}(t,e)}function J5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bM(t){return(e,n)=>{let r=!1;for(const i of mc(t)){const o=Z5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Z5(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?el(l,u):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return oM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=new Yt(ue.comparator);function Io(){return e9}const EM=new Yt(ue.comparator);function ec(...t){let e=EM;for(const n of t)e=e.insert(n.key,n);return e}function t9(t){let e=EM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return gc()}function SM(){return gc()}function gc(){return new Vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const n9=new $t(ue.comparator);function Re(...t){let e=n9;for(const n of t)e=e.add(n);return e}const r9=new $t(Pe);function i9(){return r9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gp(e)?"-0":e}}function xM(t){return{integerValue:""+t}}function o9(t,e){return N5(e)?xM(e):SE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this._=void 0}}function s9(t,e,n){return t instanceof d0?function(i,o){const s={fields:{[lM]:{stringValue:aM},[cM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vE(o)&&(o=ug(o)),o&&(s.fields[uM]=o),{mapValue:s}}(n,e):t instanceof bp?TM(t,e):t instanceof Ep?AM(t,e):function(i,o){const s=l9(i,o),a=CA(s)+CA(i.Ae);return u0(s)&&u0(i.Ae)?xM(a):SE(i.serializer,a)}(t,e)}function a9(t,e,n){return t instanceof bp?TM(t,e):t instanceof Ep?AM(t,e):n}function l9(t,e){return t instanceof p0?function(r){return u0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class d0 extends hg{}class bp extends hg{constructor(e){super(),this.elements=e}}function TM(t,e){const n=PM(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ep extends hg{constructor(e){super(),this.elements=e}}function AM(t,e){let n=PM(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class p0 extends hg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CA(t){return vt(t.integerValue||t.doubleValue)}function PM(t){return _E(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function u9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bp&&i instanceof bp||r instanceof Ep&&i instanceof Ep?Za(r.elements,i.elements,ni):r instanceof p0&&i instanceof p0?ni(r.Ae,i.Ae):r instanceof d0&&i instanceof d0}(t.transform,e.transform)}class ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xE{}function CM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f9(t.key,ys.none()):new TE(t.key,t.data,ys.none());{const n=t.data,r=Hr.empty();let i=new $t(gn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new dg(t.key,r,new ro(i.toArray()),ys.none())}}function c9(t,e,n){t instanceof TE?function(i,o,s){const a=i.value.clone(),l=IA(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof dg?function(i,o,s){if(!Md(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=IA(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(OM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yc(t,e,n,r){return t instanceof TE?function(o,s,a,l){if(!Md(o.precondition,s))return a;const u=o.value.clone(),c=RA(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof dg?function(o,s,a,l){if(!Md(o.precondition,s))return a;const u=RA(o.fieldTransforms,l,s),c=s.data;return c.setAll(OM(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Md(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function OA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Za(r,i,(o,s)=>u9(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class TE extends xE{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dg extends xE{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function IA(t,e,n){const r=new Map;ft(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,a9(s,a,n[i]))}return r}function RA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,s9(o,s,e))}return r}class f9 extends xE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&c9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=CM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(n,r)=>OA(n,r))&&Za(this.baseMutations,e.baseMutations,(n,r)=>OA(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Oe;function IM(t){if(t===void 0)return Pi("GRPC error has no .code"),J.UNKNOWN;switch(t){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return de(39323,{code:t})}}(Oe=St||(St={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=new _o([4294967295,4294967295],0);function NA(t){const e=m9().encode(t),n=new K2;return n.update(e),new Uint8Array(n.digest())}function kA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _o([n,r],0),new _o([i,o],0)]}class AE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tc(`Invalid padding: ${n}`);if(r<0)throw new tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_o.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_o.fromNumber(r)));return i.compare(g9)===1&&(i=new _o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NA(e),[r,i]=kA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new AE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=NA(e),[r,i]=kA(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pg(he.min(),i,new Yt(Pe),Io(),Re())}}class Xf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xf(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class RM{constructor(e,n){this.targetId=e,this.Ce=n}}class NM{constructor(e,n,r=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MA{constructor(){this.ve=0,this.Fe=DA(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de(38017,{changeType:o})}}),new Xf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=DA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class y9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Io(),this.Je=ed(),this.He=ed(),this.Ye=new Yt(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(f0(o))if(r===0){const s=new ue(o.path);this.et(n,s,hn.newNoDocument(s,he.min()))}else ft(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Co(r).toUint8Array()}catch(l){if(l instanceof sM)return Ja("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new AE(s,i,o)}catch(l){return Ja(l instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&f0(a.target)){const l=new ue(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,hn.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Re();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new pg(e,n,this.Ye,this.je,r);return this.je=Io(),this.Je=ed(),this.He=ed(),this.Ye=new Yt(Pe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new MA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new MA),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ed(){return new Yt(ue.comparator)}function DA(){return new Yt(ue.comparator)}const v9={asc:"ASCENDING",desc:"DESCENDING"},_9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w9={and:"AND",or:"OR"};class b9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function m0(t,e){return t.useProto3Json||lg(e)?e:{value:e}}function g0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ra(t){return ft(!!t,49232),he.fromTimestamp(function(n){const r=Po(n);return new it(r.seconds,r.nanos)}(t))}function MM(t,e){return y0(t,e).canonicalString()}function y0(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DM(t){const e=rt.fromString(t);return ft(VM(e),10190,{key:e.toString()}),e}function pv(t,e){const n=DM(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(jM(n))}function $M(t,e){return MM(t.databaseId,e)}function E9(t){const e=DM(t);return e.length===4?rt.emptyPath():jM(e)}function $A(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jM(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function S9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ft(c===void 0||typeof c=="string",58123),rn.fromBase64String(c||"")):(ft(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),rn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?J.UNKNOWN:IM(u.code);return new ae(c,u.message||"")}(s);n=new NM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pv(t,r.document.name),o=Ra(r.document.updateTime),s=r.document.createTime?Ra(r.document.createTime):he.min(),a=new Hr({mapValue:{fields:r.document.fields}}),l=hn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Dd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pv(t,r.document),o=r.readTime?Ra(r.readTime):he.min(),s=hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Dd([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pv(t,r.document),o=r.removedTargetIds||[];n=new Dd([],o,i,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new p9(i,o),a=r.targetId;n=new RM(a,s)}}return n}function x9(t,e){return{documents:[$M(t,e.path)]}}function T9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$M(t,i);const o=function(u){if(u.length!==0)return FM($r.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:sa(d.field),direction:C9(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=m0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function A9(t){let e=E9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ft(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=LM(f);return d instanceof $r&&mM(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(m){return new tf(aa(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,lg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new _p(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new _p(p,d)}(n.endAt)),Q5(e,i,s,o,a,"F",l,u)}function P9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=aa(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=aa(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=aa(n.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=aa(n.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(aa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>LM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function C9(t){return v9[t]}function O9(t){return _9[t]}function I9(t){return w9[t]}function sa(t){return{fieldPath:t.canonicalString()}}function aa(t){return gn.fromServerFormat(t.fieldPath)}function FM(t){return t instanceof At?function(n){if(n.op==="=="){if(SA(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NAN"}};if(EA(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SA(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NAN"}};if(EA(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(n.field),op:O9(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(i=>FM(i));return r.length===1?r[0]:{compositeFilter:{op:I9(n.op),filters:r}}}(t):de(54877,{filter:t})}function VM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,r,i,o=he.min(),s=he.min(),a=rn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.yt=e}}function N9(t){const e=A9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.Cn=new M9}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ao.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class M9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $t(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BM=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(BM,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="LruGarbageCollector",D9=1048576;function FA([t,e],[n,r]){const i=Pe(t,n);return i===0?Pe(e,r):i}class $9{constructor(e){this.Ir=e,this.buffer=new $t(FA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(LA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?ie(LA,"Ignoring IndexedDB error during garbage collection: ",n):await sg(n)}await this.Vr(3e5)})}}class L9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(ag.ce);const r=new $9(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(jA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ia()<=Ae.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function F9(t,e){return new L9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yc(r.mutation,i,ro.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=as();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ec();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Io();const s=gc(),a=function(){return gc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof dg)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),yc(c.mutation,u,c.mutation.getFieldMask(),it.now())):s.set(u.key,ro.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new B9(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=gc();let i=new Yt((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ro.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=SM();c.forEach(d=>{if(!o.has(d)){const p=CM(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_M(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(as());let a=Xc,l=o;return s.next(u=>H.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?H.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Re())).next(c=>({batchId:a,changes:t9(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ec();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{const u=function(f,d){return new Ul(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,hn.newInvalidDocument(c)))});let a=ec();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&yc(c.mutation,u,ro.empty(),it.now()),fg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ra(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:N9(i.bundledQuery),readTime:Ra(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.overlays=new Yt(ue.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=as(),o=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Yt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=as(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=as(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return H.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new d9(n,r));let o=this.qr.get(n);o===void 0&&(o=Re(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.Qr=new $t(Ut.$r),this.Ur=new $t(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ue(new rt([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new rt([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Re();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Ut.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new h9(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?R5:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(Pe);return n.forEach(i=>{const o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ue.isDocumentKey(o)||(o=o.child(""));const s=new Ut(new ue(o),0);let a=new $t(Pe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ut(n,0),i=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.ri=e,this.docs=function(){return new Yt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=Io();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Io();const s=n.path,a=new ue(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||P5(A5(c),r)<=0||(i.has(c.key)||fg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){de(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K9(this)}getSize(e){return H.resolve(this.size)}}class K9 extends V9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.persistence=e,this.si=new Vs(n=>wE(n),bE),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new PE,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n){this.ui={},this.overlays={},this.ci=new ag(0),this.li=!1,this.li=!0,this.hi=new q9,this.referenceDelegate=e(this),this.Pi=new Y9(this),this.indexManager=new k9,this.remoteDocumentCache=function(i){return new G9(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new R9(n),this.Ii=new z9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new H9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new Q9(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Q9 extends O5{constructor(e){super(),this.currentSequenceNumber=e}}class CE{constructor(e){this.persistence=e,this.Ri=new PE,this.Vi=null}static mi(e){return new CE(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const i=ue.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sp{constructor(e,n){this.persistence=e,this.pi=new Vs(r=>k5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=F9(this,n)}static mi(e,n){return new Sp(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,he.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kd(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new OE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return G6()?8:I5($2())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new X9;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ia()<=Ae.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(ia()<=Ae.DEBUG&&ie("QueryEngine","Query:",oa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ia()<=Ae.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):H.resolve())}ys(e,n){if(PA(n))return H.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wp(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,wp(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return PA(n)||i.isEqual(he.min())?H.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?H.resolve(null):(ia()<=Ae.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(n)),this.vs(e,s,n,T5(i,Xc)).next(a=>a))})}Ds(e,n){let r=new $t(bM(e));return n.forEach((i,o)=>{fg(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return ia()<=Ae.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",oa(n)),this.ps.getDocumentsMatchingQuery(e,n,Ao.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="LocalStore",Z9=3e8;class ez{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Yt(Pe),this.xs=new Vs(o=>wE(o),bE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function tz(t,e,n,r){return new ez(t,e,n,r)}async function zM(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function WM(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function nz(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(rn.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Z9?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,p,c)&&a.push(n.Pi.updateTargetData(o,p))});let l=Io(),u=Re();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(rz(o,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(he.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function rz(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Io();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ie(IE,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function iz(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new io(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function v0(t,e,n){const r=Ie(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Vl(s))throw s;ie(IE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function VA(t,e,n){const r=Ie(t);let i=he.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Ie(l),d=f.xs.get(c);return d!==void 0?H.resolve(f.Ms.get(d)):f.Pi.getTargetData(u,c)}(r,s,Qr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:he.min(),n?o:Re())).next(a=>(oz(r,J5(e),a),{documents:a,Qs:o})))}function oz(t,e,n){let r=t.Os.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class BA{constructor(){this.activeTargetIds=i9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sz{constructor(){this.Mo=new BA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new BA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="ConnectivityMonitor";class zA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(UA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(UA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function _0(){return td===null?td=function(){return 268435456+Math.round(2147483648*Math.random())}():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="RestConnection",lz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===yp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=_0(),a=this.zo(e,n.toUriEncodedString());ie(mv,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=Yf(u);return this.Jo(e,a,l,r,c).then(f=>(ie(mv,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ja(mv,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=lz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class fz extends uz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=_0();return new Promise((a,l)=>{const u=new Y2;u.setWithCredentials(!0),u.listenOnce(Q2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Rd.NO_ERROR:const f=u.getResponseJson();ie(ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Rd.TIMEOUT:ie(ln,`RPC '${e}' ${s} timed out`),l(new ae(J.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const d=u.getStatus();if(ie(ln,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_)>=0?_:J.UNKNOWN}(m.status);l(new ae(g,m.message))}else l(new ae(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ae(J.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ie(ln,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ie(ln,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=_0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Z2(),a=J2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ie(ln,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let d=!1,p=!1;const m=new cz({Yo:y=>{p?ie(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(ie(ln,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ie(ln,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,w,_)=>{y.listen(w,b=>{try{_(b)}catch(C){setTimeout(()=>{throw C},0)}})};return g(f,Zu.EventType.OPEN,()=>{p||(ie(ln,`RPC '${e}' stream ${i} transport opened.`),m.o_())}),g(f,Zu.EventType.CLOSE,()=>{p||(p=!0,ie(ln,`RPC '${e}' stream ${i} transport closed`),m.a_(),this.E_(f))}),g(f,Zu.EventType.ERROR,y=>{p||(p=!0,Ja(ln,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),m.a_(new ae(J.UNAVAILABLE,"The operation could not be completed")))}),g(f,Zu.EventType.MESSAGE,y=>{var w;if(!p){const _=y.data[0];ft(!!_,16349);const b=_,C=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(C){ie(ln,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let A=function(P){const I=St[P];if(I!==void 0)return IM(I)}(S),E=C.message;A===void 0&&(A=J.INTERNAL,E="Unknown error status: "+S+" with message "+C.message),p=!0,m.a_(new ae(A,E)),f.close()}else ie(ln,`RPC '${e}' stream ${i} received:`,_),m.u_(_)}}),g(a,X2.STAT_EVENT,y=>{y.stat===o0.PROXY?ie(ln,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===o0.NOPROXY&&ie(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function gv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t){return new b9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="PersistentStream";class hz{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ae(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(WA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ie(WA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dz extends hz{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=S9(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Ra(s.readTime):he.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$A(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=f0(l)?{documents:x9(o,l)}:{query:T9(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=kM(o,s.resumeToken);const u=m0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=g0(o,s.snapshotVersion.toTimestamp());const u=m0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=P9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$A(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{}class mz extends pz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,y0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(J.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,y0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(J.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class gz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(n),this.aa=!1):ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="RemoteStore";class yz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Zf(this)&&(ie(rl,"Restarting streams for network reachability change."),await async function(l){const u=Ie(l);u.Ea.add(4),await Jf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await gg(u)}(this))})}),this.Ra=new gz(r,i)}}async function gg(t){if(Zf(t))for(const e of t.da)await e(!0)}async function Jf(t){for(const e of t.da)await e(!1)}function HM(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ME(n)?kE(n):zl(n).O_()&&NE(n,e))}function RE(t,e){const n=Ie(t),r=zl(n);n.Ia.delete(e),r.O_()&&GM(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zf(n)&&n.Ra.set("Unknown"))}function NE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Y_(e)}function GM(t,e){t.Va.Ue(e),zl(t).Z_(e)}function kE(t){t.Va=new y9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Ra.ua()}function ME(t){return Zf(t)&&!zl(t).x_()&&t.Ia.size>0}function Zf(t){return Ie(t).Ea.size===0}function KM(t){t.Va=void 0}async function vz(t){t.Ra.set("Online")}async function _z(t){t.Ia.forEach((e,n)=>{NE(t,e)})}async function wz(t,e){KM(t),ME(t)?(t.Ra.ha(e),kE(t)):t.Ra.set("Unknown")}async function bz(t,e,n){if(t.Ra.set("Online"),e instanceof NM&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){ie(rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qA(t,r)}else if(e instanceof Dd?t.Va.Ze(e):e instanceof RM?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await WM(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(rn.EMPTY_BYTE_STRING,c.snapshotVersion)),GM(o,l);const f=new io(c.target,l,u,c.sequenceNumber);NE(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ie(rl,"Failed to raise snapshot:",r),await qA(t,r)}}async function qA(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await Jf(t),t.Ra.set("Offline"),n||(n=()=>WM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(rl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gg(t)})}async function HA(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ie(rl,"RemoteStore received new credentials");const r=Zf(n);n.Ea.add(3),await Jf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gg(n)}async function Ez(t,e){const n=Ie(t);e?(n.Ea.delete(2),await gg(n)):e||(n.Ea.add(2),await Jf(n),n.Ra.set("Unknown"))}function zl(t){return t.ma||(t.ma=function(n,r,i){const o=Ie(n);return o.sa(),new dz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:vz.bind(null,t),t_:_z.bind(null,t),r_:wz.bind(null,t),H_:bz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ME(t)?kE(t):t.Ra.set("Unknown")):(await t.ma.stop(),KM(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new DE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YM(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),Vl(t))return new ae(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{static emptySet(e){return new Na(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=ec(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.ga=new Yt(ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class il{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new il(e,n,Na.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class xz{constructor(){this.queries=KA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ie(n),o=i.queries;i.queries=KA(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ae(J.ABORTED,"Firestore shutting down"))}}function KA(){return new Vs(t=>wM(t),cg)}async function Tz(t,e){const n=Ie(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new Sz,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=YM(s,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&$E(n)}async function Az(t,e){const n=Ie(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pz(t,e){const n=Ie(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&$E(n)}function Cz(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function $E(t){t.Ca.forEach(e=>{e.next()})}var w0,YA;(YA=w0||(w0={})).Ma="default",YA.Cache="cache";class Oz{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==w0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.key=e}}class XM{constructor(e){this.key=e}}class Iz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=bM(e),this.tu=new Na(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new GA,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=fg(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),y=!0):this.su(d,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),y=!0):d&&!p&&(r.track({type:1,doc:d}),y=!0,(l||u)&&(a=!0)),y&&(p?(s=s.add(p),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(p,m){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:y})}};return g(p)-g(m)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new il(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new XM(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new QM(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jE="SyncEngine";class Rz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nz{constructor(e){this.key=e,this.hu=!1}}class kz{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Vs(a=>wM(a),cg),this.Iu=new Map,this.Eu=new Set,this.du=new Yt(ue.comparator),this.Au=new Map,this.Ru=new PE,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Mz(t,e,n=!0){const r=nD(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await JM(r,e,n,!0),i}async function Dz(t,e){const n=nD(t);await JM(n,e,!0,!1)}async function JM(t,e,n,r){const i=await iz(t.localStore,Qr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await $z(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&HM(t.remoteStore,i),a}async function $z(t,e,n,r,i){t.pu=(f,d,p)=>async function(g,y,w,_){let b=y.view.ru(w);b.Cs&&(b=await VA(g.localStore,y.query,!1).then(({documents:E})=>y.view.ru(E,b)));const C=_&&_.targetChanges.get(y.targetId),S=_&&_.targetMismatches.get(y.targetId)!=null,A=y.view.applyChanges(b,g.isPrimaryClient,C,S);return XA(g,y.targetId,A.au),A.snapshot}(t,f,d,p);const o=await VA(t.localStore,e,!0),s=new Iz(e,o.Qs),a=s.ru(o.documents),l=Xf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);XA(t,n,u.au);const c=new Rz(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function jz(t,e,n){const r=Ie(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!cg(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await v0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RE(r.remoteStore,i.targetId),b0(r,i.targetId)}).catch(sg)):(b0(r,i.targetId),await v0(r.localStore,i.targetId,!0))}async function Lz(t,e){const n=Ie(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RE(n.remoteStore,r.targetId))}async function ZM(t,e){const n=Ie(t);try{const r=await nz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ft(s.hu,14607):i.removedDocuments.size>0&&(ft(s.hu,42227),s.hu=!1))}),await tD(n,r,e)}catch(r){await sg(r)}}function QA(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ie(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Sa)d.va(a)&&(u=!0)}),u&&$E(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Fz(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Yt(ue.comparator);s=s.insert(o,hn.newNoDocument(o,he.min()));const a=Re().add(o),l=new pg(he.min(),new Map,new Yt(Pe),s,a);await ZM(r,l),r.du=r.du.remove(o),r.Au.delete(e),LE(r)}else await v0(r.localStore,e,!1).then(()=>b0(r,e,n)).catch(sg)}function b0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||eD(t,r)})}function eD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(RE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),LE(t))}function XA(t,e,n){for(const r of n)r instanceof QM?(t.Ru.addReference(r.key,e),Vz(t,r)):r instanceof XM?(ie(jE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||eD(t,r.key)):de(19791,{wu:r})}function Vz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ie(jE,"New document in limbo: "+n),t.Eu.add(r),LE(t))}function LE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new Nz(n)),t.du=t.du.insert(n,r),HM(t.remoteStore,new io(Qr(EE(n.path)),r,"TargetPurposeLimboResolution",ag.ce))}}async function tD(t,e,n){const r=Ie(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=OE.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=Ie(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(u,d=>H.forEach(d.Es,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>H.forEach(d.ds,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Vl(f))throw f;ie(IE,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.Ms.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.Ms=c.Ms.insert(d,g)}}}(r.localStore,o))}async function Bz(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ie(jE,"User change. New user:",e.toKey());const r=await zM(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new ae(J.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tD(n,r.Ls)}}function Uz(t,e){const n=Ie(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let i=Re();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function nD(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fz.bind(null,e),e.Pu.H_=Pz.bind(null,e.eventManager),e.Pu.yu=Cz.bind(null,e.eventManager),e}class xp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tz(this.persistence,new J9,e.initialUser,this.serializer)}Cu(e){return new UM(CE.mi,this.serializer)}Du(e){return new sz}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xp.provider={build:()=>new xp};class zz extends xp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof Sp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new j9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new UM(r=>Sp.mi(r,n),this.serializer)}}class E0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bz.bind(null,this.syncEngine),await Ez(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xz}()}createDatastore(e){const n=mg(e.databaseInfo.databaseId),r=function(o){return new fz(o)}(e.databaseInfo);return function(o,s,a,l){return new mz(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new yz(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>QA(this.syncEngine,n,0),function(){return zA.v()?new zA:new az}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new kz(i,o,s,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ie(i);ie(rl,"RemoteStore shutting down."),o.Ea.add(5),await Jf(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}E0.provider={build:()=>new E0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirestoreClient";class qz{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=nM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ie(Ro,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ie(Ro,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=YM(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yv(t,e){t.asyncQueue.verifyOperationInProgress(),ie(Ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Hz(t);ie(Ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HA(e.remoteStore,i)),t._onlineComponents=e}async function Hz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(Ro,"Using user provided OfflineComponentProvider");try{await yv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ja("Error using user provided cache. Falling back to memory cache: "+n),await yv(t,new xp)}}else ie(Ro,"Using default OfflineComponentProvider"),await yv(t,new zz(void 0));return t._offlineComponents}async function Gz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(Ro,"Using user provided OnlineComponentProvider"),await JA(t,t._uninitializedComponentsProvider._online)):(ie(Ro,"Using default OnlineComponentProvider"),await JA(t,new E0))),t._onlineComponents}async function ZA(t){const e=await Gz(t),n=e.eventManager;return n.onListen=Mz.bind(null,e.syncEngine),n.onUnlisten=jz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Dz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Lz.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="firestore.googleapis.com",tP=!0;class nP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iD,this.ssl=tP}else this.host=e.host,this.ssl=e.ssl??tP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D9)throw new ae(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class FE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p5;switch(r.type){case"firstParty":return new v5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eP.get(n);r&&(ie("ComponentProvider","Removing Datastore"),eP.delete(n),r.terminate())}(this),Promise.resolve()}}function Kz(t,e,n,r={}){var u;t=Nd(t,FE);const i=Yf(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(k2(`https://${a}`),D2("Firestore",!0)),o.host!==iD&&o.host!==a&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!Kc(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=cn.MOCK_USER;else{c=M2(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ae(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new cn(d)}t._authCredentials=new m5(new tM(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Qf(n,vn._jsonSchema))return new vn(e,r||null,new ue(rt.fromString(n.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:Pt("string",vn._jsonSchemaVersion),referencePath:Pt("string")};class ka extends Lo{constructor(e,n,r){super(e,n,EE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ue(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function rP(t,e,...n){if(t=ti(t),t instanceof FE){const r=rt.fromString(e,...n);return dA(r),new ka(t,null,r)}{if(!(t instanceof vn||t instanceof ka))throw new ae(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return dA(r),new ka(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="AsyncQueue";class oP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qM(this,"async_queue_retry"),this._c=()=>{const r=gv();r&&ie(iP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ia;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;ie(iP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",sP(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=DE.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&de(47125,{Pc:sP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class S0 extends FE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oP(e),this._firestoreClient=void 0,await e}}}function Yz(t,e){const n=typeof t=="object"?t:q2(),r=typeof t=="string"?t:yp,i=U2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=R2("firestore");o&&Kz(i,...o)}return i}function Qz(t){if(t._terminated)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Xz(t),t._firestoreClient}function Xz(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,c){return new $5(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,rD(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or(rn.fromBase64String(e))}catch(n){throw new ae(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new or(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qf(e,or._jsonSchema))return or.fromBase64String(e.bytes)}}or._jsonSchemaVersion="firestore/bytes/1.0",or._jsonSchema={type:Pt("string",or._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xr._jsonSchemaVersion}}static fromJSON(e){if(Qf(e,Xr._jsonSchema))return new Xr(e.latitude,e.longitude)}}Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:Pt("string",Xr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qf(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Jr(e.vectorValues);throw new ae(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:Pt("string",Jr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=/^__.*__$/;function aD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class VE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new VE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return x0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aD(this.Ac)&&Jz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Zz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mg(e)}Cc(e,n,r,i=!1){return new VE({Ac:e,methodName:n,Dc:r,path:gn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e8(t){const e=t._freezeSettings(),n=mg(t._databaseId);return new Zz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t8(t,e,n,r=!1){return BE(n,t.Cc(r?4:3,e))}function BE(t,e){if(lD(t=ti(t)))return r8("Unsupported field value:",e,t),n8(t,e);if(t instanceof sD)return function(r,i){if(!aD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=BE(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ti(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:g0(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:g0(i.serializer,o)}}if(r instanceof Xr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof or)return{bytesValue:kM(i.serializer,r._byteString)};if(r instanceof vn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MM(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jr)return function(s,a){return{mapValue:{fields:{[fM]:{stringValue:hM},[vp]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return SE(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${og(r)}`)}(t,e)}function n8(t,e){const n={};return oM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(t,(r,i)=>{const o=BE(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Xr||t instanceof or||t instanceof vn||t instanceof sD||t instanceof Jr)}function r8(t,e,n){if(!lD(n)||!rM(n)){const r=og(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}const i8=new RegExp("[~\\*/\\[\\]]");function o8(t,e,n){if(e.search(i8)>=0)throw x0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oD(...e.split("."))._internalPath}catch{throw x0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function x0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ae(J.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s8 extends uD{data(){return super.data()}}function UE(t,e){return typeof e=="string"?o8(t,e):e instanceof oD?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zE{}class WE extends zE{}function lP(t,e,...n){let r=[];e instanceof zE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof HE).length,a=o.filter(l=>l instanceof qE).length;if(s>1||s>0&&a>0)throw new ae(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qE extends WE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qE(e,n,r)}_apply(e){const n=this._parse(e);return cD(e._query,n),new Lo(e.firestore,e.converter,h0(e._query,n))}_parse(e){const n=e8(e.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ae(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){hP(f,c);const m=[];for(const g of f)m.push(fP(l,o,g));d={arrayValue:{values:m}}}else d=fP(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||hP(f,c),d=t8(a,s,f,c==="in"||c==="not-in");return At.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class HE extends zE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new HE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)cD(s,l),s=h0(s,l)}(e._query,n),new Lo(e.firestore,e.converter,h0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class GE extends WE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new GE(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tf(o,s)}(e._query,this._field,this._direction);return new Lo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Ul(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function uP(t,e="asc"){const n=e,r=UE("orderBy",t);return GE._create(r,n)}class KE extends WE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new KE(e,n,r)}_apply(e){return new Lo(e.firestore,e.converter,wp(e._query,this._limit,this._limitType))}}function cP(t){return KE._create("limit",t,"F")}function fP(t,e,n){if(typeof(n=ti(n))=="string"){if(n==="")throw new ae(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_M(e)&&n.indexOf("/")!==-1)throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!ue.isDocumentKey(r))throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bA(t,new ue(r))}if(n instanceof vn)return bA(t,n._key);throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(n)}.`)}function hP(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cD(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l8{convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[vp].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>vt(s.doubleValue));return new Jr(n)}convertGeoPoint(e){return new Xr(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ug(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=Po(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);ft(VM(r),9688,{name:e});const i=new Zc(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vs extends uD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:Pt("string",vs._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class $d extends vs{data(e={}){return super.data(e)}}class Ma{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $d(this._firestore,this._userDataWriter,r.key,r,new nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new $d(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new $d(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:u8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nM.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:Pt("string",Ma._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class fD extends l8{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function dP(t,...e){var l,u,c;t=ti(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||aP(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(aP(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(c=f.complete)==null?void 0:c.bind(f)}let o,s,a;if(t instanceof vn)s=Nd(t.firestore,S0),a=EE(t._key.path),o={next:f=>{e[r]&&e[r](c8(s,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Nd(t,Lo);s=Nd(f.firestore,S0),a=f._query;const d=new fD(s);o={next:p=>{e[r]&&e[r](new Ma(s,d,f,p))},error:e[r+1],complete:e[r+2]},a8(t._query)}return function(d,p,m,g){const y=new Wz(g),w=new Oz(p,y,m);return d.asyncQueue.enqueueAndForget(async()=>Tz(await ZA(d),w)),()=>{y.Nu(),d.asyncQueue.enqueueAndForget(async()=>Az(await ZA(d),w))}}(Qz(s),a,i,o)}function c8(t,e,n){const r=n.docs.get(e._key),i=new fD(t);return new vs(t,i,e._key,r,new nc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fl=i})(W2),Yc(new Xa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new S0(new g5(r.getProvider("auth-internal")),new _5(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vo(uA,cA,e),vo(uA,cA,"esm2020")})();var pP={};const mP="@firebase/database",gP="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hD="";function f8(t){hD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ht(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Gc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $i(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h8(e)}}catch{}return new d8},ls=dD("localStorage"),p8=dD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new pE("@firebase/database"),m8=function(){let t=1;return function(){return t++}}(),pD=function(t){const e=rU(t),n=new nU;n.update(e);const r=n.digest();return fE.encodeByteArray(r)},eh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=eh.apply(null,r):typeof r=="object"?e+=Ht(r):e+=r,e+=" "}return e};let vc=null,yP=!0;const g8=function(t,e){Z(!0,"Can't turn on custom loggers persistently."),Da.logLevel=Ae.VERBOSE,vc=Da.log.bind(Da)},dn=function(...t){if(yP===!0&&(yP=!1,vc===null&&p8.get("logging_enabled")===!0&&g8()),vc){const e=eh.apply(null,t);vc(e)}},th=function(t){return function(...e){dn(t,...e)}},T0=function(...t){const e="FIREBASE INTERNAL ERROR: "+eh(...t);Da.error(e)},Ci=function(...t){const e=`FIREBASE FATAL ERROR: ${eh(...t)}`;throw Da.error(e),new Error(e)},Dn=function(...t){const e="FIREBASE WARNING: "+eh(...t);Da.warn(e)},y8=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},v8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ol="[MIN_NAME]",Cs="[MAX_NAME]",Wl=function(t,e){if(t===e)return 0;if(t===ol||e===Cs)return-1;if(e===ol||t===Cs)return 1;{const n=vP(t),r=vP(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},_8=function(t,e){return t===e?0:t<e?-1:1},Ru=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ht(e))},YE=function(t){if(typeof t!="object"||t===null)return Ht(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ht(e[r]),n+=":",n+=YE(t[e[r]]);return n+="}",n},gD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ln(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const yD=function(t){Z(!mD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let f="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},w8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},b8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function E8(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const S8=new RegExp("^-?(0*)\\d{1,10}$"),x8=-2147483648,T8=2147483647,vP=function(t){if(S8.test(t)){const e=Number(t);if(e>=x8&&e<=T8)return e}return null},ql=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Dn("Exception was thrown by user callback.",n),e},Math.floor(0))}},A8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_c=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,z2(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Dn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dn(e)}}class jd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="5",vD="v",_D="s",wD="r",bD="f",ED=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,SD="ls",xD="p",A0="ac",TD="websocket",AD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ls.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function O8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function CD(t,e,n){Z(typeof e=="string","typeof type must == string"),Z(typeof n=="object","typeof params must == object");let r;if(e===TD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===AD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);O8(t)&&(n.ns=t.namespace);const i=[];return Ln(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.counters_={}}incrementCounter(e,n=1){$i(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return D6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={},_v={};function XE(t){const e=t.toString();return vv[e]||(vv[e]=new I8),vv[e]}function R8(t,e){const n=t.toString();return _v[n]||(_v[n]=e()),_v[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ql(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="start",k8="close",M8="pLPCommand",D8="pRTLPCB",OD="id",ID="pw",RD="ser",$8="cb",j8="seg",L8="ts",F8="d",V8="dframe",ND=1870,kD=30,B8=ND-kD,U8=25e3,z8=3e4;class wa{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=th(e),this.stats_=XE(n),this.urlFn=l=>(this.appCheckToken&&(l[A0]=this.appCheckToken),CD(n,AD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new N8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(z8)),v8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JE((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===_P)this.id=a,this.password=l;else if(s===k8)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[_P]="t",r[RD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[$8]=this.scriptTagHolder.uniqueCallbackIdentifier),r[vD]=QE,this.transportSessionId&&(r[_D]=this.transportSessionId),this.lastSessionId&&(r[SD]=this.lastSessionId),this.applicationId&&(r[xD]=this.applicationId),this.appCheckToken&&(r[A0]=this.appCheckToken),typeof location<"u"&&location.hostname&&ED.test(location.hostname)&&(r[wD]=bD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wa.forceAllow_=!0}static forceDisallow(){wa.forceDisallow_=!0}static isAvailable(){return wa.forceAllow_?!0:!wa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!w8()&&!b8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=O2(n),i=gD(r,B8);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[V8]="t",r[OD]=e,r[ID]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ht(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class JE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=m8(),window[M8+this.uniqueCallbackIdentifier]=e,window[D8+this.uniqueCallbackIdentifier]=n,this.myIFrame=JE.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){dn("frame writing exception"),a.stack&&dn(a.stack),dn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[OD]=this.myID,e[ID]=this.myPW,e[RD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kD+r.length<=ND;){const s=this.pendingSegs.shift();r=r+"&"+j8+i+"="+s.seg+"&"+L8+i+"="+s.ts+"&"+F8+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(U8)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=16384,q8=45e3;let Tp=null;typeof MozWebSocket<"u"?Tp=MozWebSocket:typeof WebSocket<"u"&&(Tp=WebSocket);class Pr{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=th(this.connId),this.stats_=XE(n),this.connURL=Pr.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[vD]=QE,typeof location<"u"&&location.hostname&&ED.test(location.hostname)&&(s[wD]=bD),n&&(s[_D]=n),r&&(s[SD]=r),i&&(s[A0]=i),o&&(s[xD]=o),CD(e,TD,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ls.set("previous_websocket_failure",!0);try{let r;H6(),this.mySock=new Tp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Tp!==null&&!Pr.forceDisallow_}static previouslyFailed(){return ls.isInMemoryStorage||ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){ls.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Gc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gD(n,W8);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(q8))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pr.responsesRequiredToBeHealthy=2;Pr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{static get ALL_TRANSPORTS(){return[wa,Pr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Pr&&Pr.isAvailable();let r=n&&!Pr.previouslyFailed();if(e.webSocketOnly&&(n||Dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pr];else{const i=this.transports_=[];for(const o of nf.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);nf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}nf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=6e4,G8=5e3,K8=10*1024,Y8=100*1024,wv="t",wP="d",Q8="s",bP="r",X8="e",EP="o",SP="a",xP="n",TP="p",J8="h";class Z8{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=th("c:"+this.id+":"),this.transportManager_=new nf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=_c(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Y8?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>K8?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wv in e){const n=e[wv];n===SP?this.upgradeIfSecondaryHealthy_():n===bP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===EP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ru("t",e),r=Ru("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:TP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ru("t",e),r=Ru("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ru(wv,e);if(wP in e){const r=e[wP];if(n===J8){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===xP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Q8?this.onConnectionShutdown_(r):n===bP?this.onReset_(r):n===X8?T0("Server Error: "+r):n===EP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),QE!==r&&Dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),_c(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(H8))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_c(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(G8))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:TP,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DD=class{constructor(e){this.allowedEvents_=e,this.listeners_={},Z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){Z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends DD{static getInstance(){return new Ap}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!j2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=32,PP=768;let ze=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function $e(){return new ze("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function No(t){return t.pieces_.length-t.pieceNum_}function Ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ze(t.pieces_,e)}function $D(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function eW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function jD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function LD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ze(e,0)}function kt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ze)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ze(n,0)}function Ee(t){return t.pieceNum_>=t.pieces_.length}function On(t,e){const n=we(t),r=we(e);if(n===null)return e;if(n===r)return On(Ge(t),Ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ZE(t,e){if(No(t)!==No(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Or(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(No(t)>No(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class tW{constructor(e,n){this.errorPrefix_=n,this.parts_=jD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ig(this.parts_[r]);FD(this)}}function nW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ig(e),FD(t)}function rW(t){const e=t.parts_.pop();t.byteLength_-=ig(e),t.parts_.length>0&&(t.byteLength_-=1)}function FD(t){if(t.byteLength_>PP)throw new Error(t.errorPrefix_+"has a key path longer than "+PP+" bytes ("+t.byteLength_+").");if(t.parts_.length>AP)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+AP+") or object contains a cycle "+es(t))}function es(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends DD{static getInstance(){return new e1}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=1e3,iW=60*5*1e3,CP=30*1e3,oW=1.3,sW=3e4,aW="server_kill",OP=3;class vi extends MD{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=vi.nextPersistentConnectionId_++,this.log_=th("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nu,this.maxReconnectDelay_=iW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");e1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ap.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Ht(o)),Z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new rg,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Z(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;vi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$i(e,"w")){const r=Qa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||eU(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=CP)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Z6(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ht(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):T0("Unrecognized action received from server: "+Ht(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Nu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sW&&(this.reconnectDelay_=Nu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+vi.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(f){Z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new Z8(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Dn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(aW)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Dn(f),l())}}}interrupt(e){dn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],JT(this.interruptReasons_)&&(this.reconnectDelay_=Nu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>YE(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ze(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=OP&&(this.reconnectDelay_=CP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=OP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+hD.replace(/\./g,"-")]=1,j2()?e["framework.cordova"]=1:q6()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ap.getInstance().currentlyOnline();return JT(this.interruptReasons_)&&e}}vi.nextPersistentConnectionId_=0;vi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new be(ol,e),i=new be(ol,n);return this.compare(r,i)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd;class VD extends yg{static get __EMPTY_NODE(){return nd}static set __EMPTY_NODE(e){nd=e}compare(e,n){return Wl(e.name,n.name)}isDefinedOn(e){throw jl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return be.MIN}maxPost(){return new be(Cs,nd)}makePost(e,n){return Z(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,nd)}toString(){return".key"}}const $a=new VD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??In.EMPTY_NODE,this.right=o??In.EMPTY_NODE}copy(e,n,r,i,o){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return In.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return In.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qt.RED=!0;qt.BLACK=!1;class lW{copy(e,n,r,i,o){return this}insert(e,n,r){return new qt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class In{constructor(e,n=In.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new In(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qt.BLACK,null,null))}remove(e){return new In(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new rd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new rd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new rd(this.root_,null,this.comparator_,!0,e)}}In.EMPTY_NODE=new lW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(t,e){return Wl(t.name,e.name)}function t1(t,e){return Wl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P0;function cW(t){P0=t}const BD=function(t){return typeof t=="number"?"number:"+yD(t):"string:"+t},UD=function(t){if(t.isLeafNode()){const e=t.val();Z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$i(e,".sv"),"Priority must be a string or number.")}else Z(t===P0||t.isEmpty(),"priority of unexpected type.");Z(t===P0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IP;class Bt{static set __childrenNodeConstructor(e){IP=e}static get __childrenNodeConstructor(){return IP}constructor(e,n=Bt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Bt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ee(e)?this:we(e)===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Bt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=we(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Z(r!==".priority"||No(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Bt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ge(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+BD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=yD(this.value_):e+=this.value_,this.lazyHash_=pD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Bt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Bt.__childrenNodeConstructor?-1:(Z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Bt.VALUE_TYPE_ORDER.indexOf(n),o=Bt.VALUE_TYPE_ORDER.indexOf(r);return Z(i>=0,"Unknown leaf type: "+n),Z(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Bt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zD,WD;function fW(t){zD=t}function hW(t){WD=t}class dW extends yg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Wl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return be.MIN}maxPost(){return new be(Cs,new Bt("[PRIORITY-POST]",WD))}makePost(e,n){const r=zD(e);return new be(n,new Bt("[PRIORITY-POST]",r))}toString(){return".priority"}}const gt=new dW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=Math.log(2);class mW{constructor(e){const n=o=>parseInt(Math.log(o)/pW,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Pp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let f,d;if(c===0)return null;if(c===1)return f=t[l],d=n?n(f):f,new qt(d,f.node,qt.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),g=i(p+1,u);return f=t[p],d=n?n(f):f,new qt(d,f.node,qt.BLACK,m,g)}},o=function(l){let u=null,c=null,f=t.length;const d=function(m,g){const y=f-m,w=f;f-=m;const _=i(y+1,w),b=t[y],C=n?n(b):b;p(new qt(C,b.node,g,null,_))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(m+1));g?d(y,qt.BLACK):(d(y,qt.BLACK),d(y,qt.RED))}return c},s=new mW(t.length),a=o(s);return new In(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv;const Xs={};class hi{static get Default(){return Z(Xs&&gt,"ChildrenNode.ts has not been loaded"),bv=bv||new hi({".priority":Xs},{".priority":gt}),bv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Qa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof In?n:null}hasIndex(e){return $i(this.indexSet_,e.toString())}addIndex(e,n){Z(e!==$a,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(be.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Pp(r,e.getCompare()):a=Xs;const l=e.toString(),u={...this.indexSet_};u[l]=e;const c={...this.indexes_};return c[l]=a,new hi(c,u)}addToIndexes(e,n){const r=pp(this.indexes_,(i,o)=>{const s=Qa(this.indexSet_,o);if(Z(s,"Missing index implementation for "+o),i===Xs)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(be.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Pp(a,s.getCompare())}else return Xs;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new be(e.name,a))),l.insert(e,e.node)}});return new hi(r,this.indexSet_)}removeFromIndexes(e,n){const r=pp(this.indexes_,i=>{if(i===Xs)return i;{const o=n.get(e.name);return o?i.remove(new be(e.name,o)):i}});return new hi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;class fe{static get EMPTY_NODE(){return ku||(ku=new fe(new In(t1),null,hi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&UD(this.priorityNode_),this.children_.isEmpty()&&Z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ku}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ku:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(Ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new be(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?ku:this.priorityNode_;return new fe(i,s,o)}}updateChild(e,n){const r=we(e);if(r===null)return n;{Z(we(e)!==".priority"||No(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ge(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(gt,(s,a)=>{n[s]=a.val(e),r++,o&&fe.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+BD(this.getPriority().val())+":"),this.forEachChild(gt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":pD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new be(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,be.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nh?-1:0}withIndex(e){if(e===$a||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$a||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(gt),i=n.getIterator(gt);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===$a?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gW extends fe{constructor(){super(new In(t1),fe.EMPTY_NODE,hi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const nh=new gW;Object.defineProperties(be,{MIN:{value:new be(ol,fe.EMPTY_NODE)},MAX:{value:new be(Cs,nh)}});VD.__EMPTY_NODE=fe.EMPTY_NODE;Bt.__childrenNodeConstructor=fe;cW(nh);hW(nh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=!0;function Zt(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Bt(n,Zt(e))}if(!(t instanceof Array)&&yW){const n=[];let r=!1;if(Ln(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Zt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new be(s,l)))}}),n.length===0)return fe.EMPTY_NODE;const o=Pp(n,uW,s=>s.name,t1);if(r){const s=Pp(n,gt.getCompare());return new fe(o,Zt(e),new hi({".priority":s},{".priority":gt}))}else return new fe(o,Zt(e),hi.Default)}else{let n=fe.EMPTY_NODE;return Ln(t,(r,i)=>{if($i(t,r)&&r.substring(0,1)!=="."){const o=Zt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Zt(e))}}fW(Zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW extends yg{constructor(e){super(),this.indexPath_=e,Z(!Ee(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Wl(e.name,n.name):o}makePost(e,n){const r=Zt(e),i=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new be(n,i)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,nh);return new be(Cs,e)}toString(){return jD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W extends yg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Wl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,n){const r=Zt(e);return new be(n,r)}toString(){return".value"}}const wW=new _W;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){return{type:"value",snapshotNode:t}}function sl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function rf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function of(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function bW(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){Z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(rf(n,a)):Z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(sl(n,r)):s.trackChildChange(of(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(gt,(i,o)=>{n.hasChild(i)||r.trackChildChange(rf(i,o))}),n.isLeafNode()||n.forEachChild(gt,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(of(i,o,s))}else r.trackChildChange(sl(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.indexedFilter_=new n1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sf.getStartPost_(e),this.endPost_=sf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new be(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);const o=this;return n.forEachChild(gt,(s,a)=>{o.matches(new be(s,a))||(i=i.updateImmediateChild(s,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new be(n,r))||(r=fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(d,p)=>f(p,d)}else s=this.index_.getCompare();const a=e;Z(a.numChildren()===this.limit_,"");const l=new be(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:s(d,l);if(c&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(of(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(rf(n,f));const g=a.updateImmediateChild(n,fe.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(o!=null&&o.trackChildChange(sl(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}}else return r.isEmpty()?e:c&&s(u,l)>=0?(o!=null&&(o.trackChildChange(rf(u.name,u.node)),o.trackChildChange(sl(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ol}hasEnd(){return this.endSet_}getIndexEndValue(){return Z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gt}copy(){const e=new r1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SW(t){return t.loadsAllData()?new n1(t.getIndex()):t.hasLimit()?new EW(t):new sf(t)}function RP(t){const e={};if(t.isDefault())return e;let n;if(t.index_===gt?n="$priority":t.index_===wW?n="$value":t.index_===$a?n="$key":(Z(t.index_ instanceof vW,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ht(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ht(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ht(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ht(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ht(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function NP(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends MD{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=th("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Cp.getListenId_(e,r),a={};this.listens_[s]=a;const l=RP(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let f=c;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,r),Qa(this.listens_,s)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=Cp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=RP(e._queryParams),r=e._path.toString(),i=new rg;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tU(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Gc(a.responseText)}catch{Dn("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Dn("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){return{value:null,children:new Map}}function HD(t,e,n){if(Ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=we(e);t.children.has(r)||t.children.set(r,Op());const i=t.children.get(r);e=Ge(e),HD(i,e,n)}}function C0(t,e,n){t.value!==null?n(e,t.value):TW(t,(r,i)=>{const o=new ze(e.toString()+"/"+r);C0(i,o,n)})}function TW(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ln(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=10*1e3,PW=30*1e3,CW=5*60*1e3;class OW{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new AW(e);const r=kP+(PW-kP)*Math.random();_c(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ln(e,(i,o)=>{o>0&&$i(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),_c(this.reportStats_.bind(this),Math.floor(Math.random()*2*CW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ir||(Ir={}));function GD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function i1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function o1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ir.ACK_USER_WRITE,this.source=GD()}operationForChild(e){if(Ee(this.path)){if(this.affectedTree.value!=null)return Z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ze(e));return new Ip($e(),n,this.revert)}}else return Z(we(this.path)===e,"operationForChild called for unrelated child."),new Ip(Ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.source=e,this.path=n,this.type=Ir.LISTEN_COMPLETE}operationForChild(e){return Ee(this.path)?new af(this.source,$e()):new af(this.source,Ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ir.OVERWRITE}operationForChild(e){return Ee(this.path)?new Os(this.source,$e(),this.snap.getImmediateChild(e)):new Os(this.source,Ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ir.MERGE}operationForChild(e){if(Ee(this.path)){const n=this.children.subtree(new ze(e));return n.isEmpty()?null:n.value?new Os(this.source,$e(),n.value):new lf(this.source,$e(),n)}else return Z(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new lf(this.source,Ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function RW(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(bW(s.childName,s.snapshotNode))}),Mu(t,i,"child_removed",e,r,n),Mu(t,i,"child_added",e,r,n),Mu(t,i,"child_moved",o,r,n),Mu(t,i,"child_changed",e,r,n),Mu(t,i,"value",e,r,n),i}function Mu(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>kW(t,a,l)),s.forEach(a=>{const l=NW(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function NW(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function kW(t,e,n){if(e.childName==null||n.childName==null)throw jl("Should only compare child_ events.");const r=new be(e.childName,e.snapshotNode),i=new be(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e){return{eventCache:t,serverCache:e}}function wc(t,e,n,r){return vg(new Is(e,n,r),t.serverCache)}function KD(t,e,n,r){return vg(t.eventCache,new Is(e,n,r))}function O0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Rs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev;const MW=()=>(Ev||(Ev=new In(_8)),Ev);class Ze{static fromObject(e){let n=new Ze(null);return Ln(e,(r,i)=>{n=n.set(new ze(r),i)}),n}constructor(e,n=MW()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$e(),value:this.value};if(Ee(e))return null;{const r=we(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Ge(e),n);return o!=null?{path:kt(new ze(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ee(e))return this;{const n=we(e),r=this.children.get(n);return r!==null?r.subtree(Ge(e)):new Ze(null)}}set(e,n){if(Ee(e))return new Ze(n,this.children);{const r=we(e),o=(this.children.get(r)||new Ze(null)).set(Ge(e),n),s=this.children.insert(r,o);return new Ze(this.value,s)}}remove(e){if(Ee(e))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const n=we(e),r=this.children.get(n);if(r){const i=r.remove(Ge(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Ze(null):new Ze(this.value,o)}else return this}}get(e){if(Ee(e))return this.value;{const n=we(e),r=this.children.get(n);return r?r.get(Ge(e)):null}}setTree(e,n){if(Ee(e))return n;{const r=we(e),o=(this.children.get(r)||new Ze(null)).setTree(Ge(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Ze(this.value,s)}}fold(e){return this.fold_($e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(kt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ee(e))return null;{const o=we(e),s=this.children.get(o);return s?s.findOnPath_(Ge(e),kt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,r){if(Ee(e))return this;{this.value&&r(n,this.value);const i=we(e),o=this.children.get(i);return o?o.foreachOnPath_(Ge(e),kt(n,i),r):new Ze(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(kt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.writeTree_=e}static empty(){return new Mr(new Ze(null))}}function bc(t,e,n){if(Ee(e))return new Mr(new Ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=On(i,e);return o=o.updateChild(s,n),new Mr(t.writeTree_.set(i,o))}else{const i=new Ze(n),o=t.writeTree_.setTree(e,i);return new Mr(o)}}}function MP(t,e,n){let r=t;return Ln(n,(i,o)=>{r=bc(r,kt(e,i),o)}),r}function DP(t,e){if(Ee(e))return Mr.empty();{const n=t.writeTree_.setTree(e,new Ze(null));return new Mr(n)}}function I0(t,e){return Bs(t,e)!=null}function Bs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(On(n.path,e)):null}function $P(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gt,(r,i)=>{e.push(new be(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new be(r,i.value))}),e}function bo(t,e){if(Ee(e))return t;{const n=Bs(t,e);return n!=null?new Mr(new Ze(n)):new Mr(t.writeTree_.subtree(e))}}function R0(t){return t.writeTree_.isEmpty()}function al(t,e){return YD($e(),t.writeTree_,e)}function YD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(Z(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=YD(kt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(kt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e){return ZD(e,t)}function DW(t,e,n,r,i){Z(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=bc(t.visibleWrites,e,n)),t.lastWriteId=r}function $W(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function jW(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Z(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&LW(a,r.path)?i=!1:Or(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return FW(t),!0;if(r.snap)t.visibleWrites=DP(t.visibleWrites,r.path);else{const a=r.children;Ln(a,l=>{t.visibleWrites=DP(t.visibleWrites,kt(r.path,l))})}return!0}else return!1}function LW(t,e){if(t.snap)return Or(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Or(kt(t.path,n),e))return!0;return!1}function FW(t){t.visibleWrites=QD(t.allWrites,VW,$e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function VW(t){return t.visible}function QD(t,e,n){let r=Mr.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Or(n,s)?(a=On(n,s),r=bc(r,a,o.snap)):Or(s,n)&&(a=On(s,n),r=bc(r,$e(),o.snap.getChild(a)));else if(o.children){if(Or(n,s))a=On(n,s),r=MP(r,a,o.children);else if(Or(s,n))if(a=On(s,n),Ee(a))r=MP(r,$e(),o.children);else{const l=Qa(o.children,we(a));if(l){const u=l.getChild(Ge(a));r=bc(r,$e(),u)}}}else throw jl("WriteRecord should have .snap or .children")}}return r}function XD(t,e,n,r,i){if(!r&&!i){const o=Bs(t.visibleWrites,e);if(o!=null)return o;{const s=bo(t.visibleWrites,e);if(R0(s))return n;if(n==null&&!I0(s,$e()))return null;{const a=n||fe.EMPTY_NODE;return al(s,a)}}}else{const o=bo(t.visibleWrites,e);if(!i&&R0(o))return n;if(!i&&n==null&&!I0(o,$e()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Or(u.path,e)||Or(e,u.path))},a=QD(t.allWrites,s,e),l=n||fe.EMPTY_NODE;return al(a,l)}}}function BW(t,e,n){let r=fe.EMPTY_NODE;const i=Bs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=bo(t.visibleWrites,e);return n.forEachChild(gt,(s,a)=>{const l=al(bo(o,new ze(s)),a);r=r.updateImmediateChild(s,l)}),$P(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=bo(t.visibleWrites,e);return $P(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function UW(t,e,n,r,i){Z(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=kt(e,n);if(I0(t.visibleWrites,o))return null;{const s=bo(t.visibleWrites,o);return R0(s)?i.getChild(n):al(s,i.getChild(n))}}function zW(t,e,n,r){const i=kt(e,n),o=Bs(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=bo(t.visibleWrites,i);return al(s,r.getNode().getImmediateChild(n))}else return null}function WW(t,e){return Bs(t.visibleWrites,e)}function qW(t,e,n,r,i,o,s){let a;const l=bo(t.visibleWrites,e),u=Bs(l,$e());if(u!=null)a=u;else if(n!=null)a=al(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],f=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=d.getNext();for(;p&&c.length<i;)f(p,r)!==0&&c.push(p),p=d.getNext();return c}else return[]}function HW(){return{visibleWrites:Mr.empty(),allWrites:[],lastWriteId:-1}}function Rp(t,e,n,r){return XD(t.writeTree,t.treePath,e,n,r)}function a1(t,e){return BW(t.writeTree,t.treePath,e)}function jP(t,e,n,r){return UW(t.writeTree,t.treePath,e,n,r)}function Np(t,e){return WW(t.writeTree,kt(t.treePath,e))}function GW(t,e,n,r,i,o){return qW(t.writeTree,t.treePath,e,n,r,i,o)}function l1(t,e,n){return zW(t.writeTree,t.treePath,e,n)}function JD(t,e){return ZD(kt(t.treePath,e),t.writeTree)}function ZD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Z(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,of(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,rf(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,sl(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,of(r,e.snapshotNode,i.oldSnap));else throw jl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const e$=new YW;class u1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Is(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return l1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Rs(this.viewCache_),o=GW(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t){return{filter:t}}function XW(t,e){Z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function JW(t,e,n,r,i){const o=new KW;let s,a;if(n.type===Ir.OVERWRITE){const u=n;u.source.fromUser?s=N0(t,e,u.path,u.snap,r,i,o):(Z(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ee(u.path),s=kp(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Ir.MERGE){const u=n;u.source.fromUser?s=eq(t,e,u.path,u.children,r,i,o):(Z(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=k0(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Ir.ACK_USER_WRITE){const u=n;u.revert?s=rq(t,e,u.path,r,i,o):s=tq(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Ir.LISTEN_COMPLETE)s=nq(t,e,n.path,r,o);else throw jl("Unknown operation type: "+n.type);const l=o.getChanges();return ZW(e,s,l),{viewCache:s,changes:l}}function ZW(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=O0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(qD(O0(e)))}}function t$(t,e,n,r,i,o){const s=e.eventCache;if(Np(r,n)!=null)return e;{let a,l;if(Ee(n))if(Z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Rs(e),c=u instanceof fe?u:fe.EMPTY_NODE,f=a1(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const u=Rp(r,Rs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=we(n);if(u===".priority"){Z(No(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const f=jP(r,n,c,l);f!=null?a=t.filter.updatePriority(c,f):a=s.getNode()}else{const c=Ge(n);let f;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const d=jP(r,n,s.getNode(),l);d!=null?f=s.getNode().getImmediateChild(u).updateChild(c,d):f=s.getNode().getImmediateChild(u)}else f=l1(r,u,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),u,f,c,i,o):a=s.getNode()}}return wc(e,a,s.isFullyInitialized()||Ee(n),t.filter.filtersNodes())}}function kp(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(Ee(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=we(n);if(!l.isCompleteForPath(n)&&No(n)>1)return e;const m=Ge(n),y=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),p,y,m,e$,null)}const f=KD(e,u,l.isFullyInitialized()||Ee(n),c.filtersNodes()),d=new u1(i,f,o);return t$(t,f,n,i,d,a)}function N0(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new u1(i,e,o);if(Ee(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=wc(e,u,!0,t.filter.filtersNodes());else{const f=we(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=wc(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=Ge(n),p=a.getNode().getImmediateChild(f);let m;if(Ee(d))m=r;else{const g=c.getCompleteChild(f);g!=null?$D(d)===".priority"&&g.getChild(LD(d)).isEmpty()?m=g:m=g.updateChild(d,r):m=fe.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),f,m,d,c,s);l=wc(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function LP(t,e){return t.eventCache.isCompleteForChild(e)}function eq(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=kt(n,l);LP(e,we(c))&&(a=N0(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=kt(n,l);LP(e,we(c))||(a=N0(t,a,c,u,i,o,s))}),a}function FP(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function k0(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ee(n)?u=r:u=new Ze(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((f,d)=>{if(c.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),m=FP(t,p,d);l=kp(t,l,new ze(f),m,i,o,s,a)}}),u.children.inorderTraversal((f,d)=>{const p=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!c.hasChild(f)&&!p){const m=e.serverCache.getNode().getImmediateChild(f),g=FP(t,m,d);l=kp(t,l,new ze(f),g,i,o,s,a)}}),l}function tq(t,e,n,r,i,o,s){if(Np(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ee(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kp(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Ee(n)){let u=new Ze(null);return l.getNode().forEachChild($a,(c,f)=>{u=u.set(new ze(c),f)}),k0(t,e,n,u,i,o,a,s)}else return e}else{let u=new Ze(null);return r.foreach((c,f)=>{const d=kt(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),k0(t,e,n,u,i,o,a,s)}}function nq(t,e,n,r,i){const o=e.serverCache,s=KD(e,o.getNode(),o.isFullyInitialized()||Ee(n),o.isFiltered());return t$(t,s,n,r,e$,i)}function rq(t,e,n,r,i,o){let s;if(Np(r,n)!=null)return e;{const a=new u1(r,e,i),l=e.eventCache.getNode();let u;if(Ee(n)||we(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Rp(r,Rs(e));else{const f=e.serverCache.getNode();Z(f instanceof fe,"serverChildren would be complete if leaf node"),c=a1(r,f)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=we(n);let f=l1(r,c,e.serverCache);f==null&&e.serverCache.isCompleteForChild(c)&&(f=l.getImmediateChild(c)),f!=null?u=t.filter.updateChild(l,c,f,Ge(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,fe.EMPTY_NODE,Ge(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Rp(r,Rs(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Np(r,$e())!=null,wc(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new n1(r.getIndex()),o=SW(r);this.processor_=QW(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(fe.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),c=new Is(l,s.isFullyInitialized(),i.filtersNodes()),f=new Is(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=vg(f,c),this.eventGenerator_=new IW(this.query_)}get query(){return this.query_}}function oq(t){return t.viewCache_.serverCache.getNode()}function sq(t,e){const n=Rs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ee(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function VP(t){return t.eventRegistrations_.length===0}function aq(t,e){t.eventRegistrations_.push(e)}function BP(t,e,n){const r=[];if(n){Z(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function UP(t,e,n,r){e.type===Ir.MERGE&&e.source.queryId!==null&&(Z(Rs(t.viewCache_),"We should always have a full cache before handling merges"),Z(O0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=JW(t.processor_,i,e,n,r);return XW(t.processor_,o.viewCache),Z(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,n$(t,o.changes,o.viewCache.eventCache.getNode(),null)}function lq(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(gt,(o,s)=>{r.push(sl(o,s))}),n.isFullyInitialized()&&r.push(qD(n.getNode())),n$(t,r,n.getNode(),e)}function n$(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return RW(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp;class uq{constructor(){this.views=new Map}}function cq(t){Z(!Mp,"__referenceConstructor has already been defined"),Mp=t}function fq(){return Z(Mp,"Reference.ts has not been loaded"),Mp}function hq(t){return t.views.size===0}function c1(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return Z(o!=null,"SyncTree gave us an op for an invalid query."),UP(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(UP(s,e,n,r));return o}}function dq(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Rp(n,i?r:null),l=!1;a?l=!0:r instanceof fe?(a=a1(n,r),l=!1):(a=fe.EMPTY_NODE,l=!1);const u=vg(new Is(a,l,!1),new Is(r,i,!1));return new iq(e,u)}return s}function pq(t,e,n,r,i,o){const s=dq(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),aq(s,n),lq(s,n)}function mq(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=ko(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(BP(u,n,r)),VP(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(BP(l,n,r)),VP(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ko(t)&&o.push(new(fq())(e._repo,e._path)),{removed:o,events:s}}function r$(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ja(t,e){let n=null;for(const r of t.views.values())n=n||sq(r,e);return n}function i$(t,e){if(e._queryParams.loadsAllData())return _g(t);{const r=e._queryIdentifier;return t.views.get(r)}}function o$(t,e){return i$(t,e)!=null}function ko(t){return _g(t)!=null}function _g(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp;function gq(t){Z(!Dp,"__referenceConstructor has already been defined"),Dp=t}function yq(){return Z(Dp,"Reference.ts has not been loaded"),Dp}let vq=1;class zP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=HW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function s$(t,e,n,r,i){return DW(t.pendingWriteTree_,e,n,r,i),i?rh(t,new Os(GD(),e,n)):[]}function us(t,e,n=!1){const r=$W(t.pendingWriteTree_,e);if(jW(t.pendingWriteTree_,e)){let o=new Ze(null);return r.snap!=null?o=o.set($e(),!0):Ln(r.children,s=>{o=o.set(new ze(s),!0)}),rh(t,new Ip(r.path,o,n))}else return[]}function wg(t,e,n){return rh(t,new Os(i1(),e,n))}function _q(t,e,n){const r=Ze.fromObject(n);return rh(t,new lf(i1(),e,r))}function wq(t,e){return rh(t,new af(i1(),e))}function bq(t,e,n){const r=h1(t,n);if(r){const i=d1(r),o=i.path,s=i.queryId,a=On(o,e),l=new af(o1(s),a);return p1(t,o,l)}else return[]}function M0(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||o$(s,e))){const l=mq(s,e,n,r);hq(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(d,p)=>ko(p));if(c&&!f){const d=t.syncPointTree_.subtree(o);if(!d.isEmpty()){const p=xq(d);for(let m=0;m<p.length;++m){const g=p[m],y=g.query,w=u$(t,g);t.listenProvider_.startListening(Ec(y),$p(t,y),w.hashFn,w.onComplete)}}}!f&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Ec(e),null):u.forEach(d=>{const p=t.queryToTagMap.get(bg(d));t.listenProvider_.stopListening(Ec(d),p)}))}Tq(t,u)}return a}function Eq(t,e,n,r){const i=h1(t,r);if(i!=null){const o=d1(i),s=o.path,a=o.queryId,l=On(s,e),u=new Os(o1(a),l,n);return p1(t,s,u)}else return[]}function Sq(t,e,n,r){const i=h1(t,r);if(i){const o=d1(i),s=o.path,a=o.queryId,l=On(s,e),u=Ze.fromObject(n),c=new lf(o1(a),l,u);return p1(t,s,c)}else return[]}function WP(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(d,p)=>{const m=On(d,i);o=o||ja(p,m),s=s||ko(p)});let a=t.syncPointTree_.get(i);a?(s=s||ko(a),o=o||ja(a,$e())):(a=new uq,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=fe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const g=ja(m,$e());g&&(o=o.updateImmediateChild(p,g))}));const u=o$(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=bg(e);Z(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=Aq();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const c=s1(t.pendingWriteTree_,i);let f=pq(a,e,n,c,o,l);if(!u&&!s&&!r){const d=i$(a,e);f=f.concat(Pq(t,e,d))}return f}function f1(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=On(s,e),u=ja(a,l);if(u)return u});return XD(i,e,o,n,!0)}function rh(t,e){return a$(e,t.syncPointTree_,null,s1(t.pendingWriteTree_,$e()))}function a$(t,e,n,r){if(Ee(t.path))return l$(t,e,n,r);{const i=e.get($e());n==null&&i!=null&&(n=ja(i,$e()));let o=[];const s=we(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=JD(r,s);o=o.concat(a$(a,l,u,c))}return i&&(o=o.concat(c1(i,t,r,n))),o}}function l$(t,e,n,r){const i=e.get($e());n==null&&i!=null&&(n=ja(i,$e()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=JD(r,s),c=t.operationForChild(s);c&&(o=o.concat(l$(c,a,l,u)))}),i&&(o=o.concat(c1(i,t,r,n))),o}function u$(t,e){const n=e.query,r=$p(t,n);return{hashFn:()=>(oq(e)||fe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?bq(t,n._path,r):wq(t,n._path);{const o=E8(i,n);return M0(t,n,null,o)}}}}function $p(t,e){const n=bg(e);return t.queryToTagMap.get(n)}function bg(t){return t._path.toString()+"$"+t._queryIdentifier}function h1(t,e){return t.tagToQueryMap.get(e)}function d1(t){const e=t.indexOf("$");return Z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ze(t.substr(0,e))}}function p1(t,e,n){const r=t.syncPointTree_.get(e);Z(r,"Missing sync point for query tag that we're tracking");const i=s1(t.pendingWriteTree_,e);return c1(r,n,i,null)}function xq(t){return t.fold((e,n,r)=>{if(n&&ko(n))return[_g(n)];{let i=[];return n&&(i=r$(n)),Ln(r,(o,s)=>{i=i.concat(s)}),i}})}function Ec(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(yq())(t._repo,t._path):t}function Tq(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=bg(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Aq(){return vq++}function Pq(t,e,n){const r=e._path,i=$p(t,e),o=u$(t,n),s=t.listenProvider_.startListening(Ec(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)Z(!ko(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,f)=>{if(!Ee(u)&&c&&ko(c))return[_g(c).query];{let d=[];return c&&(d=d.concat(r$(c).map(p=>p.query))),Ln(f,(p,m)=>{d=d.concat(m)}),d}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Ec(c),$p(t,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new m1(n)}node(){return this.node_}}class g1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=kt(this.path_,e);return new g1(this.syncTree_,n)}node(){return f1(this.syncTree_,this.path_)}}const Cq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qP=function(t,e,n){if(!t||typeof t!="object")return t;if(Z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Oq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Iq(t[".sv"],e);Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Oq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Z(!1,"Unexpected server value: "+t)}},Iq=function(t,e,n){t.hasOwnProperty("increment")||Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Z(!1,"Unexpected increment value: "+r);const i=e.node();if(Z(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Rq=function(t,e,n,r){return y1(e,new g1(n,t),r)},c$=function(t,e,n){return y1(t,new m1(e),n)};function y1(t,e,n){const r=t.getPriority().val(),i=qP(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=qP(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Bt(a,Zt(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Bt(i))),s.forEachChild(gt,(a,l)=>{const u=y1(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function _1(t,e){let n=e instanceof ze?e:new ze(e),r=t,i=we(n);for(;i!==null;){const o=Qa(r.node.children,i)||{children:{},childCount:0};r=new v1(i,r,o),n=Ge(n),i=we(n)}return r}function Hl(t){return t.node.value}function f$(t,e){t.node.value=e,D0(t)}function h$(t){return t.node.childCount>0}function Nq(t){return Hl(t)===void 0&&!h$(t)}function Eg(t,e){Ln(t.node.children,(n,r)=>{e(new v1(n,t,r))})}function d$(t,e,n,r){n&&e(t),Eg(t,i=>{d$(i,e,!0)})}function kq(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ih(t){return new ze(t.parent===null?t.name:ih(t.parent)+"/"+t.name)}function D0(t){t.parent!==null&&Mq(t.parent,t.name,t)}function Mq(t,e,n){const r=Nq(n),i=$i(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,D0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,D0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=/[\[\].#$\/\u0000-\u001F\u007F]/,$q=/[\[\].#$\u0000-\u001F\u007F]/,Sv=10*1024*1024,p$=function(t){return typeof t=="string"&&t.length!==0&&!Dq.test(t)},m$=function(t){return typeof t=="string"&&t.length!==0&&!$q.test(t)},jq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),m$(t)},Lq=function(t,e,n,r){w1(dE(t,"value"),e,n)},w1=function(t,e,n){const r=n instanceof ze?new tW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+es(r));if(typeof e=="function")throw new Error(t+"contains a function "+es(r)+" with contents = "+e.toString());if(mD(e))throw new Error(t+"contains "+e.toString()+" "+es(r));if(typeof e=="string"&&e.length>Sv/3&&ig(e)>Sv)throw new Error(t+"contains a string greater than "+Sv+" utf8 bytes "+es(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ln(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!p$(s)))throw new Error(t+" contains an invalid key ("+s+") "+es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nW(r,s),w1(t,a,r),rW(r)}),i&&o)throw new Error(t+' contains ".value" child '+es(r)+" in addition to actual children.")}},g$=function(t,e,n,r){if(!m$(n))throw new Error(dE(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Fq=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),g$(t,e,n)},Vq=function(t,e){if(we(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Bq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!p$(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jq(n))throw new Error(dE(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function b1(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!ZE(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function y$(t,e,n){b1(t,n),v$(t,r=>ZE(r,e))}function Oi(t,e,n){b1(t,n),v$(t,r=>Or(r,e)||Or(e,r))}function v$(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(zq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zq(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();vc&&dn("event: "+n.toString()),ql(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq="repo_interrupt",qq=25;class Hq{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Uq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Op(),this.transactionQueueTree_=new v1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Gq(t,e,n){if(t.stats_=XE(t.repoInfo_),t.forceRestClient_||A8())t.server_=new Cp(t.repoInfo_,(r,i,o,s)=>{HP(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GP(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ht(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new vi(t.repoInfo_,e,(r,i,o,s)=>{HP(t,r,i,o,s)},r=>{GP(t,r)},r=>{Yq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=R8(t.repoInfo_,()=>new OW(t.stats_,t.server_)),t.infoData_=new xW,t.infoSyncTree_=new zP({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=wg(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),S1(t,"connected",!1),t.serverSyncTree_=new zP({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);Oi(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Kq(t){const n=t.infoData_.getNode(new ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function E1(t){return Cq({timestamp:Kq(t)})}function HP(t,e,n,r,i){t.dataUpdateCount++;const o=new ze(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=pp(n,u=>Zt(u));s=Sq(t.serverSyncTree_,o,l,i)}else{const l=Zt(n);s=Eq(t.serverSyncTree_,o,l,i)}else if(r){const l=pp(n,u=>Zt(u));s=_q(t.serverSyncTree_,o,l)}else{const l=Zt(n);s=wg(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Sg(t,o)),Oi(t.eventQueue_,a,s)}function GP(t,e){S1(t,"connected",e),e===!1&&Xq(t)}function Yq(t,e){Ln(e,(n,r)=>{S1(t,n,r)})}function S1(t,e,n){const r=new ze("/.info/"+e),i=Zt(n);t.infoData_.updateSnapshot(r,i);const o=wg(t.infoSyncTree_,r,i);Oi(t.eventQueue_,r,o)}function _$(t){return t.nextWriteId_++}function Qq(t,e,n,r,i){x1(t,"set",{path:e.toString(),value:n,priority:r});const o=E1(t),s=Zt(n,r),a=f1(t.serverSyncTree_,e),l=c$(s,a,o),u=_$(t),c=s$(t.serverSyncTree_,e,l,u,!0);b1(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(d,p)=>{const m=d==="ok";m||Dn("set at "+e+" failed: "+d);const g=us(t.serverSyncTree_,u,!m);Oi(t.eventQueue_,e,g),e7(t,i,d,p)});const f=x$(t,e);Sg(t,f),Oi(t.eventQueue_,f,[])}function Xq(t){x1(t,"onDisconnectEvents");const e=E1(t),n=Op();C0(t.onDisconnect_,$e(),(i,o)=>{const s=Rq(i,o,t.serverSyncTree_,e);HD(n,i,s)});let r=[];C0(n,$e(),(i,o)=>{r=r.concat(wg(t.serverSyncTree_,i,o));const s=x$(t,i);Sg(t,s)}),t.onDisconnect_=Op(),Oi(t.eventQueue_,$e(),r)}function Jq(t,e,n){let r;we(e._path)===".info"?r=WP(t.infoSyncTree_,e,n):r=WP(t.serverSyncTree_,e,n),y$(t.eventQueue_,e._path,r)}function $0(t,e,n){let r;we(e._path)===".info"?r=M0(t.infoSyncTree_,e,n):r=M0(t.serverSyncTree_,e,n),y$(t.eventQueue_,e._path,r)}function Zq(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Wq)}function x1(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dn(n,...e)}function e7(t,e,n,r){e&&ql(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function w$(t,e,n){return f1(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function T1(t,e=t.transactionQueueTree_){if(e||xg(t,e),Hl(e)){const n=E$(t,e);Z(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&t7(t,ih(e),n)}else h$(e)&&Eg(e,n=>{T1(t,n)})}function t7(t,e,n){const r=n.map(u=>u.currentWriteId),i=w$(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Z(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const f=On(e,c.path);o=o.updateChild(f,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{x1(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(us(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();xg(t,_1(t.transactionQueueTree_,e)),T1(t,t.transactionQueueTree_),Oi(t.eventQueue_,e,c);for(let d=0;d<f.length;d++)ql(f[d])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Dn("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Sg(t,e)}},s)}function Sg(t,e){const n=b$(t,e),r=ih(n),i=E$(t,n);return n7(t,i,r),r}function n7(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=On(n,l.path);let c=!1,f;if(Z(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,f=l.abortReason,i=i.concat(us(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=qq)c=!0,f="maxretry",i=i.concat(us(t.serverSyncTree_,l.currentWriteId,!0));else{const d=w$(t,l.path,s);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){w1("transaction failed: Data returned ",p,l.path);let m=Zt(p);typeof p=="object"&&p!=null&&$i(p,".priority")||(m=m.updatePriority(d.getPriority()));const y=l.currentWriteId,w=E1(t),_=c$(m,d,w);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=_,l.currentWriteId=_$(t),s.splice(s.indexOf(y),1),i=i.concat(s$(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(us(t.serverSyncTree_,y,!0))}else c=!0,f="nodata",i=i.concat(us(t.serverSyncTree_,l.currentWriteId,!0))}Oi(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}xg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ql(r[a]);T1(t,t.transactionQueueTree_)}function b$(t,e){let n,r=t.transactionQueueTree_;for(n=we(e);n!==null&&Hl(r)===void 0;)r=_1(r,n),e=Ge(e),n=we(e);return r}function E$(t,e){const n=[];return S$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function S$(t,e,n){const r=Hl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Eg(e,i=>{S$(t,i,n)})}function xg(t,e){const n=Hl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,f$(e,n.length>0?n:void 0)}Eg(e,r=>{xg(t,r)})}function x$(t,e){const n=ih(b$(t,e)),r=_1(t.transactionQueueTree_,e);return kq(r,i=>{xv(t,i)}),xv(t,r),d$(r,i=>{xv(t,i)}),n}function xv(t,e){const n=Hl(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(Z(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(Z(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(us(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?f$(e,void 0):n.length=o+1,Oi(t.eventQueue_,ih(e),i);for(let s=0;s<r.length;s++)ql(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function i7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Dn(`Invalid query segment '${n}' in query '${t}'`)}return e}const KP=function(t,e){const n=o7(t),r=n.namespace;n.domain==="firebase.com"&&Ci(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||y8();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new PD(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ze(n.pathString)}},o7=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(c,f)),c<f&&(i=r7(t.substring(c,f)));const d=i7(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ht(this.snapshot.exportVal())}}class a7{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ee(this._path)?null:$D(this._path)}get ref(){return new Fo(this._repo,this._path)}get _queryIdentifier(){const e=NP(this._queryParams),n=YE(e);return n==="{}"?"default":n}get _queryObject(){return NP(this._queryParams)}isEqual(e){if(e=ti(e),!(e instanceof A1))return!1;const n=this._repo===e._repo,r=ZE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+eW(this._path)}}class Fo extends A1{constructor(e,n){super(e,n,new r1,!1)}get parent(){const e=LD(this._path);return e===null?null:new Fo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class jp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ze(e),r=j0(this.ref,e);return new jp(this._node.getChild(n),r,gt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new jp(i,j0(this.ref,r),gt)))}hasChild(e){const n=new ze(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Tr(t,e){return t=ti(t),t._checkNotDeleted("ref"),e!==void 0?j0(t._root,e):t._root}function j0(t,e){return t=ti(t),we(t._path)===null?Fq("child","path",e):g$("child","path",e),new Fo(t._repo,kt(t._path,e))}function Du(t,e){t=ti(t),Vq("set",t._path),Lq("set",e,t._path);const n=new rg;return Qq(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class P1{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new s7("value",this,new jp(e.snapshotNode,new Fo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new a7(this,e,n):null}matches(e){return e instanceof P1?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function u7(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const l=n,u=(c,f)=>{$0(t._repo,t,a),l(c,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new l7(n,o||void 0),a=new P1(s);return Jq(t._repo,t,a),()=>$0(t._repo,t,a)}function Js(t,e,n,r){return u7(t,"value",e,n,r)}function c7(t,e,n){$0(t._repo,t,null)}cq(Fo);gq(Fo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7="FIREBASE_DATABASE_EMULATOR_HOST",L0={};let h7=!1;function d7(t,e,n,r){const i=e.lastIndexOf(":"),o=e.substring(0,i),s=Yf(o);t.repoInfo_=new PD(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function p7(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=KP(o,i),a=s.repoInfo,l;typeof process<"u"&&pP&&(l=pP[f7]),l?(o=`http://${l}?ns=${a.namespace}`,s=KP(o,i),a=s.repoInfo):s.repoInfo.secure;const u=new C8(t.name,t.options,e);Bq("Invalid Firebase Database URL",s),Ee(s.path)||Ci("Database URL must point to the root of a Firebase Database (not including a child path).");const c=g7(a,t,u,new P8(t,n));return new y7(c,t)}function m7(t,e){const n=L0[e];(!n||n[t.key]!==t)&&Ci(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Zq(t),delete n[t.key]}function g7(t,e,n,r){let i=L0[e.name];i||(i={},L0[e.name]=i);let o=i[t.toURLString()];return o&&Ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Hq(t,h7,n,r),i[t.toURLString()]=o,o}class y7{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Gq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fo(this._repo,$e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(m7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ci("Cannot call "+e+" on a deleted database.")}}function T$(t=q2(),e){const n=U2(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=R2("database");r&&v7(n,...r)}return n}function v7(t,e,n,r={}){t=ti(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Kc(r,o.repoInfo_.emulatorOptions))return;Ci("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new jd(jd.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:M2(r.mockUserToken,t.app.options.projectId);s=new jd(a)}Yf(e)&&(k2(e),D2("Database",!0)),d7(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){f8(W2),Yc(new Xa("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return p7(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),vo(mP,gP,t),vo(mP,gP,"esm2020")}vi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};vi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_7();function A$(t,e){return function(){return t.apply(e,arguments)}}const{toString:w7}=Object.prototype,{getPrototypeOf:C1}=Object,{iterator:Tg,toStringTag:P$}=Symbol,Ag=(t=>e=>{const n=w7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jr=t=>(t=t.toLowerCase(),e=>Ag(e)===t),Pg=t=>e=>typeof e===t,{isArray:Gl}=Array,ll=Pg("undefined");function oh(t){return t!==null&&!ll(t)&&t.constructor!==null&&!ll(t.constructor)&&$n(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const C$=jr("ArrayBuffer");function b7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&C$(t.buffer),e}const E7=Pg("string"),$n=Pg("function"),O$=Pg("number"),sh=t=>t!==null&&typeof t=="object",S7=t=>t===!0||t===!1,Ld=t=>{if(Ag(t)!=="object")return!1;const e=C1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(P$ in t)&&!(Tg in t)},x7=t=>{if(!sh(t)||oh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},T7=jr("Date"),A7=jr("File"),P7=jr("Blob"),C7=jr("FileList"),O7=t=>sh(t)&&$n(t.pipe),I7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$n(t.append)&&((e=Ag(t))==="formdata"||e==="object"&&$n(t.toString)&&t.toString()==="[object FormData]"))},R7=jr("URLSearchParams"),[N7,k7,M7,D7]=["ReadableStream","Request","Response","Headers"].map(jr),$7=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ah(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Gl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(oh(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function I$(t,e){if(oh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,R$=t=>!ll(t)&&t!==cs;function F0(){const{caseless:t,skipUndefined:e}=R$(this)&&this||{},n={},r=(i,o)=>{const s=t&&I$(n,o)||o;Ld(n[s])&&Ld(i)?n[s]=F0(n[s],i):Ld(i)?n[s]=F0({},i):Gl(i)?n[s]=i.slice():(!e||!ll(i))&&(n[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&ah(arguments[i],r);return n}const j7=(t,e,n,{allOwnKeys:r}={})=>(ah(e,(i,o)=>{n&&$n(i)?t[o]=A$(i,n):t[o]=i},{allOwnKeys:r}),t),L7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),F7=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},V7=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&C1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},B7=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},U7=t=>{if(!t)return null;if(Gl(t))return t;let e=t.length;if(!O$(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},z7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&C1(Uint8Array)),W7=(t,e)=>{const r=(t&&t[Tg]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},q7=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},H7=jr("HTMLFormElement"),G7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),YP=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),K7=jr("RegExp"),N$=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ah(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},Y7=t=>{N$(t,(e,n)=>{if($n(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if($n(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Q7=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Gl(t)?r(t):r(String(t).split(e)),n},X7=()=>{},J7=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Z7(t){return!!(t&&$n(t.append)&&t[P$]==="FormData"&&t[Tg])}const eH=t=>{const e=new Array(10),n=(r,i)=>{if(sh(r)){if(e.indexOf(r)>=0)return;if(oh(r))return r;if(!("toJSON"in r)){e[i]=r;const o=Gl(r)?[]:{};return ah(r,(s,a)=>{const l=n(s,i+1);!ll(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},tH=jr("AsyncFunction"),nH=t=>t&&(sh(t)||$n(t))&&$n(t.then)&&$n(t.catch),k$=((t,e)=>t?setImmediate:e?((n,r)=>(cs.addEventListener("message",({source:i,data:o})=>{i===cs&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),cs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$n(cs.postMessage)),rH=typeof queueMicrotask<"u"?queueMicrotask.bind(cs):typeof process<"u"&&process.nextTick||k$,iH=t=>t!=null&&$n(t[Tg]),F={isArray:Gl,isArrayBuffer:C$,isBuffer:oh,isFormData:I7,isArrayBufferView:b7,isString:E7,isNumber:O$,isBoolean:S7,isObject:sh,isPlainObject:Ld,isEmptyObject:x7,isReadableStream:N7,isRequest:k7,isResponse:M7,isHeaders:D7,isUndefined:ll,isDate:T7,isFile:A7,isBlob:P7,isRegExp:K7,isFunction:$n,isStream:O7,isURLSearchParams:R7,isTypedArray:z7,isFileList:C7,forEach:ah,merge:F0,extend:j7,trim:$7,stripBOM:L7,inherits:F7,toFlatObject:V7,kindOf:Ag,kindOfTest:jr,endsWith:B7,toArray:U7,forEachEntry:W7,matchAll:q7,isHTMLForm:H7,hasOwnProperty:YP,hasOwnProp:YP,reduceDescriptors:N$,freezeMethods:Y7,toObjectSet:Q7,toCamelCase:G7,noop:X7,toFiniteNumber:J7,findKey:I$,global:cs,isContextDefined:R$,isSpecCompliantForm:Z7,toJSONObject:eH,isAsyncFn:tH,isThenable:nH,setImmediate:k$,asap:rH,isIterable:iH};function ge(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}F.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const M$=ge.prototype,D$={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{D$[t]={value:t}});Object.defineProperties(ge,D$);Object.defineProperty(M$,"isAxiosError",{value:!0});ge.from=(t,e,n,r,i,o)=>{const s=Object.create(M$);F.toFlatObject(t,s,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ge.call(s,a,l,n,r,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",o&&Object.assign(s,o),s};const oH=null;function V0(t){return F.isPlainObject(t)||F.isArray(t)}function $$(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function QP(t,e,n){return t?t.concat(e).map(function(i,o){return i=$$(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function sH(t){return F.isArray(t)&&!t.some(V0)}const aH=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function Cg(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!F.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(F.isDate(m))return m.toISOString();if(F.isBoolean(m))return m.toString();if(!l&&F.isBlob(m))throw new ge("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(m)||F.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,y){let w=m;if(m&&!y&&typeof m=="object"){if(F.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(F.isArray(m)&&sH(m)||(F.isFileList(m)||F.endsWith(g,"[]"))&&(w=F.toArray(m)))return g=$$(g),w.forEach(function(b,C){!(F.isUndefined(b)||b===null)&&e.append(s===!0?QP([g],C,o):s===null?g:g+"[]",u(b))}),!1}return V0(m)?!0:(e.append(QP(y,g,o),u(m)),!1)}const f=[],d=Object.assign(aH,{defaultVisitor:c,convertValue:u,isVisitable:V0});function p(m,g){if(!F.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),F.forEach(m,function(w,_){(!(F.isUndefined(w)||w===null)&&i.call(e,w,F.isString(_)?_.trim():_,g,d))===!0&&p(w,g?g.concat(_):[_])}),f.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return p(t),e}function XP(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function O1(t,e){this._pairs=[],t&&Cg(t,this,e)}const j$=O1.prototype;j$.append=function(e,n){this._pairs.push([e,n])};j$.toString=function(e){const n=e?function(r){return e.call(this,r,XP)}:XP;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function lH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function L$(t,e,n){if(!e)return t;const r=n&&n.encode||lH;F.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=F.isURLSearchParams(e)?e.toString():new O1(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class JP{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const F$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uH=typeof URLSearchParams<"u"?URLSearchParams:O1,cH=typeof FormData<"u"?FormData:null,fH=typeof Blob<"u"?Blob:null,hH={isBrowser:!0,classes:{URLSearchParams:uH,FormData:cH,Blob:fH},protocols:["http","https","file","blob","url","data"]},I1=typeof window<"u"&&typeof document<"u",B0=typeof navigator=="object"&&navigator||void 0,dH=I1&&(!B0||["ReactNative","NativeScript","NS"].indexOf(B0.product)<0),pH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mH=I1&&window.location.href||"http://localhost",gH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:I1,hasStandardBrowserEnv:dH,hasStandardBrowserWebWorkerEnv:pH,navigator:B0,origin:mH},Symbol.toStringTag,{value:"Module"})),yn={...gH,...hH};function yH(t,e){return Cg(t,new yn.classes.URLSearchParams,{visitor:function(n,r,i,o){return yn.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function vH(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _H(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function V$(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&F.isArray(i)?i.length:s,l?(F.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!F.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&F.isArray(i[s])&&(i[s]=_H(i[s])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,i)=>{e(vH(r),i,n,0)}),n}return null}function wH(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const lh={transitional:F$,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=F.isObject(e);if(o&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i?JSON.stringify(V$(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yH(e,this.formSerializer).toString();if((a=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Cg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),wH(e)):e}],transformResponse:[function(e){const n=this.transitional||lh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?ge.from(a,ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yn.classes.FormData,Blob:yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{lh.headers[t]={}});const bH=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EH=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&bH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ZP=Symbol("internals");function $u(t){return t&&String(t).trim().toLowerCase()}function Fd(t){return t===!1||t==null?t:F.isArray(t)?t.map(Fd):String(t)}function SH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const xH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Tv(t,e,n,r,i){if(F.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function TH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function AH(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let jn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const c=$u(l);if(!c)throw new Error("header name must be a non-empty string");const f=F.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Fd(a))}const s=(a,l)=>F.forEach(a,(u,c)=>o(u,c,l));if(F.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(F.isString(e)&&(e=e.trim())&&!xH(e))s(EH(e),n);else if(F.isObject(e)&&F.isIterable(e)){let a={},l,u;for(const c of e){if(!F.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?F.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=$u(e),e){const r=F.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return SH(i);if(F.isFunction(n))return n.call(this,i,r);if(F.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=$u(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Tv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=$u(s),s){const a=F.findKey(r,s);a&&(!n||Tv(r,r[a],a,n))&&(delete r[a],i=!0)}}return F.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Tv(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return F.forEach(this,(i,o)=>{const s=F.findKey(r,o);if(s){n[s]=Fd(i),delete n[o];return}const a=e?TH(o):String(o).trim();a!==o&&delete n[o],n[a]=Fd(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ZP]=this[ZP]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=$u(s);r[a]||(AH(i,s),r[a]=!0)}return F.isArray(e)?e.forEach(o):o(e),this}};jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(jn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});F.freezeMethods(jn);function Av(t,e){const n=this||lh,r=e||n,i=jn.from(r.headers);let o=r.data;return F.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function B$(t){return!!(t&&t.__CANCEL__)}function Kl(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(Kl,ge,{__CANCEL__:!0});function U$(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function PH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function CH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[o];s||(s=u),n[i]=l,r[i]=u;let f=o,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const p=c&&u-c;return p?Math.round(d*1e3/p):void 0}}function OH(t,e){let n=0,r=1e3/e,i,o;const s=(u,c=Date.now())=>{n=c,i=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=r?s(u,c):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-f)))},()=>i&&s(i)]}const Lp=(t,e,n=3)=>{let r=0;const i=CH(50,250);return OH(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),c=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},eC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},tC=t=>(...e)=>F.asap(()=>t(...e)),IH=yn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,yn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(yn.origin),yn.navigator&&/(msie|trident)/i.test(yn.navigator.userAgent)):()=>!0,RH=yn.hasStandardBrowserEnv?{write(t,e,n,r,i,o,s){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];F.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),F.isString(r)&&a.push(`path=${r}`),F.isString(i)&&a.push(`domain=${i}`),o===!0&&a.push("secure"),F.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function NH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function z$(t,e,n){let r=!NH(e);return t&&(r||n==!1)?kH(t,e):e}const nC=t=>t instanceof jn?{...t}:t;function Ns(t,e){e=e||{};const n={};function r(u,c,f,d){return F.isPlainObject(u)&&F.isPlainObject(c)?F.merge.call({caseless:d},u,c):F.isPlainObject(c)?F.merge({},c):F.isArray(c)?c.slice():c}function i(u,c,f,d){if(F.isUndefined(c)){if(!F.isUndefined(u))return r(void 0,u,f,d)}else return r(u,c,f,d)}function o(u,c){if(!F.isUndefined(c))return r(void 0,c)}function s(u,c){if(F.isUndefined(c)){if(!F.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,c,f)=>i(nC(u),nC(c),f,!0)};return F.forEach(Object.keys({...t,...e}),function(c){const f=l[c]||i,d=f(t[c],e[c],c);F.isUndefined(d)&&f!==a||(n[c]=d)}),n}const W$=t=>{const e=Ns({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;if(e.headers=s=jn.from(s),e.url=L$(z$(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),F.isFormData(n)){if(yn.hasStandardBrowserEnv||yn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,f])=>{u.includes(c.toLowerCase())&&s.set(c,f)})}}if(yn.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(e)),r||r!==!1&&IH(e.url))){const l=i&&o&&RH.read(o);l&&s.set(i,l)}return e},MH=typeof XMLHttpRequest<"u",DH=MH&&function(t){return new Promise(function(n,r){const i=W$(t);let o=i.data;const s=jn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,f,d,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const b=jn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};U$(function(E){n(E),g()},function(E){r(E),g()},S),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(r(new ge("Request aborted",ge.ECONNABORTED,t,y)),y=null)},y.onerror=function(C){const S=C&&C.message?C.message:"Network Error",A=new ge(S,ge.ERR_NETWORK,t,y);A.event=C||null,r(A),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||F$;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new ge(C,S.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&F.forEach(s.toJSON(),function(C,S){y.setRequestHeader(S,C)}),F.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),u&&([d,m]=Lp(u,!0),y.addEventListener("progress",d)),l&&y.upload&&([f,p]=Lp(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=b=>{y&&(r(!b||b.type?new Kl(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const _=PH(i.url);if(_&&yn.protocols.indexOf(_)===-1){r(new ge("Unsupported protocol "+_+":",ge.ERR_BAD_REQUEST,t));return}y.send(o||null)})},$H=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof ge?c:new Kl(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{s=null,o(new ge(`timeout ${e} of ms exceeded`,ge.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},jH=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},LH=async function*(t,e){for await(const n of FH(t))yield*jH(n,e)},FH=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},rC=(t,e,n,r)=>{const i=LH(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let f=c.byteLength;if(n){let d=o+=f;n(d)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},iC=64*1024,{isFunction:id}=F,VH=(({Request:t,Response:e})=>({Request:t,Response:e}))(F.global),{ReadableStream:oC,TextEncoder:sC}=F.global,aC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},BH=t=>{t=F.merge.call({skipUndefined:!0},VH,t);const{fetch:e,Request:n,Response:r}=t,i=e?id(e):typeof fetch=="function",o=id(n),s=id(r);if(!i)return!1;const a=i&&id(oC),l=i&&(typeof sC=="function"?(m=>g=>m.encode(g))(new sC):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=o&&a&&aC(()=>{let m=!1;const g=new n(yn.origin,{body:new oC,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),c=s&&a&&aC(()=>F.isReadableStream(new r("").body)),f={stream:c&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(g,y)=>{let w=g&&g[m];if(w)return w.call(g);throw new ge(`Response type '${m}' is not supported`,ge.ERR_NOT_SUPPORT,y)})});const d=async m=>{if(m==null)return 0;if(F.isBlob(m))return m.size;if(F.isSpecCompliantForm(m))return(await new n(yn.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(F.isArrayBufferView(m)||F.isArrayBuffer(m))return m.byteLength;if(F.isURLSearchParams(m)&&(m=m+""),F.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const y=F.toFiniteNumber(m.getContentLength());return y??d(g)};return async m=>{let{url:g,method:y,data:w,signal:_,cancelToken:b,timeout:C,onDownloadProgress:S,onUploadProgress:A,responseType:E,headers:x,withCredentials:P="same-origin",fetchOptions:I}=W$(m),O=e||fetch;E=E?(E+"").toLowerCase():"text";let N=$H([_,b&&b.toAbortSignal()],C),R=null;const B=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let U;try{if(A&&u&&y!=="get"&&y!=="head"&&(U=await p(x,w))!==0){let ee=new n(g,{method:"POST",body:w,duplex:"half"}),Q;if(F.isFormData(w)&&(Q=ee.headers.get("content-type"))&&x.setContentType(Q),ee.body){const[le,pe]=eC(U,Lp(tC(A)));w=rC(ee.body,iC,le,pe)}}F.isString(P)||(P=P?"include":"omit");const W=o&&"credentials"in n.prototype,G={...I,signal:N,method:y.toUpperCase(),headers:x.normalize().toJSON(),body:w,duplex:"half",credentials:W?P:void 0};R=o&&new n(g,G);let L=await(o?O(R,I):O(g,G));const z=c&&(E==="stream"||E==="response");if(c&&(S||z&&B)){const ee={};["status","statusText","headers"].forEach(De=>{ee[De]=L[De]});const Q=F.toFiniteNumber(L.headers.get("content-length")),[le,pe]=S&&eC(Q,Lp(tC(S),!0))||[];L=new r(rC(L.body,iC,le,()=>{pe&&pe(),B&&B()}),ee)}E=E||"text";let Y=await f[F.findKey(f,E)||"text"](L,m);return!z&&B&&B(),await new Promise((ee,Q)=>{U$(ee,Q,{data:Y,headers:jn.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:R})})}catch(W){throw B&&B(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,m,R),{cause:W.cause||W}):ge.from(W,W&&W.code,m,R)}}},UH=new Map,q$=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let s=o.length,a=s,l,u,c=UH;for(;a--;)l=o[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:BH(e)),c=u;return u};q$();const R1={http:oH,xhr:DH,fetch:{get:q$}};F.forEach(R1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lC=t=>`- ${t}`,zH=t=>F.isFunction(t)||t===null||t===!1;function WH(t,e){t=F.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let s=0;s<n;s++){r=t[s];let a;if(i=r,!zH(r)&&(i=R1[(a=String(r)).toLowerCase()],i===void 0))throw new ge(`Unknown adapter '${a}'`);if(i&&(F.isFunction(i)||(i=i.get(e))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(lC).join(`
`):" "+lC(s[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const H$={getAdapter:WH,adapters:R1};function Pv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Kl(null,t)}function uC(t){return Pv(t),t.headers=jn.from(t.headers),t.data=Av.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),H$.getAdapter(t.adapter||lh.adapter,t)(t).then(function(r){return Pv(t),r.data=Av.call(t,t.transformResponse,r),r.headers=jn.from(r.headers),r},function(r){return B$(r)||(Pv(t),r&&r.response&&(r.response.data=Av.call(t,t.transformResponse,r.response),r.response.headers=jn.from(r.response.headers))),Promise.reject(r)})}const G$="1.13.2",Og={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Og[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const cC={};Og.transitional=function(e,n,r){function i(o,s){return"[Axios v"+G$+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new ge(i(s," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!cC[s]&&(cC[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};Og.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function qH(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new ge("option "+o+" must be "+l,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+o,ge.ERR_BAD_OPTION)}}const Vd={assertOptions:qH,validators:Og},Ur=Vd.validators;let _s=class{constructor(e){this.defaults=e||{},this.interceptors={request:new JP,response:new JP}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ns(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Vd.assertOptions(r,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),i!=null&&(F.isFunction(i)?n.paramsSerializer={serialize:i}:Vd.assertOptions(i,{encode:Ur.function,serialize:Ur.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Vd.assertOptions(n,{baseUrl:Ur.spelling("baseURL"),withXsrfToken:Ur.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&F.merge(o.common,o[n.method]);o&&F.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=jn.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,f=0,d;if(!l){const m=[uC.bind(this),void 0];for(m.unshift(...a),m.push(...u),d=m.length,c=Promise.resolve(n);f<d;)c=c.then(m[f++],m[f++]);return c}d=a.length;let p=n;for(;f<d;){const m=a[f++],g=a[f++];try{p=m(p)}catch(y){g.call(this,y);break}}try{c=uC.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=Ns(this.defaults,e);const n=z$(e.baseURL,e.url,e.allowAbsoluteUrls);return L$(n,e.params,e.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(e){_s.prototype[e]=function(n,r){return this.request(Ns(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Ns(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}_s.prototype[e]=n(),_s.prototype[e+"Form"]=n(!0)});let HH=class K${constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Kl(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new K$(function(i){e=i}),cancel:e}}};function GH(t){return function(n){return t.apply(null,n)}}function KH(t){return F.isObject(t)&&t.isAxiosError===!0}const U0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(U0).forEach(([t,e])=>{U0[e]=t});function Y$(t){const e=new _s(t),n=A$(_s.prototype.request,e);return F.extend(n,_s.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Y$(Ns(t,i))},n}const bt=Y$(lh);bt.Axios=_s;bt.CanceledError=Kl;bt.CancelToken=HH;bt.isCancel=B$;bt.VERSION=G$;bt.toFormData=Cg;bt.AxiosError=ge;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=GH;bt.isAxiosError=KH;bt.mergeConfig=Ns;bt.AxiosHeaders=jn;bt.formToJSON=t=>V$(F.isHTMLForm(t)?new FormData(t):t);bt.getAdapter=H$.getAdapter;bt.HttpStatusCode=U0;bt.default=bt;const{Axios:dwe,AxiosError:pwe,CanceledError:mwe,isCancel:gwe,CancelToken:ywe,VERSION:vwe,all:_we,Cancel:wwe,isAxiosError:bwe,spread:Ewe,toFormData:Swe,AxiosHeaders:xwe,HttpStatusCode:Twe,formToJSON:Awe,getAdapter:Pwe,mergeConfig:Cwe}=bt,YH="http://localhost:5000/api",QH={getPlantInfo:async()=>(await bt.get(`${YH}/plant-info`)).data.data},XH={temperature:26.5,windSpeed:2.3,airHumidity:65,soilMoisture:72,waterTankLevel:85,lightIntensity:1250};Array.from({length:24},(t,e)=>({time:`${e}:00`,lux:Math.floor(Math.random()*2e3+500)}));const JH={name:"Dieffenbachia",scientificName:"Dieffenbachia seguine",description:"Tanaman hias tropis dengan daun hijau bermotif putih-kuning"},ZH={apiKey:"AIzaSyBRQuZFv7qBlftLINSFxgGeMo4j2uYAwtQ",authDomain:"despro-43cdc.firebaseapp.com",databaseURL:"https://despro-43cdc-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"despro-43cdc",storageBucket:"despro-43cdc.firebasestorage.app",messagingSenderId:"1022318213486",appId:"1:1022318213486:web:5e7f4f4307bda6230f697f",measurementId:"G-N2YW51X1Q9"},Q$=gE(ZH),fC=Yz(Q$),Zs=T$(Q$),eG=t=>{var e,n,r,i,o;try{const s=(e=t.rpm1)!=null&&e.integerValue?parseInt(t.rpm1.integerValue):t.rpm1||0,a=(n=t.rpm2)!=null&&n.integerValue?parseInt(t.rpm2.integerValue):t.rpm2||0,l=(r=t.rpm3)!=null&&r.integerValue?parseInt(t.rpm3.integerValue):t.rpm3||0,u=(i=t.rpm4)!=null&&i.integerValue?parseInt(t.rpm4.integerValue):t.rpm4||0;let c=((o=t.timestamp)==null?void 0:o.stringValue)||t.timestamp||"";if(c.includes("_")){const f=c.split("_")[1];c=f?f.substring(0,5).replace("-",":"):c}return{time:c,fan1:s,fan2:a,fan3:l,fan4:u}}catch(s){return console.error("Parse RPM error:",s),null}},tG=t=>{var e,n;try{const r=(e=t.lightIntensity)!=null&&e.integerValue?parseInt(t.lightIntensity.integerValue):t.lightIntensity||0;let i=((n=t.timestamp)==null?void 0:n.stringValue)||t.timestamp||"";if(i.includes("_")){const o=i.split("_")[1];i=o?o.substring(0,5).replace("-",":"):i}return{time:i,lux:r}}catch(r){return console.error("Parse Light error:",r),null}},X$=$.createContext(void 0),nG=({children:t})=>{const[e,n]=$.useState(XH),[r,i]=$.useState([]),[o,s]=$.useState([]),[a,l]=$.useState(JH),[u,c]=$.useState(!0),[f,d]=$.useState(null),[p,m]=$.useState(!1);$.useEffect(()=>{const _=[];try{const b=Tr(Zs,"status/group6&35/temperature");_.push(b),Js(b,P=>{const I=P.val();I!=null&&(n(O=>({...O,temperature:Number(I)})),m(!0),console.log(" RTDB Temperature:",I))},P=>{console.error(" RTDB Temperature error:",P)});const C=Tr(Zs,"status/group30/windSpeed");_.push(C),Js(C,P=>{const I=P.val();I!=null&&(n(O=>({...O,windSpeed:Number(I)})),m(!0),console.log(" RTDB Wind Speed:",I))},P=>{console.error(" RTDB Wind Speed error:",P)});const S=Tr(Zs,"status/group3/lux");_.push(S),Js(S,P=>{const I=P.val();I!=null&&(n(O=>({...O,lightIntensity:Number(I)})),m(!0),console.log(" RTDB Light Intensity:",I))},P=>{console.error(" RTDB Light Intensity error:",P)});const A=Tr(Zs,"status/group6&35/humidity");_.push(A),Js(A,P=>{const I=P.val();I!=null&&(n(O=>({...O,airHumidity:Number(I)})),m(!0),console.log(" RTDB Air Humidity:",I))},P=>{console.error(" RTDB Air Humidity error:",P)});const E=Tr(Zs,"status/group12/soilMoisture");_.push(E),Js(E,P=>{const I=P.val();I!=null&&(n(O=>({...O,soilMoisture:Number(I)})),m(!0),console.log(" RTDB Soil Moisture:",I))},P=>{console.error(" RTDB Soil Moisture error:",P)});const x=Tr(Zs,"status/group12/waterTank");_.push(x),Js(x,P=>{const I=P.val();I!=null&&(n(O=>({...O,waterTankLevel:Number(I)})),m(!0),console.log(" RTDB Water Tank:",I))},P=>{console.error(" RTDB Water Tank error:",P)}),console.log(" Firebase Realtime Database listeners initialized")}catch(b){console.error(" RTDB setup error:",b),d("Gagal setup Realtime Database")}return()=>{_.forEach(b=>{c7(b)}),console.log(" RTDB listeners detached")}},[]),$.useEffect(()=>{let _=null;try{const b=rP(fC,"growthChamber","group30","sensorData"),C=lP(b,uP("timestamp","desc"),cP(10));_=dP(C,{includeMetadataChanges:!1},S=>{S.metadata.fromCache&&console.log(" RPM snapshot from cache (tetap dipakai render)");const A=[];if(S.forEach(E=>{const x=eG(E.data());x&&A.push(x)}),A.length>0){const E=A.slice().reverse();s(E),console.log(" Firebase RPM updated:",E.length,"entries"),d(null)}c(!1)},S=>{console.error(" Firestore RPM listener error:",S),d("Gagal mengambil data RPM realtime"),c(!1)})}catch(b){console.error(" Firestore RPM setup error:",b),d("Gagal setup RPM realtime listener"),c(!1)}return()=>{_&&_()}},[]),$.useEffect(()=>{let _=null;try{const b=rP(fC,"growthChamber","group3","sensorData"),C=lP(b,uP("timestamp","desc"),cP(10));_=dP(C,{includeMetadataChanges:!1},S=>{S.metadata.fromCache&&console.log(" Light snapshot from cache (tetap dipakai render)");const A=[];if(S.forEach(E=>{const x=tG(E.data());x&&A.push(x)}),A.length>0){const E=A.slice().reverse();i(E),console.log(" Firebase Light Intensity updated:",E.length,"entries")}},S=>{console.error(" Firestore Light listener error:",S)})}catch(b){console.error(" Firestore Light setup error:",b)}return()=>{_&&_()}},[]);const g=async()=>{try{const _=await QH.getPlantInfo();l(_)}catch(_){console.error("Error fetching plant info:",_)}},y=async()=>{await g()};$.useEffect(()=>{g(),c(!1)},[]);const w={sensorData:e,luxHistory:r,rpmHistory:o,plantInfo:a,isLoading:u,error:f,isRealtimeConnected:p,refreshData:y};return M.jsx(X$.Provider,{value:w,children:t})},J$=()=>{const t=$.useContext(X$);if(!t)throw new Error("useDashboard must be used within DashboardProvider");return t},rG="/GROBOX/",Bn=t=>`${rG}assets/${t}`,Gt={frame:{tempIcon:Bn("frame/tempIcon.png"),windIcon:Bn("frame/windIcon.png"),lightIcon:Bn("frame/lightIcon.png"),humidityIcon:Bn("frame/humidityIcon.png"),soilmoistureIcon:Bn("frame/soilmoistureIcon.png"),watercapIcon:Bn("frame/watercapIcon.png"),fanIcon:Bn("frame/fanIcon.png"),logo:Bn("frame/logo.png"),plant:Bn("frame/plant.png")},sidebar:{dashboardIcon:Bn("sidebar/dashboardIcon.png"),controlIcon:Bn("sidebar/controlIcon.png"),aboutIcon:Bn("sidebar/aboutIcon.png")},background:Bn("background.png")},iG=()=>M.jsxs("div",{className:"sidebar",children:[M.jsx("div",{className:"sidebar-logo",children:M.jsx("img",{src:Gt.frame.logo,alt:"Logo",className:"logo-image"})}),M.jsxs("nav",{className:"sidebar-nav",children:[M.jsxs(av,{to:"/",className:({isActive:t})=>`nav-item ${t?"active":""}`,title:"Dashboard",children:[M.jsx("img",{src:Gt.sidebar.dashboardIcon,alt:"Dashboard",className:"nav-icon"}),M.jsx("span",{className:"nav-label",children:"Dashboard"})]}),M.jsxs(av,{to:"/manual-control",className:({isActive:t})=>`nav-item ${t?"active":""}`,title:"Manual Control",children:[M.jsx("img",{src:Gt.sidebar.controlIcon,alt:"Manual Control",className:"nav-icon"}),M.jsx("span",{className:"nav-label",children:"Manual Control"})]})]}),M.jsx("div",{className:"sidebar-footer",children:M.jsxs(av,{to:"/about",className:({isActive:t})=>`nav-item ${t?"active":""}`,title:"About",children:[M.jsx("img",{src:Gt.sidebar.aboutIcon,alt:"About",className:"nav-icon"}),M.jsx("span",{className:"nav-label",children:"About"})]})})]}),oG=({plantInfo:t})=>M.jsx("div",{className:"plant-info",children:M.jsx("div",{className:"plant-image-container",children:M.jsx("img",{src:Gt.frame.plant,alt:t.name,className:"plant-image"})})}),sG=({value:t,isConnected:e=!1})=>M.jsxs("div",{className:"temperature-card sensor-card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h3",{className:"card-title",children:"Temperature"}),M.jsx("div",{className:"card-icon",children:M.jsx("img",{src:Gt.frame.tempIcon,alt:"Temperature"})})]}),M.jsx("div",{className:"card-value-container",children:e?M.jsxs(M.Fragment,{children:[M.jsx("span",{className:"card-value",children:t.toFixed(1)}),M.jsx("span",{className:"card-unit",children:"C"})]}):M.jsx("span",{className:"card-fallback",children:"Belum terhubung ke Firebase"})})]}),aG=({value:t,isConnected:e=!1})=>M.jsxs("div",{className:"wind-speed-card sensor-card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h3",{className:"card-title",children:"Wind Speed"}),M.jsx("div",{className:"card-icon",children:M.jsx("img",{src:Gt.frame.windIcon,alt:"Wind"})})]}),M.jsx("div",{className:"card-value-container",children:e?M.jsxs(M.Fragment,{children:[M.jsx("span",{className:"card-value",children:t.toFixed(1)}),M.jsx("span",{className:"card-unit",children:"m/s"})]}):M.jsx("span",{className:"card-fallback",children:"Belum terhubung ke Firebase"})}),M.jsx("div",{className:"wind-lines"})]}),hC=t=>t>=1024?1.8:1.25,Z$=({value:t,maxValue:e=100,color:n,title:r,iconSrc:i,isConnected:o=!1})=>{const[s,a]=D.useState(0),[l,u]=D.useState(()=>hC(window.innerWidth));D.useEffect(()=>{const g=s,y=t,w=performance.now(),_=b=>{const C=Math.min((b-w)/800,1),S=g+(y-g)*C;a(S),C<1&&requestAnimationFrame(_)};requestAnimationFrame(_)},[t]),D.useEffect(()=>{const m=()=>{u(hC(window.innerWidth))};return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const c=s/e*100,f=45,d=2*Math.PI*f,p=d-d*c/100;return M.jsxs("div",{className:"circular-gauge-card sensor-card",children:[M.jsxs("div",{className:"gauge-header",children:[M.jsx("h3",{className:"gauge-title",children:r}),i&&M.jsx("div",{className:"gauge-icon",children:M.jsx("img",{src:i,alt:r})})]}),o?M.jsxs("div",{className:"gauge-container",children:[M.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 120 120",className:"gauge-svg",style:{transform:`scale(${l})`},children:[M.jsx("circle",{cx:"60",cy:"60",r:f,fill:"none",stroke:"#e6e6e6",strokeWidth:"10"}),M.jsx("circle",{cx:"60",cy:"60",r:f,fill:"none",stroke:n,strokeWidth:"10",strokeLinecap:"round",strokeDasharray:d,strokeDashoffset:p,transform:"rotate(-90 60 60)",className:"gauge-progress"})]}),M.jsxs("div",{className:"gauge-value",children:[M.jsx("span",{className:"gauge-percentage",children:Math.round(s)}),M.jsx("span",{className:"gauge-unit",children:"%"})]})]}):M.jsx("div",{className:"gauge-fallback",children:M.jsx("span",{className:"card-fallback",children:"Belum terhubung ke Firebase"})})]})},lG=({value:t,isConnected:e=!1})=>M.jsx(Z$,{value:t,color:"#3498db",title:"Air Humidity",iconSrc:Gt.frame.humidityIcon,isConnected:e}),uG=({value:t,isConnected:e=!1})=>M.jsx(Z$,{value:t,color:"#6b8e23",title:"Soil Moisture",iconSrc:Gt.frame.soilmoistureIcon,isConnected:e}),cG=({value:t,isConnected:e=!1})=>{const[n,r]=D.useState(1);return D.useEffect(()=>{const i=()=>{r(1)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),M.jsxs("div",{className:"water-tank-card sensor-card",children:[M.jsxs("div",{className:"gauge-header",children:[M.jsx("h3",{className:"gauge-title",children:"Water Tank"}),M.jsx("div",{className:"gauge-icon",children:M.jsx("img",{src:Gt.frame.watercapIcon,alt:"Water Tank"})})]}),e?M.jsx("div",{className:"tank-container",style:{transform:`scale(${n})`},children:M.jsxs("div",{className:"tank-outline",children:[M.jsx("div",{className:"tank-fill",style:{height:`${Math.min(Math.max(t,0),100)}%`},children:M.jsx("div",{className:"water-wave"})}),M.jsxs("div",{className:"tank-percentage",children:[Math.round(t),"%"]})]})}):M.jsx("div",{className:"tank-fallback",children:M.jsx("span",{className:"card-fallback",children:"Belum terhubung ke Firebase"})})]})},fG=({value:t,isConnected:e=!1})=>M.jsxs("div",{className:"light-intensity-card sensor-card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h3",{className:"card-title",children:"Light Intensity"}),M.jsx("div",{className:"card-icon",children:M.jsx("img",{src:Gt.frame.lightIcon,alt:"Light"})})]}),M.jsx("div",{className:"card-value-container",children:e?M.jsxs(M.Fragment,{children:[M.jsx("span",{className:"card-value",children:t.toLocaleString()}),M.jsx("span",{className:"card-unit",children:"lux"})]}):M.jsx("span",{className:"card-fallback",children:"Belum terhubung ke Firebase"})})]});function ej(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ej(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ej(t))&&(r&&(r+=" "),r+=e);return r}var hG=Array.isArray,Fn=hG,dG=typeof kh=="object"&&kh&&kh.Object===Object&&kh,tj=dG,pG=tj,mG=typeof self=="object"&&self&&self.Object===Object&&self,gG=pG||mG||Function("return this")(),ii=gG,yG=ii,vG=yG.Symbol,uh=vG,dC=uh,nj=Object.prototype,_G=nj.hasOwnProperty,wG=nj.toString,ju=dC?dC.toStringTag:void 0;function bG(t){var e=_G.call(t,ju),n=t[ju];try{t[ju]=void 0;var r=!0}catch{}var i=wG.call(t);return r&&(e?t[ju]=n:delete t[ju]),i}var EG=bG,SG=Object.prototype,xG=SG.toString;function TG(t){return xG.call(t)}var AG=TG,pC=uh,PG=EG,CG=AG,OG="[object Null]",IG="[object Undefined]",mC=pC?pC.toStringTag:void 0;function RG(t){return t==null?t===void 0?IG:OG:mC&&mC in Object(t)?PG(t):CG(t)}var ji=RG;function NG(t){return t!=null&&typeof t=="object"}var Li=NG,kG=ji,MG=Li,DG="[object Symbol]";function $G(t){return typeof t=="symbol"||MG(t)&&kG(t)==DG}var Yl=$G,jG=Fn,LG=Yl,FG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VG=/^\w*$/;function BG(t,e){if(jG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||LG(t)?!0:VG.test(t)||!FG.test(t)||e!=null&&t in Object(e)}var N1=BG;function UG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Vo=UG;const Ql=We(Vo);var zG=ji,WG=Vo,qG="[object AsyncFunction]",HG="[object Function]",GG="[object GeneratorFunction]",KG="[object Proxy]";function YG(t){if(!WG(t))return!1;var e=zG(t);return e==HG||e==GG||e==qG||e==KG}var k1=YG;const _e=We(k1);var QG=ii,XG=QG["__core-js_shared__"],JG=XG,Cv=JG,gC=function(){var t=/[^.]+$/.exec(Cv&&Cv.keys&&Cv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ZG(t){return!!gC&&gC in t}var eK=ZG,tK=Function.prototype,nK=tK.toString;function rK(t){if(t!=null){try{return nK.call(t)}catch{}try{return t+""}catch{}}return""}var rj=rK,iK=k1,oK=eK,sK=Vo,aK=rj,lK=/[\\^$.*+?()[\]{}|]/g,uK=/^\[object .+?Constructor\]$/,cK=Function.prototype,fK=Object.prototype,hK=cK.toString,dK=fK.hasOwnProperty,pK=RegExp("^"+hK.call(dK).replace(lK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mK(t){if(!sK(t)||oK(t))return!1;var e=iK(t)?pK:uK;return e.test(aK(t))}var gK=mK;function yK(t,e){return t==null?void 0:t[e]}var vK=yK,_K=gK,wK=vK;function bK(t,e){var n=wK(t,e);return _K(n)?n:void 0}var Us=bK,EK=Us,SK=EK(Object,"create"),Ig=SK,yC=Ig;function xK(){this.__data__=yC?yC(null):{},this.size=0}var TK=xK;function AK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var PK=AK,CK=Ig,OK="__lodash_hash_undefined__",IK=Object.prototype,RK=IK.hasOwnProperty;function NK(t){var e=this.__data__;if(CK){var n=e[t];return n===OK?void 0:n}return RK.call(e,t)?e[t]:void 0}var kK=NK,MK=Ig,DK=Object.prototype,$K=DK.hasOwnProperty;function jK(t){var e=this.__data__;return MK?e[t]!==void 0:$K.call(e,t)}var LK=jK,FK=Ig,VK="__lodash_hash_undefined__";function BK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=FK&&e===void 0?VK:e,this}var UK=BK,zK=TK,WK=PK,qK=kK,HK=LK,GK=UK;function Xl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xl.prototype.clear=zK;Xl.prototype.delete=WK;Xl.prototype.get=qK;Xl.prototype.has=HK;Xl.prototype.set=GK;var KK=Xl;function YK(){this.__data__=[],this.size=0}var QK=YK;function XK(t,e){return t===e||t!==t&&e!==e}var M1=XK,JK=M1;function ZK(t,e){for(var n=t.length;n--;)if(JK(t[n][0],e))return n;return-1}var Rg=ZK,eY=Rg,tY=Array.prototype,nY=tY.splice;function rY(t){var e=this.__data__,n=eY(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nY.call(e,n,1),--this.size,!0}var iY=rY,oY=Rg;function sY(t){var e=this.__data__,n=oY(e,t);return n<0?void 0:e[n][1]}var aY=sY,lY=Rg;function uY(t){return lY(this.__data__,t)>-1}var cY=uY,fY=Rg;function hY(t,e){var n=this.__data__,r=fY(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var dY=hY,pY=QK,mY=iY,gY=aY,yY=cY,vY=dY;function Jl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jl.prototype.clear=pY;Jl.prototype.delete=mY;Jl.prototype.get=gY;Jl.prototype.has=yY;Jl.prototype.set=vY;var Ng=Jl,_Y=Us,wY=ii,bY=_Y(wY,"Map"),D1=bY,vC=KK,EY=Ng,SY=D1;function xY(){this.size=0,this.__data__={hash:new vC,map:new(SY||EY),string:new vC}}var TY=xY;function AY(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var PY=AY,CY=PY;function OY(t,e){var n=t.__data__;return CY(e)?n[typeof e=="string"?"string":"hash"]:n.map}var kg=OY,IY=kg;function RY(t){var e=IY(this,t).delete(t);return this.size-=e?1:0,e}var NY=RY,kY=kg;function MY(t){return kY(this,t).get(t)}var DY=MY,$Y=kg;function jY(t){return $Y(this,t).has(t)}var LY=jY,FY=kg;function VY(t,e){var n=FY(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var BY=VY,UY=TY,zY=NY,WY=DY,qY=LY,HY=BY;function Zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zl.prototype.clear=UY;Zl.prototype.delete=zY;Zl.prototype.get=WY;Zl.prototype.has=qY;Zl.prototype.set=HY;var $1=Zl,ij=$1,GY="Expected a function";function j1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(GY);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(j1.Cache||ij),n}j1.Cache=ij;var oj=j1;const KY=We(oj);var YY=oj,QY=500;function XY(t){var e=YY(t,function(r){return n.size===QY&&n.clear(),r}),n=e.cache;return e}var JY=XY,ZY=JY,eQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tQ=/\\(\\)?/g,nQ=ZY(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(eQ,function(n,r,i,o){e.push(i?o.replace(tQ,"$1"):r||n)}),e}),rQ=nQ;function iQ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var L1=iQ,_C=uh,oQ=L1,sQ=Fn,aQ=Yl,wC=_C?_C.prototype:void 0,bC=wC?wC.toString:void 0;function sj(t){if(typeof t=="string")return t;if(sQ(t))return oQ(t,sj)+"";if(aQ(t))return bC?bC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var lQ=sj,uQ=lQ;function cQ(t){return t==null?"":uQ(t)}var aj=cQ,fQ=Fn,hQ=N1,dQ=rQ,pQ=aj;function mQ(t,e){return fQ(t)?t:hQ(t,e)?[t]:dQ(pQ(t))}var lj=mQ,gQ=Yl;function yQ(t){if(typeof t=="string"||gQ(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Mg=yQ,vQ=lj,_Q=Mg;function wQ(t,e){e=vQ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[_Q(e[n++])];return n&&n==r?t:void 0}var F1=wQ,bQ=F1;function EQ(t,e,n){var r=t==null?void 0:bQ(t,e);return r===void 0?n:r}var uj=EQ;const ur=We(uj);function SQ(t){return t==null}var xQ=SQ;const Se=We(xQ);var TQ=ji,AQ=Fn,PQ=Li,CQ="[object String]";function OQ(t){return typeof t=="string"||!AQ(t)&&PQ(t)&&TQ(t)==CQ}var IQ=OQ;const ks=We(IQ);var cj={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1=Symbol.for("react.element"),B1=Symbol.for("react.portal"),Dg=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),jg=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),Fg=Symbol.for("react.context"),RQ=Symbol.for("react.server_context"),Vg=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),Ug=Symbol.for("react.suspense_list"),zg=Symbol.for("react.memo"),Wg=Symbol.for("react.lazy"),NQ=Symbol.for("react.offscreen"),fj;fj=Symbol.for("react.module.reference");function pr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case V1:switch(t=t.type,t){case Dg:case jg:case $g:case Bg:case Ug:return t;default:switch(t=t&&t.$$typeof,t){case RQ:case Fg:case Vg:case Wg:case zg:case Lg:return t;default:return e}}case B1:return e}}}Fe.ContextConsumer=Fg;Fe.ContextProvider=Lg;Fe.Element=V1;Fe.ForwardRef=Vg;Fe.Fragment=Dg;Fe.Lazy=Wg;Fe.Memo=zg;Fe.Portal=B1;Fe.Profiler=jg;Fe.StrictMode=$g;Fe.Suspense=Bg;Fe.SuspenseList=Ug;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return pr(t)===Fg};Fe.isContextProvider=function(t){return pr(t)===Lg};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===V1};Fe.isForwardRef=function(t){return pr(t)===Vg};Fe.isFragment=function(t){return pr(t)===Dg};Fe.isLazy=function(t){return pr(t)===Wg};Fe.isMemo=function(t){return pr(t)===zg};Fe.isPortal=function(t){return pr(t)===B1};Fe.isProfiler=function(t){return pr(t)===jg};Fe.isStrictMode=function(t){return pr(t)===$g};Fe.isSuspense=function(t){return pr(t)===Bg};Fe.isSuspenseList=function(t){return pr(t)===Ug};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dg||t===jg||t===$g||t===Bg||t===Ug||t===NQ||typeof t=="object"&&t!==null&&(t.$$typeof===Wg||t.$$typeof===zg||t.$$typeof===Lg||t.$$typeof===Fg||t.$$typeof===Vg||t.$$typeof===fj||t.getModuleId!==void 0)};Fe.typeOf=pr;cj.exports=Fe;var kQ=cj.exports,MQ=ji,DQ=Li,$Q="[object Number]";function jQ(t){return typeof t=="number"||DQ(t)&&MQ(t)==$Q}var hj=jQ;const LQ=We(hj);var FQ=hj;function VQ(t){return FQ(t)&&t!=+t}var BQ=VQ;const ch=We(BQ);var Rr=function(e){return e===0?0:e>0?1:-1},fs=function(e){return ks(e)&&e.indexOf("%")===e.length-1},ne=function(e){return LQ(e)&&!ch(e)},UQ=function(e){return Se(e)},Dt=function(e){return ne(e)||ks(e)},zQ=0,fh=function(e){var n=++zQ;return"".concat(e||"").concat(n)},Ms=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!ks(e))return r;var o;if(fs(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return ch(o)&&(o=r),i&&o>n&&(o=n),o},Zi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},WQ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ar=function(e,n){return ne(e)&&ne(n)?function(r){return e+r*(n-e)}:function(){return n}};function Fp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ur(r,e))===n})}var qQ=function(e,n){return ne(e)&&ne(n)?e-n:ks(e)&&ks(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function La(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}var HQ=["viewBox","children"],GQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EC=["points","pathLength"],Ov={svg:HQ,polygon:EC,polyline:EC},U1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!Ql(r))return null;var i={};return Object.keys(r).forEach(function(o){U1.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},KQ=function(e,n,r){return function(i){return e(n,r,i),null}},Bp=function(e,n,r){if(!Ql(e)||z0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];U1.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=KQ(s,n,r))}),i},YQ=["children"],QQ=["children"];function SC(t,e){if(t==null)return{};var n=XQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}var xC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_i=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},TC=null,Iv=null,z1=function t(e){if(e===TC&&Array.isArray(Iv))return Iv;var n=[];return $.Children.forEach(e,function(r){Se(r)||(kQ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Iv=n,TC=e,n};function cr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return _i(i)}):r=[_i(e)],z1(t).forEach(function(i){var o=ur(i,"type.displayName")||ur(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function qn(t,e){var n=cr(t,e);return n&&n[0]}var AC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ne(r)||r<=0||!ne(i)||i<=0)},JQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ZQ=function(e){return e&&e.type&&ks(e.type)&&JQ.indexOf(e.type)>=0},eX=function(e){return e&&W0(e)==="object"&&"clipDot"in e},tX=function(e,n,r,i){var o,s=(o=Ov==null?void 0:Ov[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!_e(e)&&(i&&s.includes(n)||GQ.includes(n))||r&&U1.includes(n)},Ce=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!Ql(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;tX((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},q0=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return PC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!PC(o,s))return!1}return!0},PC=function(e,n){if(Se(e)&&Se(n))return!0;if(!Se(e)&&!Se(n)){var r=e.props||{},i=r.children,o=SC(r,YQ),s=n.props||{},a=s.children,l=SC(s,QQ);return i&&a?La(o,l)&&q0(i,a):!i&&!a?La(o,l):!1}return!1},CC=function(e,n){var r=[],i={};return z1(e).forEach(function(o,s){if(ZQ(o))r.push(o);else if(o){var a=_i(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},nX=function(e){var n=e&&e.type;return n&&xC[n]?xC[n]:null},rX=function(e,n){return z1(n).indexOf(e)},iX=["children","width","height","viewBox","className","style","title","desc"];function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}function oX(t,e){if(t==null)return{};var n=sX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=oX(t,iX),c=i||{width:n,height:r,x:0,y:0},f=ke("recharts-surface",o);return D.createElement("svg",H0({},Ce(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,a),D.createElement("desc",null,l),e)}var aX=["children","className"];function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K0.apply(this,arguments)}function lX(t,e){if(t==null)return{};var n=uX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wt=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=lX(t,aX),o=ke("recharts-layer",r);return D.createElement("g",K0({className:o},Ce(i,!0),{ref:e}),n)}),wi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function cX(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var fX=cX,hX=fX;function dX(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hX(t,e,n)}var pX=dX,mX="\\ud800-\\udfff",gX="\\u0300-\\u036f",yX="\\ufe20-\\ufe2f",vX="\\u20d0-\\u20ff",_X=gX+yX+vX,wX="\\ufe0e\\ufe0f",bX="\\u200d",EX=RegExp("["+bX+mX+_X+wX+"]");function SX(t){return EX.test(t)}var dj=SX;function xX(t){return t.split("")}var TX=xX,pj="\\ud800-\\udfff",AX="\\u0300-\\u036f",PX="\\ufe20-\\ufe2f",CX="\\u20d0-\\u20ff",OX=AX+PX+CX,IX="\\ufe0e\\ufe0f",RX="["+pj+"]",Y0="["+OX+"]",Q0="\\ud83c[\\udffb-\\udfff]",NX="(?:"+Y0+"|"+Q0+")",mj="[^"+pj+"]",gj="(?:\\ud83c[\\udde6-\\uddff]){2}",yj="[\\ud800-\\udbff][\\udc00-\\udfff]",kX="\\u200d",vj=NX+"?",_j="["+IX+"]?",MX="(?:"+kX+"(?:"+[mj,gj,yj].join("|")+")"+_j+vj+")*",DX=_j+vj+MX,$X="(?:"+[mj+Y0+"?",Y0,gj,yj,RX].join("|")+")",jX=RegExp(Q0+"(?="+Q0+")|"+$X+DX,"g");function LX(t){return t.match(jX)||[]}var FX=LX,VX=TX,BX=dj,UX=FX;function zX(t){return BX(t)?UX(t):VX(t)}var WX=zX,qX=pX,HX=dj,GX=WX,KX=aj;function YX(t){return function(e){e=KX(e);var n=HX(e)?GX(e):void 0,r=n?n[0]:e.charAt(0),i=n?qX(n,1).join(""):e.slice(1);return r[t]()+i}}var QX=YX,XX=QX,JX=XX("toUpperCase"),ZX=JX;const qg=We(ZX);function He(t){return function(){return t}}const wj=Math.cos,Up=Math.sin,Lr=Math.sqrt,zp=Math.PI,Hg=2*zp,X0=Math.PI,J0=2*X0,ts=1e-6,eJ=J0-ts;function bj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function tJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bj;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class nJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bj:tJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>ts)if(!(Math.abs(f*l-u*c)>ts)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,g=l*l+u*u,y=p*p+m*m,w=Math.sqrt(g),_=Math.sqrt(d),b=o*Math.tan((X0-Math.acos((g+d-y)/(2*w*_)))/2),C=b/_,S=b/w;Math.abs(C-1)>ts&&this._append`L${e+C*c},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ts||Math.abs(this._y1-c)>ts)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%J0+J0),d>eJ?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>ts&&this._append`A${r},${r},0,${+(d>=X0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function W1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new nJ(e)}function q1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ej(t){this._context=t}Ej.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gg(t){return new Ej(t)}function Sj(t){return t[0]}function xj(t){return t[1]}function Tj(t,e){var n=He(!0),r=null,i=Gg,o=null,s=W1(a);t=typeof t=="function"?t:t===void 0?Sj:He(t),e=typeof e=="function"?e:e===void 0?xj:He(e);function a(l){var u,c=(l=q1(l)).length,f,d=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function od(t,e,n){var r=null,i=He(!0),o=null,s=Gg,a=null,l=W1(u);t=typeof t=="function"?t:t===void 0?Sj:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?xj:He(+n);function u(f){var d,p,m,g=(f=q1(f)).length,y,w=!1,_,b=new Array(g),C=new Array(g);for(o==null&&(a=s(_=l())),d=0;d<=g;++d){if(!(d<g&&i(y=f[d],d,f))===w)if(w=!w)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=d-1;m>=p;--m)a.point(b[m],C[m]);a.lineEnd(),a.areaEnd()}w&&(b[d]=+t(y,d,f),C[d]=+e(y,d,f),a.point(r?+r(y,d,f):b[d],n?+n(y,d,f):C[d]))}if(_)return a=null,_+""||null}function c(){return Tj().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:He(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class Aj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function rJ(t){return new Aj(t,!0)}function iJ(t){return new Aj(t,!1)}const H1={draw(t,e){const n=Lr(e/zp);t.moveTo(n,0),t.arc(0,0,n,0,Hg)}},oJ={draw(t,e){const n=Lr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Pj=Lr(1/3),sJ=Pj*2,aJ={draw(t,e){const n=Lr(e/sJ),r=n*Pj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},lJ={draw(t,e){const n=Lr(e),r=-n/2;t.rect(r,r,n,n)}},uJ=.8908130915292852,Cj=Up(zp/10)/Up(7*zp/10),cJ=Up(Hg/10)*Cj,fJ=-wj(Hg/10)*Cj,hJ={draw(t,e){const n=Lr(e*uJ),r=cJ*n,i=fJ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Hg*o/5,a=wj(s),l=Up(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Rv=Lr(3),dJ={draw(t,e){const n=-Lr(e/(Rv*3));t.moveTo(0,n*2),t.lineTo(-Rv*n,-n),t.lineTo(Rv*n,-n),t.closePath()}},er=-.5,tr=Lr(3)/2,Z0=1/Lr(12),pJ=(Z0/2+1)*3,mJ={draw(t,e){const n=Lr(e/pJ),r=n/2,i=n*Z0,o=r,s=n*Z0+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(er*r-tr*i,tr*r+er*i),t.lineTo(er*o-tr*s,tr*o+er*s),t.lineTo(er*a-tr*l,tr*a+er*l),t.lineTo(er*r+tr*i,er*i-tr*r),t.lineTo(er*o+tr*s,er*s-tr*o),t.lineTo(er*a+tr*l,er*l-tr*a),t.closePath()}};function gJ(t,e){let n=null,r=W1(i);t=typeof t=="function"?t:He(t||H1),e=typeof e=="function"?e:He(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:He(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:He(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Wp(){}function qp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Oj(t){this._context=t}Oj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yJ(t){return new Oj(t)}function Ij(t){this._context=t}Ij.prototype={areaStart:Wp,areaEnd:Wp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vJ(t){return new Ij(t)}function Rj(t){this._context=t}Rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _J(t){return new Rj(t)}function Nj(t){this._context=t}Nj.prototype={areaStart:Wp,areaEnd:Wp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wJ(t){return new Nj(t)}function OC(t){return t<0?-1:1}function IC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(OC(o)+OC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function RC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Nv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Hp(t){this._context=t}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nv(this,this._t0,RC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Nv(this,RC(this,n=IC(this,t,e)),n);break;default:Nv(this,this._t0,n=IC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function kj(t){this._context=new Mj(t)}(kj.prototype=Object.create(Hp.prototype)).point=function(t,e){Hp.prototype.point.call(this,e,t)};function Mj(t){this._context=t}Mj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function bJ(t){return new Hp(t)}function EJ(t){return new kj(t)}function Dj(t){this._context=t}Dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=NC(t),i=NC(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NC(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function SJ(t){return new Dj(t)}function Kg(t,e){this._context=t,this._t=e}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function xJ(t){return new Kg(t,.5)}function TJ(t){return new Kg(t,0)}function AJ(t){return new Kg(t,1)}function ul(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ew(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function PJ(t,e){return t[e]}function CJ(t){const e=[];return e.key=t,e}function OJ(){var t=He([]),e=ew,n=ul,r=PJ;function i(o){var s=Array.from(t.apply(this,arguments),CJ),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=q1(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:He(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?ew:typeof o=="function"?o:He(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ul,i):n},i}function IJ(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}ul(t,e)}}function RJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}ul(t,e)}}function NJ(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<a;++m){var g=t[e[m]],y=g[r][1]||0,w=g[r-1][1]||0;p+=y-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ul(t,e)}}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var kJ=["type","size","sizeType"];function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function kC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(n),!0).forEach(function(r){MJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MJ(t,e,n){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=$J(t,"string");return uf(e)=="symbol"?e:e+""}function $J(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jJ(t,e){if(t==null)return{};var n=LJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $j={symbolCircle:H1,symbolCross:oJ,symbolDiamond:aJ,symbolSquare:lJ,symbolStar:hJ,symbolTriangle:dJ,symbolWye:mJ},FJ=Math.PI/180,VJ=function(e){var n="symbol".concat(qg(e));return $j[n]||H1},BJ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*FJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UJ=function(e,n){$j["symbol".concat(qg(e))]=n},G1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=jJ(e,kJ),u=MC(MC({},l),{},{type:r,size:o,sizeType:a}),c=function(){var y=VJ(r),w=gJ().type(y).size(BJ(o,a,r));return w()},f=u.className,d=u.cx,p=u.cy,m=Ce(u,!0);return d===+d&&p===+p&&o===+o?D.createElement("path",tw({},m,{className:ke("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};G1.registerSymbol=UJ;function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){cf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lj(r.key),r)}}function HJ(t,e,n){return e&&qJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GJ(t,e,n){return e=Gp(e),KJ(t,jj()?Reflect.construct(e,n||[],Gp(t).constructor):e.apply(t,n))}function KJ(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YJ(t)}function YJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jj=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(t)}function QJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rw(t,e)}function cf(t,e,n){return e=Lj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lj(t){var e=XJ(t,"string");return cl(e)=="symbol"?e:e+""}function XJ(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nr=32,K1=function(t){function e(){return WJ(this,e),GJ(this,e,arguments)}return QJ(e,t),HJ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=nr/2,s=nr/6,a=nr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:nr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(nr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(nr/8,"h").concat(nr,"v").concat(nr*3/4,"h").concat(-nr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=zJ({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(G1,{fill:l,cx:o,cy:o,size:nr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:nr,height:nr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,y=ke(cf(cf({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=_e(p.value)?null:p.value;wi(!_e(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return D.createElement("li",nw({className:y,style:f,key:"legend-item-".concat(m)},Bp(r.props,p,m)),D.createElement(G0,{width:s,height:s,viewBox:c,style:d},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(w,p,m):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}($.PureComponent);cf(K1,"displayName","Legend");cf(K1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var JJ=Ng;function ZJ(){this.__data__=new JJ,this.size=0}var eZ=ZJ;function tZ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var nZ=tZ;function rZ(t){return this.__data__.get(t)}var iZ=rZ;function oZ(t){return this.__data__.has(t)}var sZ=oZ,aZ=Ng,lZ=D1,uZ=$1,cZ=200;function fZ(t,e){var n=this.__data__;if(n instanceof aZ){var r=n.__data__;if(!lZ||r.length<cZ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new uZ(r)}return n.set(t,e),this.size=n.size,this}var hZ=fZ,dZ=Ng,pZ=eZ,mZ=nZ,gZ=iZ,yZ=sZ,vZ=hZ;function eu(t){var e=this.__data__=new dZ(t);this.size=e.size}eu.prototype.clear=pZ;eu.prototype.delete=mZ;eu.prototype.get=gZ;eu.prototype.has=yZ;eu.prototype.set=vZ;var Fj=eu,_Z="__lodash_hash_undefined__";function wZ(t){return this.__data__.set(t,_Z),this}var bZ=wZ;function EZ(t){return this.__data__.has(t)}var SZ=EZ,xZ=$1,TZ=bZ,AZ=SZ;function Kp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new xZ;++e<n;)this.add(t[e])}Kp.prototype.add=Kp.prototype.push=TZ;Kp.prototype.has=AZ;var Vj=Kp;function PZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Bj=PZ;function CZ(t,e){return t.has(e)}var Uj=CZ,OZ=Vj,IZ=Bj,RZ=Uj,NZ=1,kZ=2;function MZ(t,e,n,r,i,o){var s=n&NZ,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&kZ?new OZ:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],g=e[f];if(r)var y=s?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(y!==void 0){if(y)continue;d=!1;break}if(p){if(!IZ(e,function(w,_){if(!RZ(p,_)&&(m===w||i(m,w,n,r,o)))return p.push(_)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var zj=MZ,DZ=ii,$Z=DZ.Uint8Array,jZ=$Z;function LZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var FZ=LZ;function VZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Y1=VZ,$C=uh,jC=jZ,BZ=M1,UZ=zj,zZ=FZ,WZ=Y1,qZ=1,HZ=2,GZ="[object Boolean]",KZ="[object Date]",YZ="[object Error]",QZ="[object Map]",XZ="[object Number]",JZ="[object RegExp]",ZZ="[object Set]",eee="[object String]",tee="[object Symbol]",nee="[object ArrayBuffer]",ree="[object DataView]",LC=$C?$C.prototype:void 0,kv=LC?LC.valueOf:void 0;function iee(t,e,n,r,i,o,s){switch(n){case ree:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nee:return!(t.byteLength!=e.byteLength||!o(new jC(t),new jC(e)));case GZ:case KZ:case XZ:return BZ(+t,+e);case YZ:return t.name==e.name&&t.message==e.message;case JZ:case eee:return t==e+"";case QZ:var a=zZ;case ZZ:var l=r&qZ;if(a||(a=WZ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=HZ,s.set(t,e);var c=UZ(a(t),a(e),r,i,o,s);return s.delete(t),c;case tee:if(kv)return kv.call(t)==kv.call(e)}return!1}var oee=iee;function see(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Wj=see,aee=Wj,lee=Fn;function uee(t,e,n){var r=e(t);return lee(t)?r:aee(r,n(t))}var cee=uee;function fee(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var hee=fee;function dee(){return[]}var pee=dee,mee=hee,gee=pee,yee=Object.prototype,vee=yee.propertyIsEnumerable,FC=Object.getOwnPropertySymbols,_ee=FC?function(t){return t==null?[]:(t=Object(t),mee(FC(t),function(e){return vee.call(t,e)}))}:gee,wee=_ee;function bee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Eee=bee,See=ji,xee=Li,Tee="[object Arguments]";function Aee(t){return xee(t)&&See(t)==Tee}var Pee=Aee,VC=Pee,Cee=Li,qj=Object.prototype,Oee=qj.hasOwnProperty,Iee=qj.propertyIsEnumerable,Ree=VC(function(){return arguments}())?VC:function(t){return Cee(t)&&Oee.call(t,"callee")&&!Iee.call(t,"callee")},Q1=Ree,Yp={exports:{}};function Nee(){return!1}var kee=Nee;Yp.exports;(function(t,e){var n=ii,r=kee,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Yp,Yp.exports);var Hj=Yp.exports,Mee=9007199254740991,Dee=/^(?:0|[1-9]\d*)$/;function $ee(t,e){var n=typeof t;return e=e??Mee,!!e&&(n=="number"||n!="symbol"&&Dee.test(t))&&t>-1&&t%1==0&&t<e}var X1=$ee,jee=9007199254740991;function Lee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jee}var J1=Lee,Fee=ji,Vee=J1,Bee=Li,Uee="[object Arguments]",zee="[object Array]",Wee="[object Boolean]",qee="[object Date]",Hee="[object Error]",Gee="[object Function]",Kee="[object Map]",Yee="[object Number]",Qee="[object Object]",Xee="[object RegExp]",Jee="[object Set]",Zee="[object String]",ete="[object WeakMap]",tte="[object ArrayBuffer]",nte="[object DataView]",rte="[object Float32Array]",ite="[object Float64Array]",ote="[object Int8Array]",ste="[object Int16Array]",ate="[object Int32Array]",lte="[object Uint8Array]",ute="[object Uint8ClampedArray]",cte="[object Uint16Array]",fte="[object Uint32Array]",Je={};Je[rte]=Je[ite]=Je[ote]=Je[ste]=Je[ate]=Je[lte]=Je[ute]=Je[cte]=Je[fte]=!0;Je[Uee]=Je[zee]=Je[tte]=Je[Wee]=Je[nte]=Je[qee]=Je[Hee]=Je[Gee]=Je[Kee]=Je[Yee]=Je[Qee]=Je[Xee]=Je[Jee]=Je[Zee]=Je[ete]=!1;function hte(t){return Bee(t)&&Vee(t.length)&&!!Je[Fee(t)]}var dte=hte;function pte(t){return function(e){return t(e)}}var Gj=pte,Qp={exports:{}};Qp.exports;(function(t,e){var n=tj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Qp,Qp.exports);var mte=Qp.exports,gte=dte,yte=Gj,BC=mte,UC=BC&&BC.isTypedArray,vte=UC?yte(UC):gte,Kj=vte,_te=Eee,wte=Q1,bte=Fn,Ete=Hj,Ste=X1,xte=Kj,Tte=Object.prototype,Ate=Tte.hasOwnProperty;function Pte(t,e){var n=bte(t),r=!n&&wte(t),i=!n&&!r&&Ete(t),o=!n&&!r&&!i&&xte(t),s=n||r||i||o,a=s?_te(t.length,String):[],l=a.length;for(var u in t)(e||Ate.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ste(u,l)))&&a.push(u);return a}var Cte=Pte,Ote=Object.prototype;function Ite(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ote;return t===n}var Rte=Ite;function Nte(t,e){return function(n){return t(e(n))}}var Yj=Nte,kte=Yj,Mte=kte(Object.keys,Object),Dte=Mte,$te=Rte,jte=Dte,Lte=Object.prototype,Fte=Lte.hasOwnProperty;function Vte(t){if(!$te(t))return jte(t);var e=[];for(var n in Object(t))Fte.call(t,n)&&n!="constructor"&&e.push(n);return e}var Bte=Vte,Ute=k1,zte=J1;function Wte(t){return t!=null&&zte(t.length)&&!Ute(t)}var hh=Wte,qte=Cte,Hte=Bte,Gte=hh;function Kte(t){return Gte(t)?qte(t):Hte(t)}var Yg=Kte,Yte=cee,Qte=wee,Xte=Yg;function Jte(t){return Yte(t,Xte,Qte)}var Zte=Jte,zC=Zte,ene=1,tne=Object.prototype,nne=tne.hasOwnProperty;function rne(t,e,n,r,i,o){var s=n&ene,a=zC(t),l=a.length,u=zC(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:nne.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=s;++f<l;){d=a[f];var w=t[d],_=e[d];if(r)var b=s?r(_,w,d,e,t,o):r(w,_,d,t,e,o);if(!(b===void 0?w===_||i(w,_,n,r,o):b)){g=!1;break}y||(y=d=="constructor")}if(g&&!y){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var ine=rne,one=Us,sne=ii,ane=one(sne,"DataView"),lne=ane,une=Us,cne=ii,fne=une(cne,"Promise"),hne=fne,dne=Us,pne=ii,mne=dne(pne,"Set"),Qj=mne,gne=Us,yne=ii,vne=gne(yne,"WeakMap"),_ne=vne,iw=lne,ow=D1,sw=hne,aw=Qj,lw=_ne,Xj=ji,tu=rj,WC="[object Map]",wne="[object Object]",qC="[object Promise]",HC="[object Set]",GC="[object WeakMap]",KC="[object DataView]",bne=tu(iw),Ene=tu(ow),Sne=tu(sw),xne=tu(aw),Tne=tu(lw),ns=Xj;(iw&&ns(new iw(new ArrayBuffer(1)))!=KC||ow&&ns(new ow)!=WC||sw&&ns(sw.resolve())!=qC||aw&&ns(new aw)!=HC||lw&&ns(new lw)!=GC)&&(ns=function(t){var e=Xj(t),n=e==wne?t.constructor:void 0,r=n?tu(n):"";if(r)switch(r){case bne:return KC;case Ene:return WC;case Sne:return qC;case xne:return HC;case Tne:return GC}return e});var Ane=ns,Mv=Fj,Pne=zj,Cne=oee,One=ine,YC=Ane,QC=Fn,XC=Hj,Ine=Kj,Rne=1,JC="[object Arguments]",ZC="[object Array]",sd="[object Object]",Nne=Object.prototype,eO=Nne.hasOwnProperty;function kne(t,e,n,r,i,o){var s=QC(t),a=QC(e),l=s?ZC:YC(t),u=a?ZC:YC(e);l=l==JC?sd:l,u=u==JC?sd:u;var c=l==sd,f=u==sd,d=l==u;if(d&&XC(t)){if(!XC(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Mv),s||Ine(t)?Pne(t,e,n,r,i,o):Cne(t,e,l,n,r,i,o);if(!(n&Rne)){var p=c&&eO.call(t,"__wrapped__"),m=f&&eO.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return o||(o=new Mv),i(g,y,n,r,o)}}return d?(o||(o=new Mv),One(t,e,n,r,i,o)):!1}var Mne=kne,Dne=Mne,tO=Li;function Jj(t,e,n,r,i){return t===e?!0:t==null||e==null||!tO(t)&&!tO(e)?t!==t&&e!==e:Dne(t,e,n,r,Jj,i)}var Z1=Jj,$ne=Fj,jne=Z1,Lne=1,Fne=2;function Vne(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new $ne;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?jne(c,u,Lne|Fne,r,f):d))return!1}}return!0}var Bne=Vne,Une=Vo;function zne(t){return t===t&&!Une(t)}var Zj=zne,Wne=Zj,qne=Yg;function Hne(t){for(var e=qne(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Wne(i)]}return e}var Gne=Hne;function Kne(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var eL=Kne,Yne=Bne,Qne=Gne,Xne=eL;function Jne(t){var e=Qne(t);return e.length==1&&e[0][2]?Xne(e[0][0],e[0][1]):function(n){return n===t||Yne(n,t,e)}}var Zne=Jne;function ere(t,e){return t!=null&&e in Object(t)}var tre=ere,nre=lj,rre=Q1,ire=Fn,ore=X1,sre=J1,are=Mg;function lre(t,e,n){e=nre(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=are(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&sre(i)&&ore(s,i)&&(ire(t)||rre(t)))}var ure=lre,cre=tre,fre=ure;function hre(t,e){return t!=null&&fre(t,e,cre)}var dre=hre,pre=Z1,mre=uj,gre=dre,yre=N1,vre=Zj,_re=eL,wre=Mg,bre=1,Ere=2;function Sre(t,e){return yre(t)&&vre(e)?_re(wre(t),e):function(n){var r=mre(n,t);return r===void 0&&r===e?gre(n,t):pre(e,r,bre|Ere)}}var xre=Sre;function Tre(t){return t}var nu=Tre;function Are(t){return function(e){return e==null?void 0:e[t]}}var Pre=Are,Cre=F1;function Ore(t){return function(e){return Cre(e,t)}}var Ire=Ore,Rre=Pre,Nre=Ire,kre=N1,Mre=Mg;function Dre(t){return kre(t)?Rre(Mre(t)):Nre(t)}var $re=Dre,jre=Zne,Lre=xre,Fre=nu,Vre=Fn,Bre=$re;function Ure(t){return typeof t=="function"?t:t==null?Fre:typeof t=="object"?Vre(t)?Lre(t[0],t[1]):jre(t):Bre(t)}var Bo=Ure;function zre(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var tL=zre;function Wre(t){return t!==t}var qre=Wre;function Hre(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Gre=Hre,Kre=tL,Yre=qre,Qre=Gre;function Xre(t,e,n){return e===e?Qre(t,e,n):Kre(t,Yre,n)}var Jre=Xre,Zre=Jre;function eie(t,e){var n=t==null?0:t.length;return!!n&&Zre(t,e,0)>-1}var tie=eie;function nie(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var rie=nie;function iie(){}var oie=iie,Dv=Qj,sie=oie,aie=Y1,lie=1/0,uie=Dv&&1/aie(new Dv([,-0]))[1]==lie?function(t){return new Dv(t)}:sie,cie=uie,fie=Vj,hie=tie,die=rie,pie=Uj,mie=cie,gie=Y1,yie=200;function vie(t,e,n){var r=-1,i=hie,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=die;else if(o>=yie){var u=e?null:mie(t);if(u)return gie(u);s=!1,i=pie,l=new fie}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var _ie=vie,wie=Bo,bie=_ie;function Eie(t,e){return t&&t.length?bie(t,wie(e)):[]}var Sie=Eie;const nO=We(Sie);function nL(t,e,n){return e===!0?nO(t,n):_e(e)?nO(t,e):t}function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}var xie=["ref"];function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){Qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iL(r.key),r)}}function Aie(t,e,n){return e&&iO(t.prototype,e),n&&iO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pie(t,e,n){return e=Xp(e),Cie(t,rL()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function Cie(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oie(t)}function Oie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function Iie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uw(t,e)}function Qg(t,e,n){return e=iL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iL(t){var e=Rie(t,"string");return fl(e)=="symbol"?e:e+""}function Rie(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nie(t,e){if(t==null)return{};var n=kie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mie(t){return t.value}function Die(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=Nie(e,xie);return D.createElement(K1,n)}var oO=1,Fa=function(t){function e(){var n;Tie(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pie(this,e,[].concat(i)),Qg(n,"lastBoundingBox",{width:-1,height:-1}),n}return Iie(e,t),Aie(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>oO||Math.abs(i.height-this.lastBoundingBox.height)>oO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?si({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return si(si({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=si(si({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Die(o,si(si({},this.props),{},{payload:nL(c,u,Mie)})))}}],[{key:"getWithHeight",value:function(r,i){var o=si(si({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ne(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Qg(Fa,"displayName","Legend");Qg(Fa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sO=uh,$ie=Q1,jie=Fn,aO=sO?sO.isConcatSpreadable:void 0;function Lie(t){return jie(t)||$ie(t)||!!(aO&&t&&t[aO])}var Fie=Lie,Vie=Wj,Bie=Fie;function oL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Bie),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?oL(a,e-1,n,r,i):Vie(i,a):r||(i[i.length]=a)}return i}var sL=oL;function Uie(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var zie=Uie,Wie=zie,qie=Wie(),Hie=qie,Gie=Hie,Kie=Yg;function Yie(t,e){return t&&Gie(t,e,Kie)}var aL=Yie,Qie=hh;function Xie(t,e){return function(n,r){if(n==null)return n;if(!Qie(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Jie=Xie,Zie=aL,eoe=Jie,toe=eoe(Zie),eS=toe,noe=eS,roe=hh;function ioe(t,e){var n=-1,r=roe(t)?Array(t.length):[];return noe(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var lL=ioe;function ooe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var soe=ooe,lO=Yl;function aoe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=lO(t),s=e!==void 0,a=e===null,l=e===e,u=lO(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var loe=aoe,uoe=loe;function coe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=uoe(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var foe=coe,$v=L1,hoe=F1,doe=Bo,poe=lL,moe=soe,goe=Gj,yoe=foe,voe=nu,_oe=Fn;function woe(t,e,n){e.length?e=$v(e,function(o){return _oe(o)?function(s){return hoe(s,o.length===1?o[0]:o)}:o}):e=[voe];var r=-1;e=$v(e,goe(doe));var i=poe(t,function(o,s,a){var l=$v(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return moe(i,function(o,s){return yoe(o,s,n)})}var boe=woe;function Eoe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Soe=Eoe,xoe=Soe,uO=Math.max;function Toe(t,e,n){return e=uO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=uO(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),xoe(t,this,a)}}var Aoe=Toe;function Poe(t){return function(){return t}}var Coe=Poe,Ooe=Us,Ioe=function(){try{var t=Ooe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uL=Ioe,Roe=Coe,cO=uL,Noe=nu,koe=cO?function(t,e){return cO(t,"toString",{configurable:!0,enumerable:!1,value:Roe(e),writable:!0})}:Noe,Moe=koe,Doe=800,$oe=16,joe=Date.now;function Loe(t){var e=0,n=0;return function(){var r=joe(),i=$oe-(r-n);if(n=r,i>0){if(++e>=Doe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Foe=Loe,Voe=Moe,Boe=Foe,Uoe=Boe(Voe),zoe=Uoe,Woe=nu,qoe=Aoe,Hoe=zoe;function Goe(t,e){return Hoe(qoe(t,e,Woe),t+"")}var Koe=Goe,Yoe=M1,Qoe=hh,Xoe=X1,Joe=Vo;function Zoe(t,e,n){if(!Joe(n))return!1;var r=typeof e;return(r=="number"?Qoe(n)&&Xoe(e,n.length):r=="string"&&e in n)?Yoe(n[e],t):!1}var Xg=Zoe,ese=sL,tse=boe,nse=Koe,fO=Xg,rse=nse(function(t,e){if(t==null)return[];var n=e.length;return n>1&&fO(t,e[0],e[1])?e=[]:n>2&&fO(e[0],e[1],e[2])&&(e=[e[0]]),tse(t,ese(e,1),[])}),ise=rse;const tS=We(ise);function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function ose(t,e){return use(t)||lse(t,e)||ase(t,e)||sse()}function sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ase(t,e){if(t){if(typeof t=="string")return hO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hO(t,e)}}function hO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function use(t){if(Array.isArray(t))return t}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cse(t,e,n){return e=fse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=hse(t,"string");return ff(e)=="symbol"?e:e+""}function hse(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dse(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var pse=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,y=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,b=function(){if(c&&c.length){var N={padding:0,margin:0},R=(d?tS(c,d):c).map(function(B,U){if(B.type==="none")return null;var W=jv({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},a),G=B.formatter||f||dse,L=B.value,z=B.name,Y=L,ee=z;if(G&&Y!=null&&ee!=null){var Q=G(L,z,B,U,c);if(Array.isArray(Q)){var le=ose(Q,2);Y=le[0],ee=le[1]}else Y=Q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:W},Dt(ee)?D.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Dt(ee)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},Y),D.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:N},R)}return null},C=jv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=jv({margin:0},u),A=!Se(g),E=A?g:"",x=ke("recharts-default-tooltip",p),P=ke("recharts-tooltip-label",m);A&&y&&c!==void 0&&c!==null&&(E=y(g,c));var I=_?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",cw({className:x,style:C},I),D.createElement("p",{className:P,style:S},D.isValidElement(E)?E:"".concat(E)),b())};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function ad(t,e,n){return e=mse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mse(t){var e=gse(t,"string");return hf(e)=="symbol"?e:e+""}function gse(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lu="recharts-tooltip-wrapper",yse={visibility:"hidden"};function vse(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ke(Lu,ad(ad(ad(ad({},"".concat(Lu,"-right"),ne(n)&&e&&ne(e.x)&&n>=e.x),"".concat(Lu,"-left"),ne(n)&&e&&ne(e.x)&&n<e.x),"".concat(Lu,"-bottom"),ne(r)&&e&&ne(e.y)&&r>=e.y),"".concat(Lu,"-top"),ne(r)&&e&&ne(e.y)&&r<e.y))}function pO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ne(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+a,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function _se(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wse(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=pO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=pO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=_se({translateX:c,translateY:f,useTranslate3d:a})):u=yse,{cssProperties:u,cssClasses:vse({translateX:c,translateY:f,coordinate:n})}}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ese(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fL(r.key),r)}}function Sse(t,e,n){return e&&Ese(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xse(t,e,n){return e=Jp(e),Tse(t,cL()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function Tse(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ase(t)}function Ase(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cL=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fw(t,e)}function hw(t,e,n){return e=fL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fL(t){var e=Cse(t,"string");return hl(e)=="symbol"?e:e+""}function Cse(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yO=1,Ose=function(t){function e(){var n;bse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xse(this,e,[].concat(i)),hw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Pse(e,t),Sse(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>yO||Math.abs(r.height-this.state.lastBoundingBox.height)>yO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,b=wse({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),C=b.cssClasses,S=b.cssProperties,A=gO(gO({transition:d&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return D.createElement("div",{tabIndex:-1,className:C,style:A,ref:function(x){r.wrapperNode=x}},u)}}])}($.PureComponent),Ise=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ru={isSsr:Ise()};function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){nS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dL(r.key),r)}}function kse(t,e,n){return e&&Nse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mse(t,e,n){return e=Zp(e),Dse(t,hL()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function Dse(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $se(t)}function $se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function jse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function nS(t,e,n){return e=dL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dL(t){var e=Lse(t,"string");return dl(e)=="symbol"?e:e+""}function Lse(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fse(t){return t.dataKey}function Vse(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(pse,e)}var br=function(t){function e(){return Rse(this,e),Mse(this,e,arguments)}return jse(e,t),kse(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,y=i.position,w=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,C=i.wrapperStyle,S=m??[];f&&S.length&&(S=nL(m.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),g,Fse));var A=S.length>0;return D.createElement(Ose,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:A,offset:p,position:y,reverseDirection:w,useTranslate3d:_,viewBox:b,wrapperStyle:C},Vse(u,_O(_O({},this.props),{},{payload:S})))}}])}($.PureComponent);nS(br,"displayName","Tooltip");nS(br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ru.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Bse=ii,Use=function(){return Bse.Date.now()},zse=Use,Wse=/\s/;function qse(t){for(var e=t.length;e--&&Wse.test(t.charAt(e)););return e}var Hse=qse,Gse=Hse,Kse=/^\s+/;function Yse(t){return t&&t.slice(0,Gse(t)+1).replace(Kse,"")}var Qse=Yse,Xse=Qse,wO=Vo,Jse=Yl,bO=NaN,Zse=/^[-+]0x[0-9a-f]+$/i,eae=/^0b[01]+$/i,tae=/^0o[0-7]+$/i,nae=parseInt;function rae(t){if(typeof t=="number")return t;if(Jse(t))return bO;if(wO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Xse(t);var n=eae.test(t);return n||tae.test(t)?nae(t.slice(2),n?2:8):Zse.test(t)?bO:+t}var pL=rae,iae=Vo,Lv=zse,EO=pL,oae="Expected a function",sae=Math.max,aae=Math.min;function lae(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(oae);e=EO(e)||0,iae(n)&&(c=!!n.leading,f="maxWait"in n,o=f?sae(EO(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(A){var E=r,x=i;return r=i=void 0,u=A,s=t.apply(x,E),s}function m(A){return u=A,a=setTimeout(w,e),c?p(A):s}function g(A){var E=A-l,x=A-u,P=e-E;return f?aae(P,o-x):P}function y(A){var E=A-l,x=A-u;return l===void 0||E>=e||E<0||f&&x>=o}function w(){var A=Lv();if(y(A))return _(A);a=setTimeout(w,g(A))}function _(A){return a=void 0,d&&r?p(A):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:_(Lv())}function S(){var A=Lv(),E=y(A);if(r=arguments,i=this,l=A,E){if(a===void 0)return m(l);if(f)return clearTimeout(a),a=setTimeout(w,e),p(l)}return a===void 0&&(a=setTimeout(w,e)),s}return S.cancel=b,S.flush=C,S}var uae=lae,cae=uae,fae=Vo,hae="Expected a function";function dae(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(hae);return fae(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),cae(t,e,{leading:r,maxWait:e,trailing:i})}var pae=dae;const mL=We(pae);function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mae(t,e,n){return e=gae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gae(t){var e=yae(t,"string");return df(e)=="symbol"?e:e+""}function yae(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vae(t,e){return Eae(t)||bae(t,e)||wae(t,e)||_ae()}function _ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wae(t,e){if(t){if(typeof t=="string")return xO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xO(t,e)}}function xO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Eae(t){if(Array.isArray(t))return t}var gL=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,y=t.id,w=t.className,_=t.onResize,b=t.style,C=b===void 0?{}:b,S=$.useRef(null),A=$.useRef();A.current=_,$.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=$.useState({containerWidth:i.width,containerHeight:i.height}),x=vae(E,2),P=x[0],I=x[1],O=$.useCallback(function(R,B){I(function(U){var W=Math.round(R),G=Math.round(B);return U.containerWidth===W&&U.containerHeight===G?U:{containerWidth:W,containerHeight:G}})},[]);$.useEffect(function(){var R=function(z){var Y,ee=z[0].contentRect,Q=ee.width,le=ee.height;O(Q,le),(Y=A.current)===null||Y===void 0||Y.call(A,Q,le)};g>0&&(R=mL(R,g,{trailing:!0,leading:!1}));var B=new ResizeObserver(R),U=S.current.getBoundingClientRect(),W=U.width,G=U.height;return O(W,G),B.observe(S.current),function(){B.disconnect()}},[O,g]);var N=$.useMemo(function(){var R=P.containerWidth,B=P.containerHeight;if(R<0||B<0)return null;wi(fs(s)||fs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),wi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=fs(s)?R:s,W=fs(l)?B:l;n&&n>0&&(U?W=U/n:W&&(U=W*n),d&&W>d&&(W=d)),wi(U>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,W,s,l,c,f,n);var G=!Array.isArray(p)&&_i(p.type).endsWith("Chart");return D.Children.map(p,function(L){return D.isValidElement(L)?$.cloneElement(L,ld({width:U,height:W},G?{style:ld({height:"100%",width:"100%",maxHeight:W,maxWidth:U},L.props.style)}:{})):L})},[n,p,l,d,f,c,P,s]);return D.createElement("div",{id:y?"".concat(y):void 0,className:ke("recharts-responsive-container",w),style:ld(ld({},C),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:S},N)}),yL=function(e){return null};yL.displayName="Cell";function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){Sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sae(t,e,n){return e=xae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xae(t){var e=Tae(t,"string");return pf(e)=="symbol"?e:e+""}function Tae(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ea={widthCache:{},cacheCount:0},Aae=2e3,Pae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AO="recharts_measurement_span";function Cae(t){var e=pw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Sc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ru.isSsr)return{width:0,height:0};var r=Cae(n),i=JSON.stringify({text:e,copyStyle:r});if(ea.widthCache[i])return ea.widthCache[i];try{var o=document.getElementById(AO);o||(o=document.createElement("span"),o.setAttribute("id",AO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=pw(pw({},Pae),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ea.widthCache[i]=l,++ea.cacheCount>Aae&&(ea.cacheCount=0,ea.widthCache={}),l}catch{return{width:0,height:0}}},Oae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function em(t,e){return kae(t)||Nae(t,e)||Rae(t,e)||Iae()}function Iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rae(t,e){if(t){if(typeof t=="string")return PO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PO(t,e)}}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function kae(t){if(Array.isArray(t))return t}function Mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$ae(r.key),r)}}function Dae(t,e,n){return e&&CO(t.prototype,e),n&&CO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ae(t){var e=jae(t,"string");return mf(e)=="symbol"?e:e+""}function jae(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vae=Object.keys(vL),ba="NaN";function Bae(t,e){return t*vL[e]}var ud=function(){function t(e,n){Mae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Lae.test(n)&&(this.num=NaN,this.unit=""),Vae.includes(n)&&(this.num=Bae(e,n),this.unit="px")}return Dae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Fae.exec(n))!==null&&r!==void 0?r:[],o=em(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function _L(t){if(t.includes(ba))return ba;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=OO.exec(e))!==null&&n!==void 0?n:[],i=em(r,4),o=i[1],s=i[2],a=i[3],l=ud.parse(o??""),u=ud.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return ba;e=e.replace(OO,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=IO.exec(e))!==null&&f!==void 0?f:[],p=em(d,4),m=p[1],g=p[2],y=p[3],w=ud.parse(m??""),_=ud.parse(y??""),b=g==="+"?w.add(_):w.subtract(_);if(b.isNaN())return ba;e=e.replace(IO,b.toString())}return e}var RO=/\(([^()]*)\)/;function Uae(t){for(var e=t;e.includes("(");){var n=RO.exec(e),r=em(n,2),i=r[1];e=e.replace(RO,_L(i))}return e}function zae(t){var e=t.replace(/\s+/g,"");return e=Uae(e),e=_L(e),e}function Wae(t){try{return zae(t)}catch{return ba}}function Fv(t){var e=Wae(t.slice(5,-1));return e===ba?"":e}var qae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hae=["dx","dy","angle","className","breakAll"];function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(this,arguments)}function NO(t,e){if(t==null)return{};var n=Gae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kO(t,e){return Xae(t)||Qae(t,e)||Yae(t,e)||Kae()}function Kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yae(t,e){if(t){if(typeof t=="string")return MO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Xae(t){if(Array.isArray(t))return t}var wL=/[ \f\n\r\t\v\u2028\u2029]+/,bL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Se(n)||(r?o=n.toString().split(""):o=n.toString().split(wL));var s=o.map(function(l){return{word:l,width:Sc(l,i).width}}),a=r?0:Sc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Jae=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ne(s),f=a,d=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(W,G){var L=G.word,z=G.width,Y=W[W.length-1];if(Y&&(i==null||o||Y.width+z+r<Number(i)))Y.words.push(L),Y.width+=z+r;else{var ee={words:[L],width:z};W.push(ee)}return W},[])},p=d(n),m=function(U){return U.reduce(function(W,G){return W.width>G.width?W:G})};if(!c)return p;for(var g="",y=function(U){var W=f.slice(0,U),G=bL({breakAll:u,style:l,children:W+g}).wordsWithComputedWidth,L=d(G),z=L.length>s||m(L).width>Number(i);return[z,L]},w=0,_=f.length-1,b=0,C;w<=_&&b<=f.length-1;){var S=Math.floor((w+_)/2),A=S-1,E=y(A),x=kO(E,2),P=x[0],I=x[1],O=y(S),N=kO(O,1),R=N[0];if(!P&&!R&&(w=S+1),P&&R&&(_=S-1),!P&&R){C=I;break}b++}return C||p},DO=function(e){var n=Se(e)?[]:e.toString().split(wL);return[{words:n}]},Zae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!ru.isSsr){var l,u,c=bL({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return DO(i);return Jae({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return DO(i)},$O="#808080",tm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,y=e.fill,w=y===void 0?$O:y,_=NO(e,qae),b=$.useMemo(function(){return Zae({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),C=_.dx,S=_.dy,A=_.angle,E=_.className,x=_.breakAll,P=NO(_,Hae);if(!Dt(r)||!Dt(o))return null;var I=r+(ne(C)?C:0),O=o+(ne(S)?S:0),N;switch(g){case"start":N=Fv("calc(".concat(u,")"));break;case"middle":N=Fv("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:N=Fv("calc(".concat(b.length-1," * -").concat(a,")"));break}var R=[];if(f){var B=b[0].width,U=_.width;R.push("scale(".concat((ne(U)?U/B:1)/B,")"))}return A&&R.push("rotate(".concat(A,", ").concat(I,", ").concat(O,")")),R.length&&(P.transform=R.join(" ")),D.createElement("text",mw({},Ce(P,!0),{x:I,y:O,className:ke("recharts-text",E),textAnchor:p,fill:w.includes("url")?$O:w}),b.map(function(W,G){var L=W.words.join(x?"":" ");return D.createElement("tspan",{x:I,dy:G===0?N:a,key:"".concat(L,"-").concat(G)},L)}))};function Eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ele(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rS(t){let e,n,r;t.length!==2?(e=Eo,n=(a,l)=>Eo(t(a),l),r=(a,l)=>t(a)-l):(e=t===Eo||t===ele?t:tle,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function tle(){return 0}function EL(t){return t===null?NaN:+t}function*nle(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rle=rS(Eo),dh=rle.right;rS(EL).center;class jO extends Map{constructor(e,n=sle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(LO(this,e))}has(e){return super.has(LO(this,e))}set(e,n){return super.set(ile(this,e),n)}delete(e){return super.delete(ole(this,e))}}function LO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ile({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ole({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function sle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ale(t=Eo){if(t===Eo)return SL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function SL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lle=Math.sqrt(50),ule=Math.sqrt(10),cle=Math.sqrt(2);function nm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=lle?10:o>=ule?5:o>=cle?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?nm(t,e,n*2):[a,l,u]}function gw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?nm(e,t,n):nm(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function yw(t,e,n){return e=+e,t=+t,n=+n,nm(t,e,n)[2]}function vw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?yw(e,t,n):yw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function FO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function xL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?SL:ale(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));xL(t,e,p,m,i)}const o=t[e];let s=n,a=r;for(Fu(t,n,e),i(t[r],o)>0&&Fu(t,n,r);s<a;){for(Fu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Fu(t,n,a):(++a,Fu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Fu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fle(t,e,n){if(t=Float64Array.from(nle(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return VO(t);if(e>=1)return FO(t);var r,i=(r-1)*e,o=Math.floor(i),s=FO(xL(t,o).subarray(0,o+1)),a=VO(t.subarray(o+1));return s+(a-s)*(i-o)}}function hle(t,e,n=EL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function dle(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function mr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _w=Symbol("implicit");function iS(){var t=new jO,e=[],n=[],r=_w;function i(o){let s=t.get(o);if(s===void 0){if(r!==_w)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new jO;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return iS(e,n).unknown(r)},mr.apply(i,arguments),i}function gf(){var t=iS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var y=dle(d).map(function(w){return m+o*w});return n(p?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,f()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return gf(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},mr.apply(f(),arguments)}function TL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return TL(e())},t}function xc(){return TL(gf.apply(null,arguments).paddingInner(1))}function oS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function AL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ph(){}var yf=.7,rm=1/yf,Va="\\s*([+-]?\\d+)\\s*",vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ple=/^#([0-9a-f]{3,8})$/,mle=new RegExp(`^rgb\\(${Va},${Va},${Va}\\)$`),gle=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),yle=new RegExp(`^rgba\\(${Va},${Va},${Va},${vf}\\)$`),vle=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${vf}\\)$`),_le=new RegExp(`^hsl\\(${vf},${Zr},${Zr}\\)$`),wle=new RegExp(`^hsla\\(${vf},${Zr},${Zr},${vf}\\)$`),BO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oS(ph,_f,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:UO,formatHex:UO,formatHex8:ble,formatHsl:Ele,formatRgb:zO,toString:zO});function UO(){return this.rgb().formatHex()}function ble(){return this.rgb().formatHex8()}function Ele(){return PL(this).formatHsl()}function zO(){return this.rgb().formatRgb()}function _f(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ple.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WO(e):n===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mle.exec(t))?new Rn(e[1],e[2],e[3],1):(e=gle.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yle.exec(t))?cd(e[1],e[2],e[3],e[4]):(e=vle.exec(t))?cd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_le.exec(t))?GO(e[1],e[2]/100,e[3]/100,1):(e=wle.exec(t))?GO(e[1],e[2]/100,e[3]/100,e[4]):BO.hasOwnProperty(t)?WO(BO[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function WO(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function cd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rn(t,e,n,r)}function Sle(t){return t instanceof ph||(t=_f(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function ww(t,e,n,r){return arguments.length===1?Sle(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}oS(Rn,ww,AL(ph,{brighter(t){return t=t==null?rm:Math.pow(rm,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yf:Math.pow(yf,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(ws(this.r),ws(this.g),ws(this.b),im(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qO,formatHex:qO,formatHex8:xle,formatRgb:HO,toString:HO}));function qO(){return`#${hs(this.r)}${hs(this.g)}${hs(this.b)}`}function xle(){return`#${hs(this.r)}${hs(this.g)}${hs(this.b)}${hs((isNaN(this.opacity)?1:this.opacity)*255)}`}function HO(){const t=im(this.opacity);return`${t===1?"rgb(":"rgba("}${ws(this.r)}, ${ws(this.g)}, ${ws(this.b)}${t===1?")":`, ${t})`}`}function im(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ws(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hs(t){return t=ws(t),(t<16?"0":"")+t.toString(16)}function GO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Cr(t,e,n,r)}function PL(t){if(t instanceof Cr)return new Cr(t.h,t.s,t.l,t.opacity);if(t instanceof ph||(t=_f(t)),!t)return new Cr;if(t instanceof Cr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Cr(s,a,l,t.opacity)}function Tle(t,e,n,r){return arguments.length===1?PL(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}oS(Cr,Tle,AL(ph,{brighter(t){return t=t==null?rm:Math.pow(rm,t),new Cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yf:Math.pow(yf,t),new Cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rn(Vv(t>=240?t-240:t+120,i,r),Vv(t,i,r),Vv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cr(KO(this.h),fd(this.s),fd(this.l),im(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=im(this.opacity);return`${t===1?"hsl(":"hsla("}${KO(this.h)}, ${fd(this.s)*100}%, ${fd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function KO(t){return t=(t||0)%360,t<0?t+360:t}function fd(t){return Math.max(0,Math.min(1,t||0))}function Vv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const sS=t=>()=>t;function Ale(t,e){return function(n){return t+n*e}}function Ple(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Cle(t){return(t=+t)==1?CL:function(e,n){return n-e?Ple(e,n,t):sS(isNaN(e)?n:e)}}function CL(t,e){var n=e-t;return n?Ale(t,n):sS(isNaN(t)?e:t)}const YO=function t(e){var n=Cle(e);function r(i,o){var s=n((i=ww(i)).r,(o=ww(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=CL(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ole(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Ile(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rle(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=iu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Nle(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function om(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kle(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=iu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var bw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bv=new RegExp(bw.source,"g");function Mle(t){return function(){return t}}function Dle(t){return function(e){return t(e)+""}}function $le(t,e){var n=bw.lastIndex=Bv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=bw.exec(t))&&(i=Bv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:om(r,i)})),n=Bv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Dle(l[0].x):Mle(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function iu(t,e){var n=typeof e,r;return e==null||n==="boolean"?sS(e):(n==="number"?om:n==="string"?(r=_f(e))?(e=r,YO):$le:e instanceof _f?YO:e instanceof Date?Nle:Ile(e)?Ole:Array.isArray(e)?Rle:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kle:om)(t,e)}function aS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jle(t,e){e===void 0&&(e=t,t=iu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Lle(t){return function(){return t}}function sm(t){return+t}var QO=[0,1];function En(t){return t}function Ew(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Lle(isNaN(e)?NaN:.5)}function Fle(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Vle(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Ew(i,r),o=n(s,o)):(r=Ew(r,i),o=n(o,s)),function(a){return o(r(a))}}function Ble(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Ew(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=dh(t,a,1,r)-1;return o[l](i[l](a))}}function mh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jg(){var t=QO,e=QO,n=iu,r,i,o,s=En,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==En&&(s=Fle(t[0],t[d-1])),a=d>2?Ble:Vle,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(e,t.map(r),om)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,sm),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=aS,c()},f.clamp=function(d){return arguments.length?(s=d?!0:En,c()):s!==En},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function lS(){return Jg()(En,En)}function Ule(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function am(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function pl(t){return t=am(Math.abs(t)),t?t[1]:NaN}function zle(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Wle(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var qle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wf(t){if(!(e=qle.exec(t)))throw new Error("invalid format: "+t);var e;return new uS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wf.prototype=uS.prototype;function uS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}uS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hle(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var OL;function Gle(t,e){var n=am(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(OL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+am(t,Math.max(0,e+o-1))[0]}function XO(t,e){var n=am(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ule,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>XO(t*100,e),r:XO,s:Gle,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZO(t){return t}var eI=Array.prototype.map,tI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kle(t){var e=t.grouping===void 0||t.thousands===void 0?ZO:zle(eI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ZO:Wle(eI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=wf(f);var d=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,w=f.width,_=f.comma,b=f.precision,C=f.trim,S=f.type;S==="n"?(_=!0,S="g"):JO[S]||(b===void 0&&(b=12),C=!0,S="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=g==="$"?r:/[%p]/.test(S)?s:"",x=JO[S],P=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(O){var N=A,R=E,B,U,W;if(S==="c")R=x(O)+R,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:x(Math.abs(O),b),C&&(O=Hle(O)),G&&+O==0&&m!=="+"&&(G=!1),N=(G?m==="("?m:a:m==="-"||m==="("?"":m)+N,R=(S==="s"?tI[8+OL/3]:"")+R+(G&&m==="("?")":""),P){for(B=-1,U=O.length;++B<U;)if(W=O.charCodeAt(B),48>W||W>57){R=(W===46?i+O.slice(B+1):O.slice(B))+R,O=O.slice(0,B);break}}}_&&!y&&(O=e(O,1/0));var L=N.length+O.length+R.length,z=L<w?new Array(w-L+1).join(d):"";switch(_&&y&&(O=e(z+O,z.length?w-R.length:1/0),z=""),p){case"<":O=N+O+R+z;break;case"=":O=N+z+O+R;break;case"^":O=z.slice(0,L=z.length>>1)+N+O+R+z.slice(L);break;default:O=z+N+O+R;break}return o(O)}return I.toString=function(){return f+""},I}function c(f,d){var p=u((f=wf(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(pl(d)/3)))*3,g=Math.pow(10,-m),y=tI[8+m/3];return function(w){return p(g*w)+y}}return{format:u,formatPrefix:c}}var hd,cS,IL;Yle({thousands:",",grouping:[3],currency:["$",""]});function Yle(t){return hd=Kle(t),cS=hd.format,IL=hd.formatPrefix,hd}function Qle(t){return Math.max(0,-pl(Math.abs(t)))}function Xle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pl(e)/3)))*3-pl(Math.abs(t)))}function Jle(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pl(e)-pl(t))+1}function RL(t,e,n,r){var i=vw(t,e,n),o;switch(r=wf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Xle(i,s))&&(r.precision=o),IL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Jle(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Qle(i))&&(r.precision=o-(r.type==="%")*2);break}}return cS(r)}function Uo(t){var e=t.domain;return t.ticks=function(n){var r=e();return gw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return RL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=yw(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function lm(){var t=lS();return t.copy=function(){return mh(t,lm())},mr.apply(t,arguments),Uo(t)}function NL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,sm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return NL(t).unknown(e)},t=arguments.length?Array.from(t,sm):[0,1],Uo(n)}function kL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function nI(t){return Math.log(t)}function rI(t){return Math.exp(t)}function Zle(t){return-Math.log(-t)}function eue(t){return-Math.exp(-t)}function tue(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nue(t){return t===10?tue:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rue(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function iI(t){return(e,n)=>-t(-e,n)}function fS(t){const e=t(nI,rI),n=e.domain;let r=10,i,o;function s(){return i=rue(r),o=nue(r),n()[0]<0?(i=iI(i),o=iI(o),t(Zle,eue)):t(nI,rI),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const y=a==null?10:+a;let w=[];if(!(r%1)&&p-d<y){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;w.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;w.push(g)}w.length*2<y&&(w=gw(u,c,y))}else w=gw(d,p,Math.min(p-d,y)).map(o);return f?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=wf(l)).precision==null&&(l.trim=!0),l=cS(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(kL(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function ML(){const t=fS(Jg()).domain([1,10]);return t.copy=()=>mh(t,ML()).base(t.base()),mr.apply(t,arguments),t}function oI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hS(t){var e=1,n=t(oI(e),sI(e));return n.constant=function(r){return arguments.length?t(oI(e=+r),sI(e)):e},Uo(n)}function DL(){var t=hS(Jg());return t.copy=function(){return mh(t,DL()).constant(t.constant())},mr.apply(t,arguments)}function aI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iue(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oue(t){return t<0?-t*t:t*t}function dS(t){var e=t(En,En),n=1;function r(){return n===1?t(En,En):n===.5?t(iue,oue):t(aI(n),aI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Uo(e)}function pS(){var t=dS(Jg());return t.copy=function(){return mh(t,pS()).exponent(t.exponent())},mr.apply(t,arguments),t}function sue(){return pS.apply(null,arguments).exponent(.5)}function lI(t){return Math.sign(t)*t*t}function aue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $L(){var t=lS(),e=[0,1],n=!1,r;function i(o){var s=aue(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(lI(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,sm)).map(lI)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $L(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},mr.apply(i,arguments),Uo(i)}function jL(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=hle(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[dh(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Eo),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return jL().domain(t).range(e).unknown(r)},mr.apply(o,arguments)}function LL(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[dh(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return LL().domain([t,e]).range(i).unknown(o)},mr.apply(Uo(s),arguments)}function FL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[dh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return FL().domain(t).range(e).unknown(n)},mr.apply(i,arguments)}const Uv=new Date,zv=new Date;function jt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>jt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Uv.setTime(+o),zv.setTime(+s),t(Uv),t(zv),Math.floor(n(Uv,zv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const um=jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);um.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):um);um.range;const di=1e3,ar=di*60,pi=ar*60,Ii=pi*24,mS=Ii*7,uI=Ii*30,Wv=Ii*365,ds=jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCSeconds());ds.range;const gS=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*di)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());gS.range;const yS=jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());yS.range;const vS=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*di-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getHours());vS.range;const _S=jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getUTCHours());_S.range;const gh=jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/Ii,t=>t.getDate()-1);gh.range;const Zg=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ii,t=>t.getUTCDate()-1);Zg.range;const VL=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ii,t=>Math.floor(t/Ii));VL.range;function zs(t){return jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/mS)}const ey=zs(0),cm=zs(1),lue=zs(2),uue=zs(3),ml=zs(4),cue=zs(5),fue=zs(6);ey.range;cm.range;lue.range;uue.range;ml.range;cue.range;fue.range;function Ws(t){return jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/mS)}const ty=Ws(0),fm=Ws(1),hue=Ws(2),due=Ws(3),gl=Ws(4),pue=Ws(5),mue=Ws(6);ty.range;fm.range;hue.range;due.range;gl.range;pue.range;mue.range;const wS=jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wS.range;const bS=jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bS.range;const Ri=jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ri.range;const Ni=jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ni.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ni.range;function BL(t,e,n,r,i,o){const s=[[ds,1,di],[ds,5,5*di],[ds,15,15*di],[ds,30,30*di],[o,1,ar],[o,5,5*ar],[o,15,15*ar],[o,30,30*ar],[i,1,pi],[i,3,3*pi],[i,6,6*pi],[i,12,12*pi],[r,1,Ii],[r,2,2*Ii],[n,1,mS],[e,1,uI],[e,3,3*uI],[t,1,Wv]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=rS(([,,y])=>y).right(s,d);if(p===s.length)return t.every(vw(u/Wv,c/Wv,f));if(p===0)return um.every(Math.max(vw(u,c,f),1));const[m,g]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return m.every(g)}return[a,l]}const[gue,yue]=BL(Ni,bS,ty,VL,_S,yS),[vue,_ue]=BL(Ri,wS,ey,gh,vS,gS);function qv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Bu(i),c=Uu(i),f=Bu(o),d=Uu(o),p=Bu(s),m=Uu(s),g=Bu(a),y=Uu(a),w=Bu(l),_=Uu(l),b={a:G,A:L,b:z,B:Y,c:null,d:mI,e:mI,f:zue,g:Zue,G:tce,H:Vue,I:Bue,j:Uue,L:UL,m:Wue,M:que,p:ee,q:Q,Q:vI,s:_I,S:Hue,u:Gue,U:Kue,V:Yue,w:Que,W:Xue,x:null,X:null,y:Jue,Y:ece,Z:nce,"%":yI},C={a:le,A:pe,b:De,B:Ye,c:null,d:gI,e:gI,f:sce,g:gce,G:vce,H:rce,I:ice,j:oce,L:WL,m:ace,M:lce,p:on,q:Lt,Q:vI,s:_I,S:uce,u:cce,U:fce,V:hce,w:dce,W:pce,x:null,X:null,y:mce,Y:yce,Z:_ce,"%":yI},S={a:I,A:O,b:N,B:R,c:B,d:dI,e:dI,f:$ue,g:hI,G:fI,H:pI,I:pI,j:Nue,L:Due,m:Rue,M:kue,p:P,q:Iue,Q:Lue,s:Fue,S:Mue,u:Tue,U:Aue,V:Pue,w:xue,W:Cue,x:U,X:W,y:hI,Y:fI,Z:Oue,"%":jue};b.x=A(n,b),b.X=A(r,b),b.c=A(e,b),C.x=A(n,C),C.X=A(r,C),C.c=A(e,C);function A(re,me){return function(ye){var K=[],qe=-1,Te=0,yt=re.length,st,Ft,gr;for(ye instanceof Date||(ye=new Date(+ye));++qe<yt;)re.charCodeAt(qe)===37&&(K.push(re.slice(Te,qe)),(Ft=cI[st=re.charAt(++qe)])!=null?st=re.charAt(++qe):Ft=st==="e"?" ":"0",(gr=me[st])&&(st=gr(ye,Ft)),K.push(st),Te=qe+1);return K.push(re.slice(Te,qe)),K.join("")}}function E(re,me){return function(ye){var K=Vu(1900,void 0,1),qe=x(K,re,ye+="",0),Te,yt;if(qe!=ye.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(me&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Te=Hv(Vu(K.y,0,1)),yt=Te.getUTCDay(),Te=yt>4||yt===0?fm.ceil(Te):fm(Te),Te=Zg.offset(Te,(K.V-1)*7),K.y=Te.getUTCFullYear(),K.m=Te.getUTCMonth(),K.d=Te.getUTCDate()+(K.w+6)%7):(Te=qv(Vu(K.y,0,1)),yt=Te.getDay(),Te=yt>4||yt===0?cm.ceil(Te):cm(Te),Te=gh.offset(Te,(K.V-1)*7),K.y=Te.getFullYear(),K.m=Te.getMonth(),K.d=Te.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),yt="Z"in K?Hv(Vu(K.y,0,1)).getUTCDay():qv(Vu(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(yt+5)%7:K.w+K.U*7-(yt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Hv(K)):qv(K)}}function x(re,me,ye,K){for(var qe=0,Te=me.length,yt=ye.length,st,Ft;qe<Te;){if(K>=yt)return-1;if(st=me.charCodeAt(qe++),st===37){if(st=me.charAt(qe++),Ft=S[st in cI?me.charAt(qe++):st],!Ft||(K=Ft(re,ye,K))<0)return-1}else if(st!=ye.charCodeAt(K++))return-1}return K}function P(re,me,ye){var K=u.exec(me.slice(ye));return K?(re.p=c.get(K[0].toLowerCase()),ye+K[0].length):-1}function I(re,me,ye){var K=p.exec(me.slice(ye));return K?(re.w=m.get(K[0].toLowerCase()),ye+K[0].length):-1}function O(re,me,ye){var K=f.exec(me.slice(ye));return K?(re.w=d.get(K[0].toLowerCase()),ye+K[0].length):-1}function N(re,me,ye){var K=w.exec(me.slice(ye));return K?(re.m=_.get(K[0].toLowerCase()),ye+K[0].length):-1}function R(re,me,ye){var K=g.exec(me.slice(ye));return K?(re.m=y.get(K[0].toLowerCase()),ye+K[0].length):-1}function B(re,me,ye){return x(re,e,me,ye)}function U(re,me,ye){return x(re,n,me,ye)}function W(re,me,ye){return x(re,r,me,ye)}function G(re){return s[re.getDay()]}function L(re){return o[re.getDay()]}function z(re){return l[re.getMonth()]}function Y(re){return a[re.getMonth()]}function ee(re){return i[+(re.getHours()>=12)]}function Q(re){return 1+~~(re.getMonth()/3)}function le(re){return s[re.getUTCDay()]}function pe(re){return o[re.getUTCDay()]}function De(re){return l[re.getUTCMonth()]}function Ye(re){return a[re.getUTCMonth()]}function on(re){return i[+(re.getUTCHours()>=12)]}function Lt(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var me=A(re+="",b);return me.toString=function(){return re},me},parse:function(re){var me=E(re+="",!1);return me.toString=function(){return re},me},utcFormat:function(re){var me=A(re+="",C);return me.toString=function(){return re},me},utcParse:function(re){var me=E(re+="",!0);return me.toString=function(){return re},me}}}var cI={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,bue=/^%/,Eue=/[\\^$*+?|[\]().{}]/g;function Me(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Sue(t){return t.replace(Eue,"\\$&")}function Bu(t){return new RegExp("^(?:"+t.map(Sue).join("|")+")","i")}function Uu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xue(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Tue(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Aue(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Pue(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Cue(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function fI(t,e,n){var r=Qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hI(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Oue(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Iue(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Rue(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dI(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Nue(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function pI(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function kue(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Mue(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Due(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $ue(t,e,n){var r=Qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jue(t,e,n){var r=bue.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Lue(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fue(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function mI(t,e){return Me(t.getDate(),e,2)}function Vue(t,e){return Me(t.getHours(),e,2)}function Bue(t,e){return Me(t.getHours()%12||12,e,2)}function Uue(t,e){return Me(1+gh.count(Ri(t),t),e,3)}function UL(t,e){return Me(t.getMilliseconds(),e,3)}function zue(t,e){return UL(t,e)+"000"}function Wue(t,e){return Me(t.getMonth()+1,e,2)}function que(t,e){return Me(t.getMinutes(),e,2)}function Hue(t,e){return Me(t.getSeconds(),e,2)}function Gue(t){var e=t.getDay();return e===0?7:e}function Kue(t,e){return Me(ey.count(Ri(t)-1,t),e,2)}function zL(t){var e=t.getDay();return e>=4||e===0?ml(t):ml.ceil(t)}function Yue(t,e){return t=zL(t),Me(ml.count(Ri(t),t)+(Ri(t).getDay()===4),e,2)}function Que(t){return t.getDay()}function Xue(t,e){return Me(cm.count(Ri(t)-1,t),e,2)}function Jue(t,e){return Me(t.getFullYear()%100,e,2)}function Zue(t,e){return t=zL(t),Me(t.getFullYear()%100,e,2)}function ece(t,e){return Me(t.getFullYear()%1e4,e,4)}function tce(t,e){var n=t.getDay();return t=n>=4||n===0?ml(t):ml.ceil(t),Me(t.getFullYear()%1e4,e,4)}function nce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Me(e/60|0,"0",2)+Me(e%60,"0",2)}function gI(t,e){return Me(t.getUTCDate(),e,2)}function rce(t,e){return Me(t.getUTCHours(),e,2)}function ice(t,e){return Me(t.getUTCHours()%12||12,e,2)}function oce(t,e){return Me(1+Zg.count(Ni(t),t),e,3)}function WL(t,e){return Me(t.getUTCMilliseconds(),e,3)}function sce(t,e){return WL(t,e)+"000"}function ace(t,e){return Me(t.getUTCMonth()+1,e,2)}function lce(t,e){return Me(t.getUTCMinutes(),e,2)}function uce(t,e){return Me(t.getUTCSeconds(),e,2)}function cce(t){var e=t.getUTCDay();return e===0?7:e}function fce(t,e){return Me(ty.count(Ni(t)-1,t),e,2)}function qL(t){var e=t.getUTCDay();return e>=4||e===0?gl(t):gl.ceil(t)}function hce(t,e){return t=qL(t),Me(gl.count(Ni(t),t)+(Ni(t).getUTCDay()===4),e,2)}function dce(t){return t.getUTCDay()}function pce(t,e){return Me(fm.count(Ni(t)-1,t),e,2)}function mce(t,e){return Me(t.getUTCFullYear()%100,e,2)}function gce(t,e){return t=qL(t),Me(t.getUTCFullYear()%100,e,2)}function yce(t,e){return Me(t.getUTCFullYear()%1e4,e,4)}function vce(t,e){var n=t.getUTCDay();return t=n>=4||n===0?gl(t):gl.ceil(t),Me(t.getUTCFullYear()%1e4,e,4)}function _ce(){return"+0000"}function yI(){return"%"}function vI(t){return+t}function _I(t){return Math.floor(+t/1e3)}var ta,HL,GL;wce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wce(t){return ta=wue(t),HL=ta.format,ta.parse,GL=ta.utcFormat,ta.utcParse,ta}function bce(t){return new Date(t)}function Ece(t){return t instanceof Date?+t:+new Date(+t)}function ES(t,e,n,r,i,o,s,a,l,u){var c=lS(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),_=u("%b %d"),b=u("%B"),C=u("%Y");function S(A){return(l(A)<A?p:a(A)<A?m:s(A)<A?g:o(A)<A?y:r(A)<A?i(A)<A?w:_:n(A)<A?b:C)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?d(Array.from(A,Ece)):d().map(bce)},c.ticks=function(A){var E=d();return t(E[0],E[E.length-1],A??10)},c.tickFormat=function(A,E){return E==null?S:u(E)},c.nice=function(A){var E=d();return(!A||typeof A.range!="function")&&(A=e(E[0],E[E.length-1],A??10)),A?d(kL(E,A)):c},c.copy=function(){return mh(c,ES(t,e,n,r,i,o,s,a,l,u))},c}function Sce(){return mr.apply(ES(vue,_ue,Ri,wS,ey,gh,vS,gS,ds,HL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xce(){return mr.apply(ES(gue,yue,Ni,bS,ty,Zg,_S,yS,ds,GL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ny(){var t=0,e=1,n,r,i,o,s=En,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,s=f(p,m),u):[s(0),s(1)]}}return u.range=c(iu),u.rangeRound=c(aS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KL(){var t=Uo(ny()(En));return t.copy=function(){return zo(t,KL())},Fi.apply(t,arguments)}function YL(){var t=fS(ny()).domain([1,10]);return t.copy=function(){return zo(t,YL()).base(t.base())},Fi.apply(t,arguments)}function QL(){var t=hS(ny());return t.copy=function(){return zo(t,QL()).constant(t.constant())},Fi.apply(t,arguments)}function SS(){var t=dS(ny());return t.copy=function(){return zo(t,SS()).exponent(t.exponent())},Fi.apply(t,arguments)}function Tce(){return SS.apply(null,arguments).exponent(.5)}function XL(){var t=[],e=En;function n(r){if(r!=null&&!isNaN(r=+r))return e((dh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Eo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>fle(t,o/r))},n.copy=function(){return XL(e).domain(t)},Fi.apply(n,arguments)}function ry(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=En,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?a:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(y){var w,_,b;return arguments.length?([w,_,b]=y,u=jle(g,[w,_,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(iu),p.rangeRound=m(aS),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function JL(){var t=Uo(ry()(En));return t.copy=function(){return zo(t,JL())},Fi.apply(t,arguments)}function ZL(){var t=fS(ry()).domain([.1,1,10]);return t.copy=function(){return zo(t,ZL()).base(t.base())},Fi.apply(t,arguments)}function eF(){var t=hS(ry());return t.copy=function(){return zo(t,eF()).constant(t.constant())},Fi.apply(t,arguments)}function xS(){var t=dS(ry());return t.copy=function(){return zo(t,xS()).exponent(t.exponent())},Fi.apply(t,arguments)}function Ace(){return xS.apply(null,arguments).exponent(.5)}const wI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gf,scaleDiverging:JL,scaleDivergingLog:ZL,scaleDivergingPow:xS,scaleDivergingSqrt:Ace,scaleDivergingSymlog:eF,scaleIdentity:NL,scaleImplicit:_w,scaleLinear:lm,scaleLog:ML,scaleOrdinal:iS,scalePoint:xc,scalePow:pS,scaleQuantile:jL,scaleQuantize:LL,scaleRadial:$L,scaleSequential:KL,scaleSequentialLog:YL,scaleSequentialPow:SS,scaleSequentialQuantile:XL,scaleSequentialSqrt:Tce,scaleSequentialSymlog:QL,scaleSqrt:sue,scaleSymlog:DL,scaleThreshold:FL,scaleTime:Sce,scaleUtc:xce,tickFormat:RL},Symbol.toStringTag,{value:"Module"}));var Pce=Yl;function Cce(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Pce(s):n(s,a)))var a=s,l=o}return l}var tF=Cce;function Oce(t,e){return t>e}var Ice=Oce,Rce=tF,Nce=Ice,kce=nu;function Mce(t){return t&&t.length?Rce(t,kce,Nce):void 0}var Dce=Mce;const iy=We(Dce);function $ce(t,e){return t<e}var jce=$ce,Lce=tF,Fce=jce,Vce=nu;function Bce(t){return t&&t.length?Lce(t,Vce,Fce):void 0}var Uce=Bce;const oy=We(Uce);var zce=L1,Wce=Bo,qce=lL,Hce=Fn;function Gce(t,e){var n=Hce(t)?zce:qce;return n(t,Wce(e))}var Kce=Gce,Yce=sL,Qce=Kce;function Xce(t,e){return Yce(Qce(t,e),1)}var Jce=Xce;const Zce=We(Jce);var efe=Z1;function tfe(t,e){return efe(t,e)}var nfe=tfe;const sy=We(nfe);var ou=1e9,rfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AS,ot=!0,dr="[DecimalError] ",bs=dr+"Invalid argument: ",TS=dr+"Exponent out of range: ",su=Math.floor,rs=Math.pow,ife=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hn,zt=1e7,et=7,nF=9007199254740991,hm=su(nF/et),se={};se.absoluteValue=se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};se.comparedTo=se.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};se.decimalPlaces=se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};se.dividedBy=se.div=function(t){return bi(this,new this.constructor(t))};se.dividedToIntegerBy=se.idiv=function(t){var e=this,n=e.constructor;return Ue(bi(e,new n(t),0,1),n.precision)};se.equals=se.eq=function(t){return!this.cmp(t)};se.exponent=function(){return Ct(this)};se.greaterThan=se.gt=function(t){return this.cmp(t)>0};se.greaterThanOrEqualTo=se.gte=function(t){return this.cmp(t)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(t){return this.cmp(t)<0};se.lessThanOrEqualTo=se.lte=function(t){return this.cmp(t)<1};se.logarithm=se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hn))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(Hn)?new r(0):(ot=!1,e=bi(bf(n,o),bf(t,o),o),ot=!0,Ue(e,i))};se.minus=se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oF(e,t):rF(e,(t.s=-t.s,t))};se.modulo=se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(dr+"NaN");return n.s?(ot=!1,e=bi(n,t,0,1).times(t),ot=!0,n.minus(e)):Ue(new r(n),i)};se.naturalExponential=se.exp=function(){return iF(this)};se.naturalLogarithm=se.ln=function(){return bf(this)};se.negated=se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};se.plus=se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rF(e,t):oF(e,(t.s=-t.s,t))};se.precision=se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bs+t);if(e=Ct(i)+1,r=i.d.length-1,n=r*et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};se.squareRoot=se.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(dr+"NaN")}for(t=Ct(a),ot=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Gr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=su((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(bi(a,o,s+2)).times(.5),Gr(o.d).slice(0,s)===(e=Gr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ue(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ot=!0,Ue(r,n)};se.times=se.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*d[i-r-1]+e,o[i--]=a%zt|0,e=a/zt|0;o[i]=(o[i]+e)%zt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ot?Ue(t,f.precision):t};se.toDecimalPlaces=se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ri(t,0,ou),e===void 0?e=r.rounding:ri(e,0,8),Ue(n,t+Ct(n)+1,e))};se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ds(r,!0):(ri(t,0,ou),e===void 0?e=i.rounding:ri(e,0,8),r=Ue(new i(r),t+1,e),n=Ds(r,!0,t+1)),n};se.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ds(i):(ri(t,0,ou),e===void 0?e=o.rounding:ri(e,0,8),r=Ue(new o(i),t+Ct(i)+1,e),n=Ds(r.abs(),!1,t+Ct(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};se.toInteger=se.toint=function(){var t=this,e=t.constructor;return Ue(new e(t),Ct(t)+1,e.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Hn);if(a=new l(a),!a.s){if(t.s<1)throw Error(dr+"Infinity");return a}if(a.eq(Hn))return a;if(r=l.precision,t.eq(Hn))return Ue(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=nF){for(i=new l(Hn),e=Math.ceil(r/et+4),ot=!1;n%2&&(i=i.times(a),EI(i.d,e)),n=su(n/2),n!==0;)a=a.times(a),EI(a.d,e);return ot=!0,t.s<0?new l(Hn).div(i):Ue(i,r)}}else if(o<0)throw Error(dr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ot=!1,i=t.times(bf(a,r+u)),ot=!0,i=iF(i),i.s=o,i};se.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Ct(i),r=Ds(i,n<=o.toExpNeg||n>=o.toExpPos)):(ri(t,1,ou),e===void 0?e=o.rounding:ri(e,0,8),i=Ue(new o(i),t,e),n=Ct(i),r=Ds(i,t<=n||n<=o.toExpNeg,t)),r};se.toSignificantDigits=se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ri(t,1,ou),e===void 0?e=r.rounding:ri(e,0,8)),Ue(new r(n),t,e)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ct(t),n=t.constructor;return Ds(t,e<=n.toExpNeg||e>=n.toExpPos)};function rF(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ot?Ue(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/et),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/zt|0,l[o]%=zt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ot?Ue(e,f):e}function ri(t,e,n){if(t!==~~t||t<e||t>n)throw Error(bs+t)}function Gr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=et-r.length,n&&(o+=Qi(n)),o+=r;s=t[e],r=s+"",n=et-r.length,n&&(o+=Qi(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var bi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%zt|0,s=o/zt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*zt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,d,p,m,g,y,w,_,b,C,S,A,E,x,P=r.constructor,I=r.s==i.s?1:-1,O=r.d,N=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(dr+"Division by zero");for(l=r.e-i.e,E=N.length,S=O.length,p=new P(I),m=p.d=[],u=0;N[u]==(O[u]||0);)++u;if(N[u]>(O[u]||0)&&--l,o==null?_=o=P.precision:s?_=o+(Ct(r)-Ct(i))+1:_=o,_<0)return new P(0);if(_=_/et+2|0,u=0,E==1)for(c=0,N=N[0],_++;(u<S||c)&&_--;u++)b=c*zt+(O[u]||0),m[u]=b/N|0,c=b%N|0;else{for(c=zt/(N[0]+1)|0,c>1&&(N=t(N,c),O=t(O,c),E=N.length,S=O.length),C=E,g=O.slice(0,E),y=g.length;y<E;)g[y++]=0;x=N.slice(),x.unshift(0),A=N[0],N[1]>=zt/2&&++A;do c=0,a=e(N,g,E,y),a<0?(w=g[0],E!=y&&(w=w*zt+(g[1]||0)),c=w/A|0,c>1?(c>=zt&&(c=zt-1),f=t(N,c),d=f.length,y=g.length,a=e(f,g,d,y),a==1&&(c--,n(f,E<d?x:N,d))):(c==0&&(a=c=1),f=N.slice()),d=f.length,d<y&&f.unshift(0),n(g,f,y),a==-1&&(y=g.length,a=e(N,g,E,y),a<1&&(c++,n(g,E<y?x:N,y))),y=g.length):a===0&&(c++,g=[0]),m[u++]=c,a&&g[0]?g[y++]=O[C]||0:(g=[O[C]],y=1);while((C++<S||g[0]!==void 0)&&_--)}return m[0]||m.shift(),p.e=l,Ue(p,s?o+Ct(p)+1:o)}}();function iF(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(Ct(t)>16)throw Error(TS+Ct(t));if(!t.s)return new c(Hn);for(ot=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(rs(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Hn),c.precision=a;;){if(i=Ue(i.times(t),a),n=n.times(++l),s=o.plus(bi(i,n,a)),Gr(s.d).slice(0,a)===Gr(o.d).slice(0,a)){for(;u--;)o=Ue(o.times(o),a);return c.precision=f,e==null?(ot=!0,Ue(o,f)):o}o=s}}function Ct(t){for(var e=t.e*et,n=t.d[0];n>=10;n/=10)e++;return e}function Gv(t,e,n){if(e>t.LN10.sd())throw ot=!0,n&&(t.precision=n),Error(dr+"LN10 precision limit exceeded");return Ue(new t(t.LN10),e)}function Qi(t){for(var e="";t--;)e+="0";return e}function bf(t,e){var n,r,i,o,s,a,l,u,c,f=1,d=10,p=t,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(dr+(p.s?"NaN":"-Infinity"));if(p.eq(Hn))return new g(0);if(e==null?(ot=!1,u=y):u=e,p.eq(10))return e==null&&(ot=!0),Gv(g,u);if(u+=d,g.precision=u,n=Gr(m),r=n.charAt(0),o=Ct(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Gr(p.d),r=n.charAt(0),f++;o=Ct(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=Gv(g,u+2,y).times(o+""),p=bf(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=y,e==null?(ot=!0,Ue(p,y)):p;for(a=s=p=bi(p.minus(Hn),p.plus(Hn),u),c=Ue(p.times(p),u),i=3;;){if(s=Ue(s.times(c),u),l=a.plus(bi(s,new g(i),u)),Gr(l.d).slice(0,u)===Gr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Gv(g,u+2,y).times(o+""))),a=bi(a,new g(f),u),g.precision=y,e==null?(ot=!0,Ue(a,y)):a;a=l,i+=2}}function bI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=su(n/et),t.d=[],r=(n+1)%et,n<0&&(r+=et),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=et;r<i;)t.d.push(+e.slice(r,r+=et));e=e.slice(r),r=et-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ot&&(t.e>hm||t.e<-hm))throw Error(TS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ue(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=et,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/et),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=et,i=r-et+s}if(n!==void 0&&(o=rs(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/rs(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Ct(t),f.length=1,e=e-o-1,f[0]=rs(10,(et-e%et)%et),t.e=su(-e/et)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=rs(10,et-r),f[c]=i>0?(u/rs(10,s-i)%rs(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==zt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=zt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ot&&(t.e>hm||t.e<-hm))throw Error(TS+Ct(t));return t}function oF(t,e){var n,r,i,o,s,a,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),ot?Ue(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(p/et),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=zt-1;--l[o],l[i]+=zt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ot?Ue(e,p):e):new d(0)}function Ds(t,e,n){var r,i=Ct(t),o=Gr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Qi(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Qi(-i-1)+o,n&&(r=n-s)>0&&(o+=Qi(r))):i>=s?(o+=Qi(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Qi(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Qi(r))),t.s<0?"-"+o:o}function EI(t,e){if(t.length>e)return t.length=e,!0}function sF(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(bs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return bI(s,o.toString())}else if(typeof o!="string")throw Error(bs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,ife.test(o))bI(s,o);else throw Error(bs+o)}if(i.prototype=se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sF,i.config=i.set=ofe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ofe(t){if(!t||typeof t!="object")throw Error(dr+"Object expected");var e,n,r,i=["precision",1,ou,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(su(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(bs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(bs+n+": "+r);return this}var AS=sF(rfe);Hn=new AS(1);const Ve=AS;function sfe(t){return cfe(t)||ufe(t)||lfe(t)||afe()}function afe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(t,e){if(t){if(typeof t=="string")return Sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sw(t,e)}}function ufe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cfe(t){if(Array.isArray(t))return Sw(t)}function Sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ffe=function(e){return e},aF={},lF=function(e){return e===aF},SI=function(e){return function n(){return arguments.length===0||arguments.length===1&&lF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},hfe=function t(e,n){return e===1?n:SI(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==aF}).length;return s>=e?n.apply(void 0,i):t(e-s,SI(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return lF(f)?l.shift():f});return n.apply(void 0,sfe(c).concat(l))}))})},ay=function(e){return hfe(e.length,e)},xw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},dfe=ay(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),pfe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ffe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Tw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},uF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function mfe(t){var e;return t===0?e=1:e=Math.floor(new Ve(t).abs().log(10).toNumber())+1,e}function gfe(t,e,n){for(var r=new Ve(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var yfe=ay(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),vfe=ay(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),_fe=ay(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ly={rangeStep:gfe,getDigitCount:mfe,interpolateNumber:yfe,uninterpolateNumber:vfe,uninterpolateTruncation:_fe};function Aw(t){return Efe(t)||bfe(t)||cF(t)||wfe()}function wfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Efe(t){if(Array.isArray(t))return Pw(t)}function Ef(t,e){return Tfe(t)||xfe(t,e)||cF(t,e)||Sfe()}function Sfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cF(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xfe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Tfe(t){if(Array.isArray(t))return t}function fF(t){var e=Ef(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function hF(t,e,n){if(t.lte(0))return new Ve(0);var r=ly.getDigitCount(t.toNumber()),i=new Ve(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ve(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Ve(Math.ceil(l))}function Afe(t,e,n){var r=1,i=new Ve(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ve(10).pow(ly.getDigitCount(t)-1),i=new Ve(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ve(Math.floor(t)))}else t===0?i=new Ve(Math.floor((e-1)/2)):n||(i=new Ve(Math.floor(t)));var s=Math.floor((e-1)/2),a=pfe(dfe(function(l){return i.add(new Ve(l-s).mul(r)).toNumber()}),xw);return a(0,e)}function dF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var o=hF(new Ve(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ve(0):(s=new Ve(t).add(e).div(2),s=s.sub(new Ve(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ve(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?dF(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Ve(a).mul(o)),tickMax:s.add(new Ve(l).mul(o))})}function Pfe(t){var e=Ef(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=fF([n,r]),l=Ef(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Aw(xw(0,i-1).map(function(){return 1/0}))):[].concat(Aw(xw(0,i-1).map(function(){return-1/0})),[c]);return n>r?Tw(f):f}if(u===c)return Afe(u,i,o);var d=dF(u,c,s,o),p=d.step,m=d.tickMin,g=d.tickMax,y=ly.rangeStep(m,g.add(new Ve(.1).mul(p)),p);return n>r?Tw(y):y}function Cfe(t,e){var n=Ef(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=fF([r,i]),a=Ef(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=hF(new Ve(u).sub(l).div(c-1),o,0),d=[].concat(Aw(ly.rangeStep(new Ve(l),new Ve(u).sub(new Ve(.99).mul(f)),f)),[u]);return r>i?Tw(d):d}var Ofe=uF(Pfe),Ife=uF(Cfe),Rfe="Invariant failed";function $s(t,e){throw new Error(Rfe)}var Nfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dm.apply(this,arguments)}function kfe(t,e){return jfe(t)||$fe(t,e)||Dfe(t,e)||Mfe()}function Mfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dfe(t,e){if(t){if(typeof t=="string")return xI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xI(t,e)}}function xI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $fe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jfe(t){if(Array.isArray(t))return t}function Lfe(t,e){if(t==null)return{};var n=Ffe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ffe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gF(r.key),r)}}function Ufe(t,e,n){return e&&Bfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zfe(t,e,n){return e=pm(e),Wfe(t,pF()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function Wfe(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qfe(t)}function qfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function Hfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cw(t,e)}function mF(t,e,n){return e=gF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=Gfe(t,"string");return yl(e)=="symbol"?e:e+""}function Gfe(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yh=function(t){function e(){return Vfe(this,e),zfe(this,e,arguments)}return Hfe(e,t),Ufe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=Lfe(r,Nfe),p=Ce(d,!1);this.props.direction==="x"&&c.type!=="number"&&$s();var m=l.map(function(g){var y=u(g,a),w=y.x,_=y.y,b=y.value,C=y.errorVal;if(!C)return null;var S=[],A,E;if(Array.isArray(C)){var x=kfe(C,2);A=x[0],E=x[1]}else A=E=C;if(o==="vertical"){var P=c.scale,I=_+i,O=I+s,N=I-s,R=P(b-A),B=P(b+E);S.push({x1:B,y1:O,x2:B,y2:N}),S.push({x1:R,y1:I,x2:B,y2:I}),S.push({x1:R,y1:O,x2:R,y2:N})}else if(o==="horizontal"){var U=f.scale,W=w+i,G=W-s,L=W+s,z=U(b-A),Y=U(b+E);S.push({x1:G,y1:Y,x2:L,y2:Y}),S.push({x1:W,y1:z,x2:W,y2:Y}),S.push({x1:G,y1:z,x2:L,y2:z})}return D.createElement(wt,dm({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),S.map(function(ee){return D.createElement("line",dm({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return D.createElement(wt,{className:"recharts-errorBars"},m)}}])}(D.Component);mF(yh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mF(yh,"displayName","ErrorBar");function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Kfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kfe(t,e,n){return e=Yfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yfe(t){var e=Qfe(t,"string");return Sf(e)=="symbol"?e:e+""}function Qfe(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=qn(n,Fa);if(!s)return null;var a=Fa.defaultProps,l=a!==void 0?Qo(Qo({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:s.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Qo(Qo({},d),f.props):{},m=p.dataKey,g=p.name,y=p.legendType,w=p.hide;return{inactive:w,dataKey:m,type:l.iconType||y||"square",color:PS(f),value:g||m,payload:p}}),Qo(Qo(Qo({},l),Fa.getWithHeight(s,i)),{},{payload:u,item:s})};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function AI(t){return ehe(t)||Zfe(t)||Jfe(t)||Xfe()}function Xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jfe(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function Zfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ehe(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){Ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ba(t,e,n){return e=the(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=nhe(t,"string");return xf(e)=="symbol"?e:e+""}function nhe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qn(t,e,n){return Se(t)||Se(e)?n:Dt(e)?ur(t,e,n):_e(e)?e(t):n}function Tc(t,e,n,r){var i=Zce(t,function(a){return Qn(a,e)});if(n==="number"){var o=i.filter(function(a){return ne(a)||parseFloat(a)});return o.length?[oy(o),iy(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Se(a)}):i;return s.map(function(a){return Dt(a)||a instanceof Date?a:""})}var rhe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,d=u>=a-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Rr(f-c)!==Rr(d-f)){var m=[];if(Rr(d-f)===Rr(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var y=d+l[1]-l[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var _=Math.min(c,d),b=Math.max(c,d);if(e>(_+f)/2&&e<=(b+f)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},PS=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},ihe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,y=m.cateAxisId,w=g.filter(function(E){return _i(E.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,b=_!==void 0?mt(mt({},_),w[0].props):w[0].props,C=b.barSize,S=b[y];s[S]||(s[S]=[]);var A=Se(C)?n:C;s[S].push({item:w[0],stackList:w.slice(1),barSize:Se(A)?void 0:Ms(A,r,0)})}}return s},ohe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Ms(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,p=i/l,m=s.reduce(function(C,S){return C+S.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,y={offset:g-u,size:0};c=s.reduce(function(C,S){var A={item:S.item,position:{offset:y.offset+y.size+u,size:d?p:S.barSize}},E=[].concat(AI(C),[A]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(x){E.push({item:x,position:y})}),E},f)}else{var w=Ms(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var _=(i-2*w-(l-1)*u)/l;_>1&&(_>>=0);var b=a===+a?Math.min(_,a):_;c=s.reduce(function(C,S,A){var E=[].concat(AI(C),[{item:S.item,position:{offset:w+(_+u)*A+(_-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(x){E.push({item:x,position:E[E.length-1].position})}),E},f)}return c},she=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=yF({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ne(e[p]))return mt(mt({},e),{},Ba({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ne(e[m]))return mt(mt({},e),{},Ba({},m,e[m]+(d||0)))}return e},ahe=function(e,n,r){return Se(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},vF=function(e,n,r,i,o){var s=n.props.children,a=cr(s,yh).filter(function(u){return ahe(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Qn(c,r);if(Se(f))return u;var d=Array.isArray(f)?[oy(f),iy(f)]:[f,f],p=l.reduce(function(m,g){var y=Qn(c,g,0),w=d[0]-Math.abs(Array.isArray(y)?y[0]:y),_=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},lhe=function(e,n,r,i,o){var s=n.map(function(a){return vF(e,a,r,o,i)}).filter(function(a){return!Se(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},_F=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&vF(e,l,u,i)||Tc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},wF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},bF=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},mi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Rr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!ch(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},Kv=new WeakMap,dd=function(e,n){if(typeof n!="function")return e;Kv.has(e)||Kv.set(e,new WeakMap);var r=Kv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},uhe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:gf(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:lm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xc(),realScaleType:"point"}:o==="category"?{scale:gf(),realScaleType:"band"}:{scale:lm(),realScaleType:"linear"};if(ks(i)){var l="scale".concat(qg(i));return{scale:(wI[l]||xc)(),realScaleType:wI[l]?l:"point"}}return _e(i)?{scale:i}:{scale:xc(),realScaleType:"point"}},CI=1e-4,che=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-CI,s=Math.max(i[0],i[1])+CI,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},fhe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},hhe=function(e,n){if(!n||n.length!==2||!ne(n[0])||!ne(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ne(e[0])||e[0]<r)&&(o[0]=r),(!ne(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},dhe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=ch(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},phe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=ch(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},mhe={sign:dhe,expand:IJ,none:ul,silhouette:RJ,wiggle:NJ,positive:phe},ghe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=mhe[r],s=OJ().keys(i).value(function(a,l){return+Qn(a,l,0)}).order(ew).offset(o);return s(e)},yhe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?mt(mt({},d.type.defaultProps),d.props):d.props,g=m.stackId,y=m.hide;if(y)return f;var w=m[r],_=f[w]||{hasStack:!1,stackGroups:{}};if(Dt(g)){var b=_.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(d),_.hasStack=!0,_.stackGroups[g]=b}else _.stackGroups[fh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return mt(mt({},f),{},Ba({},w,_))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var w=p.stackGroups[y];return mt(mt({},g),{},Ba({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:ghe(e,w.items,o)}))},m)}return mt(mt({},f),{},Ba({},d,p))},c)},vhe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Ofe(u,o,a);return e.domain([oy(c),iy(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=Ife(f,o,a);return{niceTicks:d}}return null};function OI(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Se(i[e.dataKey])){var a=Fp(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Qn(i,Se(s)?e.dataKey:s);return Se(l)?null:e.scale(l)}var II=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Qn(s,n.dataKey,n.domain[a]);return Se(l)?null:n.scale(l)-o/2+i},_he=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},whe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Dt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},bhe=function(e){return e.reduce(function(n,r){return[oy(r.concat([n[0]]).filter(ne)),iy(r.concat([n[1]]).filter(ne))]},[1/0,-1/0])},EF=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=bhe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},RI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Iw=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ne(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(RI.test(e[0])){var o=+RI.exec(e[0])[1];i[0]=n[0]-o}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ne(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(NI.test(e[1])){var s=+NI.exec(e[1])[1];i[1]=n[1]+s}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},mm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=tS(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},kI=function(e,n,r){return!e||!e.length||sy(e,ur(r,"type.defaultProps.domain"))?n:e},SF=function(e,n){var r=e.type.defaultProps?mt(mt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return mt(mt({},Ce(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:PS(e),value:Qn(n,i),type:l,payload:n,chartType:u,hide:c})};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){Ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e,n){return e=She(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=xhe(t,"string");return Tf(e)=="symbol"?e:e+""}function xhe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gm=Math.PI/180,The=function(e){return e*180/Math.PI},en=function(e,n,r,i){return{x:e+Math.cos(-gm*i)*r,y:n+Math.sin(-gm*i)*r}},Ahe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Phe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Ahe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:The(u),angleInRadian:u}},Che=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Ohe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},$I=function(e,n){var r=e.x,i=e.y,o=Phe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Che(n),f=c.startAngle,d=c.endAngle,p=a,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?DI(DI({},n),{},{radius:s,angle:Ohe(p,n)}):null};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var Ihe=["offset"];function Rhe(t){return Dhe(t)||Mhe(t)||khe(t)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function Mhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dhe(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $he(t,e){if(t==null)return{};var n=jhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){Lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lhe(t,e,n){return e=Fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=Vhe(t,"string");return Af(e)=="symbol"?e:e+""}function Vhe(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}var Bhe=function(e){var n=e.value,r=e.formatter,i=Se(e.children)?n:e.children;return _e(r)?r(i):i},Uhe=function(e,n){var r=Rr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},zhe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,y=(f+d)/2,w=Uhe(p,m),_=w>=0?1:-1,b,C;i==="insideStart"?(b=p+_*s,C=g):i==="insideEnd"?(b=m-_*s,C=!g):i==="end"&&(b=m+_*s,C=g),C=w<=0?C:!C;var S=en(u,c,y,b),A=en(u,c,y,b+(C?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(A.x,",").concat(A.y),x=Se(e.id)?fh("recharts-radial-line-"):e.id;return D.createElement("text",Pf({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",a)}),D.createElement("defs",null,D.createElement("path",{id:x,d:E})),D.createElement("textPath",{xlinkHref:"#".concat(x)},n))},Whe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=en(s,a,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=en(s,a,y,d),_=w.x,b=w.y;return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},qhe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,y=g*i,w=g>0?"end":"start",_=g>0?"start":"end";if(o==="top"){var b={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Rt(Rt({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return Rt(Rt({},C),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:a-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Rt(Rt({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:a+u+y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Rt(Rt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return o==="insideLeft"?Rt({x:a+y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},E):o==="insideRight"?Rt({x:a+u-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},E):o==="insideTop"?Rt({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},E):o==="insideBottom"?Rt({x:a+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},E):o==="insideTopLeft"?Rt({x:a+y,y:l+d,textAnchor:_,verticalAnchor:m},E):o==="insideTopRight"?Rt({x:a+u-y,y:l+d,textAnchor:w,verticalAnchor:m},E):o==="insideBottomLeft"?Rt({x:a+y,y:l+c-d,textAnchor:_,verticalAnchor:p},E):o==="insideBottomRight"?Rt({x:a+u-y,y:l+c-d,textAnchor:w,verticalAnchor:p},E):Ql(o)&&(ne(o.x)||fs(o.x))&&(ne(o.y)||fs(o.y))?Rt({x:a+Ms(o.x,u),y:l+Ms(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):Rt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Hhe=function(e){return"cx"in e&&ne(e.cx)};function pn(t){var e=t.offset,n=e===void 0?5:e,r=$he(t,Ihe),i=Rt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Se(a)&&Se(l)&&!$.isValidElement(u)&&!_e(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var p;if(_e(u)){if(p=$.createElement(u,i),$.isValidElement(p))return p}else p=Bhe(i);var m=Hhe(o),g=Ce(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return zhe(i,p,g);var y=m?Whe(i):qhe(i);return D.createElement(tm,Pf({className:ke("recharts-label",f)},g,y,{breakAll:d}),p)}pn.displayName="Label";var xF=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,y=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(ne(g)&&ne(y)){if(ne(f)&&ne(d))return{x:f,y:d,width:g,height:y};if(ne(p)&&ne(m))return{x:p,y:m,width:g,height:y}}return ne(f)&&ne(d)?{x:f,y:d,width:0,height:0}:ne(n)&&ne(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},Ghe=function(e,n){return e?e===!0?D.createElement(pn,{key:"label-implicit",viewBox:n}):Dt(e)?D.createElement(pn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===pn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):_e(e)?D.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):Ql(e)?D.createElement(pn,Pf({viewBox:n},e,{key:"label-implicit"})):null:null},Khe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=xF(e),s=cr(i,pn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Ghe(e.label,n||o);return[a].concat(Rhe(s))};pn.parseViewBox=xF;pn.renderCallByParent=Khe;function Yhe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Qhe=Yhe;const Xhe=We(Qhe);function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}var Jhe=["valueAccessor"],Zhe=["data","dataKey","clockWise","id","textBreakAll"];function ede(t){return ide(t)||rde(t)||nde(t)||tde()}function tde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function rde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ide(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e,n){return e=sde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ade(t,"string");return Cf(e)=="symbol"?e:e+""}function ade(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VI(t,e){if(t==null)return{};var n=lde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ude=function(e){return Array.isArray(e.value)?Xhe(e.value):e.value};function So(t){var e=t.valueAccessor,n=e===void 0?ude:e,r=VI(t,Jhe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=VI(r,Zhe);return!i||!i.length?null:D.createElement(wt,{className:"recharts-label-list"},i.map(function(c,f){var d=Se(o)?n(c,f):Qn(c&&c.payload,o),p=Se(a)?{}:{id:"".concat(a,"-").concat(f)};return D.createElement(pn,ym({},Ce(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:pn.parseViewBox(Se(s)?c:FI(FI({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}So.displayName="LabelList";function cde(t,e){return t?t===!0?D.createElement(So,{key:"labelList-implicit",data:e}):D.isValidElement(t)||_e(t)?D.createElement(So,{key:"labelList-implicit",data:e,content:t}):Ql(t)?D.createElement(So,ym({data:e},t,{key:"labelList-implicit"})):null:null}function fde(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=cr(r,So).map(function(s,a){return $.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=cde(t.label,e);return[o].concat(ede(i))}So.renderCallByParent=fde;function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e,n){return e=dde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dde(t){var e=pde(t,"string");return Of(e)=="symbol"?e:e+""}function pde(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mde=function(e,n){var r=Rr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},pd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/gm,d=u?o:o+s*f,p=en(n,r,c,d),m=en(n,r,i,d),g=u?o-s*f:o,y=en(n,r,c*Math.cos(f*gm),g);return{center:p,circleTangency:m,lineTangency:y,theta:f}},TF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=mde(s,a),u=s+l,c=en(n,r,o,s),f=en(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=en(n,r,i,s),m=en(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},gde=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Rr(c-u),d=pd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,y=pd({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),w=y.circleTangency,_=y.lineTangency,b=y.theta,C=l?Math.abs(u-c):Math.abs(u-c)-g-b;if(C<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):TF({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var A=pd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=A.circleTangency,x=A.lineTangency,P=A.theta,I=pd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=I.circleTangency,N=I.lineTangency,R=I.theta,B=l?Math.abs(u-c):Math.abs(u-c)-P-R;if(B<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},yde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AF=function(e){var n=UI(UI({},yde),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(s<o||c===f)return null;var p=ke("recharts-sector",d),m=s-o,g=Ms(a,m,0,!0),y;return g>0&&Math.abs(c-f)<360?y=gde({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):y=TF({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),D.createElement("path",kw({},Ce(n,!0),{className:p,d:y,role:"img"}))};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(this,arguments)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vde(t,e,n){return e=_de(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _de(t){var e=wde(t,"string");return If(e)=="symbol"?e:e+""}function wde(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qI={curveBasisClosed:vJ,curveBasisOpen:_J,curveBasis:yJ,curveBumpX:rJ,curveBumpY:iJ,curveLinearClosed:wJ,curveLinear:Gg,curveMonotoneX:bJ,curveMonotoneY:EJ,curveNatural:SJ,curveStep:xJ,curveStepAfter:AJ,curveStepBefore:TJ},md=function(e){return e.x===+e.x&&e.y===+e.y},zu=function(e){return e.x},Wu=function(e){return e.y},bde=function(e,n){if(_e(e))return e;var r="curve".concat(qg(e));return(r==="curveMonotone"||r==="curveBump")&&n?qI["".concat(r).concat(n==="vertical"?"Y":"X")]:qI[r]||Gg},Ede=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=bde(r,a),f=u?o.filter(function(g){return md(g)}):o,d;if(Array.isArray(s)){var p=u?s.filter(function(g){return md(g)}):s,m=f.map(function(g,y){return WI(WI({},g),{},{base:p[y]})});return a==="vertical"?d=od().y(Wu).x1(zu).x0(function(g){return g.base.x}):d=od().x(zu).y1(Wu).y0(function(g){return g.base.y}),d.defined(md).curve(c),d(m)}return a==="vertical"&&ne(s)?d=od().y(Wu).x1(zu).x0(s):ne(s)?d=od().x(zu).y1(Wu).y0(s):d=Tj().x(zu).y(Wu),d.defined(md).curve(c),d(f)},Dw=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Ede(e):i;return $.createElement("path",Mw({},Ce(e,!1),Vp(e),{className:ke("recharts-curve",n),d:s,ref:o}))},PF={exports:{}},Sde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xde=Sde,Tde=xde;function CF(){}function OF(){}OF.resetWarningCache=CF;var Ade=function(){function t(r,i,o,s,a,l){if(l!==Tde){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OF,resetWarningCache:CF};return n.PropTypes=n,n};PF.exports=Ade();var Pde=PF.exports;const je=We(Pde);var Cde=Object.getOwnPropertyNames,Ode=Object.getOwnPropertySymbols,Ide=Object.prototype.hasOwnProperty;function HI(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function gd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Rde(t){return t!=null?t[Symbol.toStringTag]:void 0}function GI(t){return Cde(t).concat(Ode(t))}var Nde=Object.hasOwn||function(t,e){return Ide.call(t,e)};function qs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var kde="__v",Mde="__o",Dde="_owner",KI=Object.getOwnPropertyDescriptor,YI=Object.keys;function $de(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function jde(t,e){return qs(t.getTime(),e.getTime())}function Lde(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Fde(t,e){return t===e}function QI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),c=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var d=s.value,p=a.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Vde=qs;function Bde(t,e,n){var r=YI(t),i=r.length;if(YI(e).length!==i)return!1;for(;i-- >0;)if(!IF(t,e,n,r[i]))return!1;return!0}function qu(t,e,n){var r=GI(t),i=r.length;if(GI(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!IF(t,e,n,o)||(s=KI(t,o),a=KI(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Ude(t,e){return qs(t.valueOf(),e.valueOf())}function zde(t,e){return t.source===e.source&&t.flags===e.flags}function XI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Wde(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function qde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function IF(t,e,n,r){return(r===Dde||r===Mde||r===kde)&&(t.$$typeof||e.$$typeof)?!0:Nde(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Hde="[object Arguments]",Gde="[object Boolean]",Kde="[object Date]",Yde="[object Error]",Qde="[object Map]",Xde="[object Number]",Jde="[object Object]",Zde="[object RegExp]",epe="[object Set]",tpe="[object String]",npe="[object URL]",rpe=Array.isArray,JI=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,ZI=Object.assign,ipe=Object.prototype.toString.call.bind(Object.prototype.toString);function ope(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual,p=t.unknownTagComparators;return function(g,y,w){if(g===y)return!0;if(g==null||y==null)return!1;var _=typeof g;if(_!==typeof y)return!1;if(_!=="object")return _==="number"?s(g,y,w):_==="function"?i(g,y,w):!1;var b=g.constructor;if(b!==y.constructor)return!1;if(b===Object)return a(g,y,w);if(rpe(g))return e(g,y,w);if(JI!=null&&JI(g))return f(g,y,w);if(b===Date)return n(g,y,w);if(b===RegExp)return u(g,y,w);if(b===Map)return o(g,y,w);if(b===Set)return c(g,y,w);var C=ipe(g);if(C===Kde)return n(g,y,w);if(C===Zde)return u(g,y,w);if(C===Qde)return o(g,y,w);if(C===epe)return c(g,y,w);if(C===Jde)return typeof g.then!="function"&&typeof y.then!="function"&&a(g,y,w);if(C===npe)return d(g,y,w);if(C===Yde)return r(g,y,w);if(C===Hde)return a(g,y,w);if(C===Gde||C===Xde||C===tpe)return l(g,y,w);if(p){var S=p[C];if(!S){var A=Rde(g);A&&(S=p[A])}if(S)return S(g,y,w)}return!1}}function spe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?qu:$de,areDatesEqual:jde,areErrorsEqual:Lde,areFunctionsEqual:Fde,areMapsEqual:r?HI(QI,qu):QI,areNumbersEqual:Vde,areObjectsEqual:r?qu:Bde,arePrimitiveWrappersEqual:Ude,areRegExpsEqual:zde,areSetsEqual:r?HI(XI,qu):XI,areTypedArraysEqual:r?qu:Wde,areUrlsEqual:qde,unknownTagComparators:void 0};if(n&&(i=ZI({},i,n(i))),e){var o=gd(i.areArraysEqual),s=gd(i.areMapsEqual),a=gd(i.areObjectsEqual),l=gd(i.areSetsEqual);i=ZI({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function ape(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function lpe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var upe=Wo();Wo({strict:!0});Wo({circular:!0});Wo({circular:!0,strict:!0});Wo({createInternalComparator:function(){return qs}});Wo({strict:!0,createInternalComparator:function(){return qs}});Wo({circular:!0,createInternalComparator:function(){return qs}});Wo({circular:!0,createInternalComparator:function(){return qs},strict:!0});function Wo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=spe(t),l=ope(a),u=r?r(l):ape(l);return lpe({circular:n,comparator:l,createState:i,equals:u,strict:s})}function cpe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function eR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):cpe(i)};requestAnimationFrame(r)}function $w(t){"@babel/helpers - typeof";return $w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$w(t)}function fpe(t){return mpe(t)||ppe(t)||dpe(t)||hpe()}function hpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpe(t,e){if(t){if(typeof t=="string")return tR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tR(t,e)}}function tR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ppe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mpe(t){if(Array.isArray(t))return t}function gpe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=fpe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){eR(i.bind(null,u),l);return}i(l),eR(i.bind(null,u));return}$w(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){RF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RF(t,e,n){return e=ype(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ype(t){var e=vpe(t,"string");return Rf(e)==="symbol"?e:String(e)}function vpe(t,e){if(Rf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _pe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},wpe=function(e){return e},bpe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ac=function(e,n){return Object.keys(n).reduce(function(r,i){return rR(rR({},r),{},RF({},i,e(i,n[i])))},{})},iR=function(e,n,r){return e.map(function(i){return"".concat(bpe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Epe(t,e){return Tpe(t)||xpe(t,e)||NF(t,e)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Tpe(t){if(Array.isArray(t))return t}function Ape(t){return Ope(t)||Cpe(t)||NF(t)||Ppe()}function Ppe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NF(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function Cpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ope(t){if(Array.isArray(t))return jw(t)}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vm=1e-4,kF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},MF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},oR=function(e,n){return function(r){var i=kF(e,n);return MF(i,r)}},Ipe=function(e,n){return function(r){var i=kF(e,n),o=[].concat(Ape(i.map(function(s,a){return s*a}).slice(1)),[0]);return MF(o,r)}},sR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=Epe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=oR(i,s),d=oR(o,a),p=Ipe(i,s),m=function(w){return w>1?1:w<0?0:w},g=function(w){for(var _=w>1?1:w,b=_,C=0;C<8;++C){var S=f(b)-_,A=p(b);if(Math.abs(S-_)<vm||A<vm)return d(b);b=m(b-S/A)}return d(b)};return g.isStepper=!1,g},Rpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,d){var p=-(c-f)*r,m=d*o,g=d+(p-m)*a/1e3,y=d*a/1e3+c;return Math.abs(y-f)<vm&&Math.abs(g)<vm?[f,0]:[y,g]};return l.isStepper=!0,l.dt=a,l},Npe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sR(i);case"spring":return Rpe();default:if(i.split("(")[0]==="cubic-bezier")return sR(i)}return typeof i=="function"?i:null};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function aR(t){return Dpe(t)||Mpe(t)||DF(t)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dpe(t){if(Array.isArray(t))return Fw(t)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){Lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lw(t,e,n){return e=$pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $pe(t){var e=jpe(t,"string");return Nf(e)==="symbol"?e:String(e)}function jpe(t,e){if(Nf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lpe(t,e){return Bpe(t)||Vpe(t,e)||DF(t,e)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DF(t,e){if(t){if(typeof t=="string")return Fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(t,e)}}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Bpe(t){if(Array.isArray(t))return t}var _m=function(e,n,r){return e+(n-e)*r},Vw=function(e){var n=e.from,r=e.to;return n!==r},Upe=function t(e,n,r){var i=Ac(function(o,s){if(Vw(s)){var a=e(s.from,s.to,s.velocity),l=Lpe(a,2),u=l[0],c=l[1];return Xt(Xt({},s),{},{from:u,velocity:c})}return s},n);return r<1?Ac(function(o,s){return Vw(s)?Xt(Xt({},s),{},{velocity:_m(s.velocity,i[o].velocity,r),from:_m(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const zpe=function(t,e,n,r,i){var o=_pe(t,e),s=o.reduce(function(y,w){return Xt(Xt({},y),{},Lw({},w,[t[w],e[w]]))},{}),a=o.reduce(function(y,w){return Xt(Xt({},y),{},Lw({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Ac(function(w,_){return _.from},a)},p=function(){return!Object.values(a).filter(Vw).length},m=function(w){u||(u=w);var _=w-u,b=_/n.dt;a=Upe(n,a,b),i(Xt(Xt(Xt({},t),e),d())),u=w,p()||(l=requestAnimationFrame(f))},g=function(w){c||(c=w);var _=(w-c)/r,b=Ac(function(S,A){return _m.apply(void 0,aR(A).concat([n(_)]))},s);if(i(Xt(Xt(Xt({},t),e),b)),_<1)l=requestAnimationFrame(f);else{var C=Ac(function(S,A){return _m.apply(void 0,aR(A).concat([n(1)]))},s);i(Xt(Xt(Xt({},t),e),C))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}var Wpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qpe(t,e){if(t==null)return{};var n=Hpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yv(t){return Qpe(t)||Ype(t)||Kpe(t)||Gpe()}function Gpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kpe(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function Ype(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qpe(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){rc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rc(t,e,n){return e=$F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$F(r.key),r)}}function Zpe(t,e,n){return e&&Jpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $F(t){var e=eme(t,"string");return vl(e)==="symbol"?e:String(e)}function eme(t,e){if(vl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function nme(t){var e=rme();return function(){var r=wm(t),i;if(e){var o=wm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zw(this,i)}}function zw(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ww(t)}function Ww(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}var ki=function(t){tme(n,t);var e=nme(n);function n(r,i){var o;Xpe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,d=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Ww(o)),o.changeStyle=o.changeStyle.bind(Ww(o)),!a||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),zw(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},zw(o);o.state={style:l?rc({},l,u):u}}else o.state={style:{}};return o}return Zpe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(a){if(!s){var p={style:l?rc({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(upe(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var y={style:l?rc({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(y)}this.runAnimation(vr(vr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=zpe(s,a,Npe(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,y,w){if(w===0)return g;var _=y.duration,b=y.easing,C=b===void 0?"ease":b,S=y.style,A=y.properties,E=y.onAnimationEnd,x=w>0?s[w-1]:y,P=A||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(Yv(g),[o.runJSAnimation.bind(o,{from:x.style,to:S,duration:_,easing:C}),_]);var I=iR(P,_,C),O=vr(vr(vr({},x.style),S),{},{transition:I});return[].concat(Yv(g),[O,_,E]).filter(wpe)};return this.manager.start([l].concat(Yv(s.reduce(p,[c,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gpe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=a?rc({},a,l):l,y=iR(Object.keys(g),s,u);m.start([c,o,vr(vr({},g),{},{transition:y}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=qpe(i,Wpe),u=$.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,w=m.className,_=$.cloneElement(p,vr(vr({},l),{},{style:vr(vr({},y),c),className:w}));return _};return u===1?f($.Children.only(o)):D.createElement("div",null,$.Children.map(o,function(d){return f(d)}))}}]),n}($.PureComponent);ki.displayName="Animate";ki.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ki.propTypes={from:je.oneOfType([je.object,je.string]),to:je.oneOfType([je.object,je.string]),attributeName:je.string,duration:je.number,begin:je.number,easing:je.oneOfType([je.string,je.func]),steps:je.arrayOf(je.shape({duration:je.number.isRequired,style:je.object.isRequired,easing:je.oneOfType([je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),je.func]),properties:je.arrayOf("string"),onAnimationEnd:je.func})),children:je.oneOfType([je.node,je.func]),isActive:je.bool,canBegin:je.bool,onAnimationEnd:je.func,shouldReAnimate:je.bool,onAnimationStart:je.func,onAnimationReStart:je.func};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function ime(t,e){return lme(t)||ame(t,e)||sme(t,e)||ome()}function ome(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sme(t,e){if(t){if(typeof t=="string")return cR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cR(t,e)}}function cR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ame(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function lme(t){if(Array.isArray(t))return t}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e,n){return e=cme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=fme(t,"string");return kf(e)=="symbol"?e:e+""}function fme(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dR=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>s?s:o[d];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);c="M ".concat(e,",").concat(n+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*m,`
            L `).concat(e+r,",").concat(n+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},hme=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},dme={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CS=function(e){var n=hR(hR({},dme),e),r=$.useRef(),i=$.useState(-1),o=ime(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var b=ke("recharts-rectangle",p);return _?D.createElement(ki,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:_},function(C){var S=C.width,A=C.height,E=C.x,x=C.y;return D.createElement(ki,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:w,easing:m},D.createElement("path",bm({},Ce(n,!0),{className:b,d:dR(E,x,S,A,d),ref:r})))}):D.createElement("path",bm({},Ce(n,!0),{className:b,d:dR(l,u,c,f,d)}))};function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}var OS=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=ke("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",qw({},Ce(e,!1),Vp(e),{className:s,cx:n,cy:r,r:i})):null};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var pme=["x","y","top","left","width","height","className"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e,n){return e=yme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yme(t){var e=vme(t,"string");return Mf(e)=="symbol"?e:e+""}function vme(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _me(t,e){if(t==null)return{};var n=wme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bme=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Eme=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,m=e.className,g=_me(e,pme),y=mme({x:r,y:o,top:a,left:u,width:f,height:p},g);return!ne(r)||!ne(o)||!ne(f)||!ne(p)||!ne(a)||!ne(u)?null:D.createElement("path",Hw({},Ce(y,!0),{className:ke("recharts-cross",m),d:bme(r,o,f,p,a,u)}))},Sme=Yj,xme=Sme(Object.getPrototypeOf,Object),Tme=xme,Ame=ji,Pme=Tme,Cme=Li,Ome="[object Object]",Ime=Function.prototype,Rme=Object.prototype,jF=Ime.toString,Nme=Rme.hasOwnProperty,kme=jF.call(Object);function Mme(t){if(!Cme(t)||Ame(t)!=Ome)return!1;var e=Pme(t);if(e===null)return!0;var n=Nme.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&jF.call(n)==kme}var Dme=Mme;const $me=We(Dme);var jme=ji,Lme=Li,Fme="[object Boolean]";function Vme(t){return t===!0||t===!1||Lme(t)&&jme(t)==Fme}var Bme=Vme;const Ume=We(Bme);function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(this,arguments)}function zme(t,e){return Gme(t)||Hme(t,e)||qme(t,e)||Wme()}function Wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qme(t,e){if(t){if(typeof t=="string")return mR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mR(t,e)}}function mR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Gme(t){if(Array.isArray(t))return t}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kme(t,e,n){return e=Yme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Qme(t,"string");return Df(e)=="symbol"?e:e+""}function Qme(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vR=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Xme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jme=function(e){var n=yR(yR({},Xme),e),r=$.useRef(),i=$.useState(-1),o=zme(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var _=ke("recharts-trapezoid",p);return w?D.createElement(ki,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:w},function(b){var C=b.upperWidth,S=b.lowerWidth,A=b.height,E=b.x,x=b.y;return D.createElement(ki,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},D.createElement("path",Em({},Ce(n,!0),{className:_,d:vR(E,x,C,S,A),ref:r})))}):D.createElement("g",null,D.createElement("path",Em({},Ce(n,!0),{className:_,d:vR(l,u,c,f,d)})))},Zme=["option","shapeType","propTransformer","activeClassName","isActive"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function ege(t,e){if(t==null)return{};var n=tge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nge(t,e,n){return e=rge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rge(t){var e=ige(t,"string");return $f(e)=="symbol"?e:e+""}function ige(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oge(t,e){return Sm(Sm({},e),t)}function sge(t,e){return t==="symbols"}function wR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(CS,n);case"trapezoid":return D.createElement(Jme,n);case"sector":return D.createElement(AF,n);case"symbols":if(sge(e))return D.createElement(G1,n);break;default:return null}}function age(t){return $.isValidElement(t)?t.props:t}function lge(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?oge:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=ege(t,Zme),u;if($.isValidElement(e))u=$.cloneElement(e,Sm(Sm({},l),age(e)));else if(_e(e))u=e(l);else if($me(e)&&!Ume(e)){var c=i(e,l);u=D.createElement(wR,{shapeType:n,elementProps:c})}else{var f=l;u=D.createElement(wR,{shapeType:n,elementProps:f})}return a?D.createElement(wt,{className:s},u):u}function uy(t,e){return e!=null&&"trapezoids"in t.props}function cy(t,e){return e!=null&&"sectors"in t.props}function jf(t,e){return e!=null&&"points"in t.props}function uge(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function cge(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function fge(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function hge(t,e){var n;return uy(t,e)?n=uge:cy(t,e)?n=cge:jf(t,e)&&(n=fge),n}function dge(t,e){var n;return uy(t,e)?n="trapezoids":cy(t,e)?n="sectors":jf(t,e)&&(n="points"),n}function pge(t,e){if(uy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(cy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return jf(t,e)?e.payload:{}}function mge(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=dge(n,e),o=pge(n,e),s=r.filter(function(l,u){var c=sy(o,l),f=n.props[i].filter(function(m){var g=hge(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),a=r.indexOf(s[s.length-1]);return a}var gge=Math.ceil,yge=Math.max;function vge(t,e,n,r){for(var i=-1,o=yge(gge((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var _ge=vge,wge=pL,bR=1/0,bge=17976931348623157e292;function Ege(t){if(!t)return t===0?t:0;if(t=wge(t),t===bR||t===-bR){var e=t<0?-1:1;return e*bge}return t===t?t:0}var LF=Ege,Sge=_ge,xge=Xg,Qv=LF;function Tge(t){return function(e,n,r){return r&&typeof r!="number"&&xge(e,n,r)&&(n=r=void 0),e=Qv(e),n===void 0?(n=e,e=0):n=Qv(n),r=r===void 0?e<n?1:-1:Qv(r),Sge(e,n,r,t)}}var Age=Tge,Pge=Age,Cge=Pge(),Oge=Cge;const xm=We(Oge);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){FF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FF(t,e,n){return e=Ige(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ige(t){var e=Rge(t,"string");return Lf(e)=="symbol"?e:e+""}function Rge(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nge=["Webkit","Moz","O","ms"],kge=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Nge.reduce(function(o,s){return SR(SR({},o),{},FF({},s+r,n))},{});return i[e]=n,i};function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(this,arguments)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){zn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BF(r.key),r)}}function Dge(t,e,n){return e&&TR(t.prototype,e),n&&TR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ge(t,e,n){return e=Am(e),jge(t,VF()?Reflect.construct(e,n||[],Am(t).constructor):e.apply(t,n))}function jge(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lge(t)}function Lge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VF=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Am(t)}function Fge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function zn(t,e,n){return e=BF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BF(t){var e=Vge(t,"string");return _l(e)=="symbol"?e:e+""}function Vge(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bge=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=xc().domain(xm(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},AR=function(e){return e.changedTouches&&!!e.changedTouches.length},wl=function(t){function e(n){var r;return Mge(this,e),r=$ge(this,e,[n]),zn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),zn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),zn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),zn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),zn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),zn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),zn(r,"handleSlideDragStart",function(i){var o=AR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Fge(e,t),Dge(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Qn(o[r],a,r);return _e(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-f-a,u+c-f-s):g<0&&(g=Math.max(g,u-s,u-a));var y=this.getIndex({startX:s+g,endX:a+g});(y.startIndex!==d||y.endIndex!==p)&&m&&m(y),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=AR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,y=c.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+d-p-u):_<0&&(_=Math.max(_,f-u)),w[s]=u+_;var b=this.getIndex(w),C=b.startIndex,S=b.endIndex,A=function(){var x=y.length-1;return s==="startX"&&(a>l?C%g===0:S%g===0)||a<l&&S===x||s==="endX"&&(a>l?S%g===0:C%g===0)||a>l&&S===x};this.setState(zn(zn({},s,u+_),"brushMoveStartX",r.pageX),function(){m&&A()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=a.length)){var p=a[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(zn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=$.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),_=Xv(Xv({},Ce(this.props,!1)),{},{x:w,y:u,width:c,height:f}),b=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=m[y])===null||s===void 0?void 0:s.name);return D.createElement(wt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return D.createElement(wt,{className:"recharts-brush-texts"},D.createElement(tm,Tm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:s+a/2},m),this.getTextOfTick(i)),D.createElement(tm,Tm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:s+a/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,y=d.isSlideMoving,w=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!ne(a)||!ne(l)||!ne(u)||!ne(c)||u<=0||c<=0)return null;var b=ke("recharts-brush",o),C=D.Children.count(s)===1,S=kge("userSelect","none");return D.createElement(wt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||w||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):_e(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Xv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Bge({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}($.PureComponent);zn(wl,"displayName","Brush");zn(wl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Uge=eS;function zge(t,e){var n;return Uge(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Wge=zge,qge=Bj,Hge=Bo,Gge=Wge,Kge=Fn,Yge=Xg;function Qge(t,e,n){var r=Kge(t)?qge:Gge;return n&&Yge(t,e,n)&&(e=void 0),r(t,Hge(e))}var Xge=Qge;const Jge=We(Xge);var ei=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},PR=uL;function Zge(t,e,n){e=="__proto__"&&PR?PR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var eye=Zge,tye=eye,nye=aL,rye=Bo;function iye(t,e){var n={};return e=rye(e),nye(t,function(r,i,o){tye(n,i,e(r,i,o))}),n}var oye=iye;const sye=We(oye);function aye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var lye=aye,uye=eS;function cye(t,e){var n=!0;return uye(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var fye=cye,hye=lye,dye=fye,pye=Bo,mye=Fn,gye=Xg;function yye(t,e,n){var r=mye(t)?hye:dye;return n&&gye(t,e,n)&&(e=void 0),r(t,pye(e))}var vye=yye;const UF=We(vye);var _ye=["x","y"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){wye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wye(t,e,n){return e=bye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bye(t){var e=Eye(t,"string");return Ff(e)=="symbol"?e:e+""}function Eye(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sye(t,e){if(t==null)return{};var n=xye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tye(t,e){var n=t.x,r=t.y,i=Sye(t,_ye),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Hu(Hu(Hu(Hu(Hu({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function OR(t){return D.createElement(lge,Kw({shapeType:"rectangle",propTransformer:Tye,activeClassName:"recharts-active-bar"},t))}var Aye=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ne(r)||UQ(r);return o?e(r,i):(o||$s(),n)}},Pye=["value","background"],zF;function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function Cye(t,e){if(t==null)return{};var n=Oye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){oo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qF(r.key),r)}}function Rye(t,e,n){return e&&RR(t.prototype,e),n&&RR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nye(t,e,n){return e=Cm(e),kye(t,WF()?Reflect.construct(e,n||[],Cm(t).constructor):e.apply(t,n))}function kye(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mye(t)}function Mye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cm(t)}function Dye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function oo(t,e,n){return e=qF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qF(t){var e=$ye(t,"string");return bl(e)=="symbol"?e:e+""}function $ye(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vh=function(t){function e(){var n;Iye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Nye(this,e,[].concat(i)),oo(n,"state",{isAnimationFinished:!1}),oo(n,"id",fh("recharts-bar-")),oo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),oo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Dye(e,t),Rye(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Ce(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:s,g=xt(xt(xt({},c),f),{},{isActive:p,option:m,index:d,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(wt,Pm({className:"recharts-bar-rectangle"},Bp(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),D.createElement(OR,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return D.createElement(ki,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(y,w){var _=d&&d[w];if(_){var b=Ar(_.x,y.x),C=Ar(_.y,y.y),S=Ar(_.width,y.width),A=Ar(_.height,y.height);return xt(xt({},y),{},{x:b(m),y:C(m),width:S(m),height:A(m)})}if(s==="horizontal"){var E=Ar(0,y.height),x=E(m);return xt(xt({},y),{},{y:y.y+y.height-x,height:x})}var P=Ar(0,y.width),I=P(m);return xt(xt({},y),{},{width:I})});return D.createElement(wt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!sy(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Ce(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=Cye(u,Pye);if(!f)return null;var p=xt(xt(xt(xt(xt({},d),{},{fill:"#eee"},f),l),Bp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(OR,Pm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=cr(c,yh);if(!f)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,p=function(y,w){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Qn(y,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(wt,m,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=ke("recharts-bar",s),_=a&&a.allowDataOverflow,b=l&&l.allowDataOverflow,C=_||b,S=Se(g)?this.id:g;return D.createElement(wt,{className:w},_||b?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:_?u:u-f/2,y:b?c:c-d/2,width:_?f:f*2,height:b?d:d*2}))):null,D.createElement(wt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!p||y)&&So.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);zF=vh;oo(vh,"displayName","Bar");oo(vh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ru.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oo(vh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=fhe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,y=g!==void 0?xt(xt({},g),n.props):n.props,w=y.dataKey,_=y.children,b=y.minPointSize,C=m==="horizontal"?s:o,S=u?C.scale.domain():null,A=_he({numericAxis:C}),E=cr(_,yL),x=f.map(function(P,I){var O,N,R,B,U,W;u?O=hhe(u[c+I],S):(O=Qn(P,w),Array.isArray(O)||(O=[A,O]));var G=Aye(b,zF.defaultProps.minPointSize)(O[1],I);if(m==="horizontal"){var L,z=[s.scale(O[0]),s.scale(O[1])],Y=z[0],ee=z[1];N=II({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:P,index:I}),R=(L=ee??Y)!==null&&L!==void 0?L:void 0,B=p.size;var Q=Y-ee;if(U=Number.isNaN(Q)?0:Q,W={x:N,y:s.y,width:B,height:s.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var le=Rr(U||G)*(Math.abs(G)-Math.abs(U));R-=le,U+=le}}else{var pe=[o.scale(O[0]),o.scale(O[1])],De=pe[0],Ye=pe[1];if(N=De,R=II({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:P,index:I}),B=Ye-De,U=p.size,W={x:o.x,y:R,width:o.width,height:U},Math.abs(G)>0&&Math.abs(B)<Math.abs(G)){var on=Rr(B||G)*(Math.abs(G)-Math.abs(B));B+=on}}return xt(xt(xt({},P),{},{x:N,y:R,width:B,height:U,value:u?O:O[1],payload:P,background:W},E&&E[I]&&E[I].props),{},{tooltipPayload:[SF(n,P)],tooltipPosition:{x:N+B/2,y:R+U/2}})});return xt({data:x,layout:m},d)});function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HF(r.key),r)}}function Lye(t,e,n){return e&&NR(t.prototype,e),n&&NR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fy(t,e,n){return e=HF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HF(t){var e=Fye(t,"string");return Vf(e)=="symbol"?e:e+""}function Fye(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vye=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},d=!!qn(u,vh);return c.reduce(function(p,m){var g=n[m],y=g.orientation,w=g.domain,_=g.padding,b=_===void 0?{}:_,C=g.mirror,S=g.reversed,A="".concat(y).concat(C?"Mirror":""),E,x,P,I,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=w[1]-w[0],R=1/0,B=g.categoricalDomain.sort(qQ);if(B.forEach(function(pe,De){De>0&&(R=Math.min((pe||0)-(B[De-1]||0),R))}),Number.isFinite(R)){var U=R/N,W=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(E=U*W/2),g.padding==="no-gap"){var G=Ms(e.barCategoryGap,U*W),L=U*W/2;E=L-G-(L-G)/W*G}}}i==="xAxis"?x=[r.left+(b.left||0)+(E||0),r.left+r.width-(b.right||0)-(E||0)]:i==="yAxis"?x=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(E||0),r.top+r.height-(b.bottom||0)-(E||0)]:x=g.range,S&&(x=[x[1],x[0]]);var z=uhe(g,o,d),Y=z.scale,ee=z.realScaleType;Y.domain(w).range(x),che(Y);var Q=vhe(Y,Er(Er({},g),{},{realScaleType:ee}));i==="xAxis"?(O=y==="top"&&!C||y==="bottom"&&C,P=r.left,I=f[A]-O*g.height):i==="yAxis"&&(O=y==="left"&&!C||y==="right"&&C,P=f[A]-O*g.width,I=r.top);var le=Er(Er(Er({},g),Q),{},{realScaleType:ee,x:P,y:I,scale:Y,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return le.bandSize=mm(le,Q),!g.hide&&i==="xAxis"?f[A]+=(O?-1:1)*le.height:g.hide||(f[A]+=(O?-1:1)*le.width),Er(Er({},p),{},fy({},m,le))},{})},GF=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Bye=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return GF({x:n,y:r},{x:i,y:o})},KF=function(){function t(e){jye(this,t),this.scale=e}return Lye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();fy(KF,"EPS",1e-4);var IS=function(e){var n=Object.keys(e).reduce(function(r,i){return Er(Er({},r),{},fy({},i,KF.create(e[i])))},{});return Er(Er({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return sye(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return UF(i,function(o,s){return n[s].isInRange(o)})}})};function Uye(t){return(t%180+180)%180}var zye=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Uye(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Wye=Bo,qye=hh,Hye=Yg;function Gye(t){return function(e,n,r){var i=Object(e);if(!qye(e)){var o=Wye(n);e=Hye(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Kye=Gye,Yye=LF;function Qye(t){var e=Yye(t),n=e%1;return e===e?n?e-n:e:0}var Xye=Qye,Jye=tL,Zye=Bo,eve=Xye,tve=Math.max;function nve(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:eve(n);return i<0&&(i=tve(r+i,0)),Jye(t,Zye(e),i)}var rve=nve,ive=Kye,ove=rve,sve=ive(ove),ave=sve;const lve=We(ave);var uve=KY(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),RS=$.createContext(void 0),NS=$.createContext(void 0),YF=$.createContext(void 0),QF=$.createContext({}),XF=$.createContext(void 0),JF=$.createContext(0),ZF=$.createContext(0),MR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=uve(o);return D.createElement(RS.Provider,{value:r},D.createElement(NS.Provider,{value:i},D.createElement(QF.Provider,{value:o},D.createElement(YF.Provider,{value:c},D.createElement(XF.Provider,{value:s},D.createElement(JF.Provider,{value:u},D.createElement(ZF.Provider,{value:l},a)))))))},cve=function(){return $.useContext(XF)},e4=function(e){var n=$.useContext(RS);n==null&&$s();var r=n[e];return r==null&&$s(),r},fve=function(){var e=$.useContext(RS);return Zi(e)},hve=function(){var e=$.useContext(NS),n=lve(e,function(r){return UF(r.domain,Number.isFinite)});return n||Zi(e)},t4=function(e){var n=$.useContext(NS);n==null&&$s();var r=n[e];return r==null&&$s(),r},dve=function(){var e=$.useContext(YF);return e},pve=function(){return $.useContext(QF)},kS=function(){return $.useContext(ZF)},MS=function(){return $.useContext(JF)};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r4(r.key),r)}}function yve(t,e,n){return e&&gve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vve(t,e,n){return e=Om(e),_ve(t,n4()?Reflect.construct(e,n||[],Om(t).constructor):e.apply(t,n))}function _ve(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wve(t)}function wve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n4=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Om(t)}function bve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){DS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DS(t,e,n){return e=r4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r4(t){var e=Eve(t,"string");return El(e)=="symbol"?e:e+""}function Eve(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sve(t,e){return Pve(t)||Ave(t,e)||Tve(t,e)||xve()}function xve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tve(t,e){if(t){if(typeof t=="string")return jR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jR(t,e)}}function jR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ave(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Pve(t){if(Array.isArray(t))return t}function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(this,arguments)}var Cve=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):_e(e)?r=e(n):r=D.createElement("line",Xw({},n,{className:"recharts-reference-line-line"})),r},Ove=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:s});if(ei(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?y.reverse():y}if(n){var w=u.x,_=e.x.apply(w,{position:s});if(ei(u,"discard")&&!e.x.isInRange(_))return null;var b=[{x:_,y:f+p},{x:_,y:f}];return a==="top"?b.reverse():b}if(i){var C=u.segment,S=C.map(function(A){return e.apply(A,{position:s})});return ei(u,"discard")&&Jge(S,function(A){return!e.isInRange(A)})?null:S}return null};function Ive(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=cve(),c=e4(i),f=t4(o),d=dve();if(!u||!d)return null;wi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=IS({x:c.scale,y:f.scale}),m=Dt(e),g=Dt(n),y=r&&r.length===2,w=Ove(p,m,g,y,d,t.position,c.orientation,f.orientation,t);if(!w)return null;var _=Sve(w,2),b=_[0],C=b.x,S=b.y,A=_[1],E=A.x,x=A.y,P=ei(t,"hidden")?"url(#".concat(u,")"):void 0,I=$R($R({clipPath:P},Ce(t,!0)),{},{x1:C,y1:S,x2:E,y2:x});return D.createElement(wt,{className:ke("recharts-reference-line",a)},Cve(s,I),pn.renderCallByParent(t,Bye({x1:C,y1:S,x2:E,y2:x})))}var $S=function(t){function e(){return mve(this,e),vve(this,e,arguments)}return bve(e,t),yve(e,[{key:"render",value:function(){return D.createElement(Ive,this.props)}}])}(D.Component);DS($S,"displayName","ReferenceLine");DS($S,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){hy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o4(r.key),r)}}function kve(t,e,n){return e&&Nve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mve(t,e,n){return e=Im(e),Dve(t,i4()?Reflect.construct(e,n||[],Im(t).constructor):e.apply(t,n))}function Dve(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ve(t)}function $ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Im(t)}function jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zw(t,e)}function hy(t,e,n){return e=o4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o4(t){var e=Lve(t,"string");return Sl(e)=="symbol"?e:e+""}function Lve(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fve=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=IS({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ei(e,"discard")&&!s.isInRange(a)?null:a},dy=function(t){function e(){return Rve(this,e),Mve(this,e,arguments)}return jve(e,t),kve(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Dt(i),c=Dt(o);if(wi(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Fve(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,y=m.className,w=ei(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=FR(FR({clipPath:w},Ce(this.props,!0)),{},{cx:d,cy:p});return D.createElement(wt,{className:ke("recharts-reference-dot",y)},e.renderDot(g,_),pn.renderCallByParent(this.props,{x:d-s,y:p-s,width:2*s,height:2*s}))}}])}(D.Component);hy(dy,"displayName","ReferenceDot");hy(dy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hy(dy,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):_e(t)?n=t(e):n=D.createElement(OS,Jw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eb.apply(this,arguments)}function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){py(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a4(r.key),r)}}function Uve(t,e,n){return e&&Bve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zve(t,e,n){return e=Rm(e),Wve(t,s4()?Reflect.construct(e,n||[],Rm(t).constructor):e.apply(t,n))}function Wve(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qve(t)}function qve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rm(t)}function Hve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tb(t,e)}function py(t,e,n){return e=a4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a4(t){var e=Gve(t,"string");return xl(e)=="symbol"?e:e+""}function Gve(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kve=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=IS({x:c.scale,y:f.scale}),p={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return ei(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:GF(p,m)},my=function(t){function e(){return Vve(this,e),zve(this,e,arguments)}return Hve(e,t),Uve(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;wi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dt(i),d=Dt(o),p=Dt(s),m=Dt(a),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var y=Kve(f,d,p,m,this.props);if(!y&&!g)return null;var w=ei(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(wt,{className:ke("recharts-reference-area",l)},e.renderRect(g,BR(BR({clipPath:w},Ce(this.props,!0)),y)),pn.renderCallByParent(this.props,y))}}])}(D.Component);py(my,"displayName","ReferenceArea");py(my,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});py(my,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):_e(t)?n=t(e):n=D.createElement(CS,eb({},e,{className:"recharts-reference-area-rect"})),n});function l4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Yve(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return zye(r,n)}function Qve(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Nm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Xve(t,e){return l4(t,e+1)}function Jve(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:l4(r,u)};var g=l,y,w=function(){return y===void 0&&(y=n(m,g)),y},_=m.coordinate,b=l===0||Nm(t,_,w,c,a);b||(l=0,c=s,u+=1),b&&(c=_+t*(w()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Zve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zve(t,e,n){return e=e_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e_e(t){var e=t_e(t,"string");return Bf(e)=="symbol"?e:e+""}function t_e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n_e(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===s-1){var y=t*(p.coordinate+t*g()/2-l);o[d]=p=un(un({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[d]=p=un(un({},p),{},{tickCoord:p.coordinate});var w=Nm(t,p.tickCoord,g,a,l);w&&(l=p.tickCoord-t*(g()/2+i),o[d]=un(un({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function r_e(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),d=t*(c.coordinate+t*f/2-u);s[a-1]=c=un(un({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Nm(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),s[a-1]=un(un({},c),{},{isShow:!0}))}for(var m=o?a-1:a,g=function(_){var b=s[_],C,S=function(){return C===void 0&&(C=n(b,_)),C};if(_===0){var A=t*(b.coordinate-t*S()/2-l);s[_]=b=un(un({},b),{},{tickCoord:A<0?b.coordinate-A*t:b.coordinate})}else s[_]=b=un(un({},b),{},{tickCoord:b.coordinate});var E=Nm(t,b.tickCoord,S,l,u);E&&(l=b.tickCoord+t*(S()/2+i),s[_]=un(un({},b),{},{isShow:!0}))},y=0;y<m;y++)g(y);return s}function jS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ne(l)||ru.isSsr)return Xve(i,typeof l=="number"&&ne(l)?l:0);var d=[],p=a==="top"||a==="bottom"?"width":"height",m=c&&p==="width"?Sc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(b,C){var S=_e(u)?u(b.value,C):b.value;return p==="width"?Yve(Sc(S,{fontSize:e,letterSpacing:n}),m,f):Sc(S,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Rr(i[1].coordinate-i[0].coordinate):1,w=Qve(o,y,p);return l==="equidistantPreserveStart"?Jve(y,w,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=r_e(y,w,g,i,s,l==="preserveStartEnd"):d=n_e(y,w,g,i,s),d.filter(function(_){return _.isShow}))}var i_e=["viewBox"],o_e=["viewBox"],s_e=["ticks"];function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ea.apply(this,arguments)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){LS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jv(t,e){if(t==null)return{};var n=a_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c4(r.key),r)}}function u_e(t,e,n){return e&&WR(t.prototype,e),n&&WR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c_e(t,e,n){return e=km(e),f_e(t,u4()?Reflect.construct(e,n||[],km(t).constructor):e.apply(t,n))}function f_e(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_e(t)}function h_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},km(t)}function d_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function LS(t,e,n){return e=c4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4(t){var e=p_e(t,"string");return Tl(e)=="symbol"?e:e+""}function p_e(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var au=function(t){function e(n){var r;return l_e(this,e),r=c_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return d_e(e,t),u_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Jv(r,i_e),a=this.props,l=a.viewBox,u=Jv(a,o_e);return!La(o,l)||!La(s,u)||!La(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,y,w,_,b=f?-1:1,C=r.tickSize||c,S=ne(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,y=s+ +!f*l,g=y-b*C,_=g-b*d,w=S;break;case"left":g=y=r.coordinate,m=o+ +!f*a,p=m-b*C,w=p-b*d,_=S;break;case"right":g=y=r.coordinate,m=o+ +f*a,p=m+b*C,w=p+b*d,_=S;break;default:p=m=r.coordinate,y=s+ +f*l,g=y+b*C,_=g+b*d,w=S;break}return{line:{x1:p,y1:g,x2:m,y2:y},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=It(It(It({},Ce(this.props,!1)),Ce(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=It(It({},f),{},{x1:i,y1:o+d*a,x2:i+s,y2:o+d*a})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=It(It({},f),{},{x1:i+p*s,y1:o,x2:i+p*s,y2:o+a})}return D.createElement("line",Ea({},f,{className:ke("recharts-cartesian-axis-line",ur(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,d=a.unit,p=jS(It(It({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Ce(this.props,!1),w=Ce(c,!1),_=It(It({},y),{},{fill:"none"},Ce(l,!1)),b=p.map(function(C,S){var A=s.getTickLineCoord(C),E=A.line,x=A.tick,P=It(It(It(It({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:u},w),x),{},{index:S,payload:C,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(wt,Ea({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Bp(s.props,C,S)),l&&D.createElement("line",Ea({},_,E,{className:ke("recharts-cartesian-axis-tick-line",ur(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(_e(f)?f(C.value,S):C.value).concat(d||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=Jv(f,s_e),m=d;return _e(l)&&(m=d&&d.length>0?l(this.props):l(p)),s<=0||a<=0||!m||!m.length?null:D.createElement(wt,{className:ke("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=ke(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?s=D.cloneElement(r,It(It({},i),{},{className:a})):_e(r)?s=r(It(It({},i),{},{className:a})):s=D.createElement(tm,Ea({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}($.Component);LS(au,"displayName","CartesianAxis");LS(au,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var m_e=["x1","y1","x2","y2","key"],g_e=["offset"];function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){y_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_e(t,e,n){return e=v_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v_e(t){var e=__e(t,"string");return js(e)=="symbol"?e:e+""}function __e(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(this,arguments)}function HR(t,e){if(t==null)return{};var n=w_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var b_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function f4(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=HR(e,m_e),u=Ce(l,!1);u.offset;var c=HR(u,g_e);n=D.createElement("line",ps({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function E_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=mn(mn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return f4(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function S_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=mn(mn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return f4(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function x_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+s-d:c[p+1]-d;if(g<=0)return null;var y=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function T_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?o+a-d:c[p+1]-d;if(g<=0)return null;var y=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:d,y:s,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var A_e=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return bF(jS(mn(mn(mn({},au.defaultProps),r),{},{ticks:mi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},P_e=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return bF(jS(mn(mn(mn({},au.defaultProps),r),{},{ticks:mi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},na={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function FS(t){var e,n,r,i,o,s,a=kS(),l=MS(),u=pve(),c=mn(mn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:na.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:na.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:na.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:na.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:na.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:na.verticalFill,x:ne(t.x)?t.x:u.left,y:ne(t.y)?t.y:u.top,width:ne(t.width)?t.width:u.width,height:ne(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,y=c.horizontalValues,w=c.verticalValues,_=fve(),b=hve();if(!ne(p)||p<=0||!ne(m)||m<=0||!ne(f)||f!==+f||!ne(d)||d!==+d)return null;var C=c.verticalCoordinatesGenerator||A_e,S=c.horizontalCoordinatesGenerator||P_e,A=c.horizontalPoints,E=c.verticalPoints;if((!A||!A.length)&&_e(S)){var x=y&&y.length,P=S({yAxis:b?mn(mn({},b),{},{ticks:x?y:b.ticks}):void 0,width:a,height:l,offset:u},x?!0:g);wi(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(js(P),"]")),Array.isArray(P)&&(A=P)}if((!E||!E.length)&&_e(C)){var I=w&&w.length,O=C({xAxis:_?mn(mn({},_),{},{ticks:I?w:_.ticks}):void 0,width:a,height:l,offset:u},I?!0:g);wi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(js(O),"]")),Array.isArray(O)&&(E=O)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(b_e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(E_e,ps({},c,{offset:u,horizontalPoints:A,xAxis:_,yAxis:b})),D.createElement(S_e,ps({},c,{offset:u,verticalPoints:E,xAxis:_,yAxis:b})),D.createElement(x_e,ps({},c,{horizontalPoints:A})),D.createElement(T_e,ps({},c,{verticalPoints:E})))}FS.displayName="CartesianGrid";var C_e=["type","layout","connectNulls","ref"],O_e=["key"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function GR(t,e){if(t==null)return{};var n=I_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ra(t){return M_e(t)||k_e(t)||N_e(t)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N_e(t,e){if(t){if(typeof t=="string")return rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rb(t,e)}}function k_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M_e(t){if(Array.isArray(t))return rb(t)}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d4(r.key),r)}}function $_e(t,e,n){return e&&YR(t.prototype,e),n&&YR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function j_e(t,e,n){return e=Mm(e),L_e(t,h4()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function L_e(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F_e(t)}function F_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function V_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ib(t,e)}function Sr(t,e,n){return e=d4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d4(t){var e=B_e(t,"string");return Al(e)=="symbol"?e:e+""}function B_e(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gi=function(t){function e(){var n;D_e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=j_e(this,e,[].concat(i)),Sr(n,"state",{isAnimationFinished:!0,totalLength:0}),Sr(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Sr(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(w,_){return w+_});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),f=s%u,d=a-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(ra(l.slice(0,m)),[f-g]);break}var y=p.length%2===0?[0,d]:[d];return[].concat(ra(e.repeat(l,c)),ra(p),y).map(function(w){return"".concat(w,"px")}).join(", ")}),Sr(n,"id",fh("recharts-line-")),Sr(n,"pathRef",function(s){n.mainCurve=s}),Sr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Sr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return V_e(e,t),$_e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=cr(c,yh);if(!f)return null;var d=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Qn(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(wt,p,f.map(function(m){return D.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,f=Ce(this.props,!1),d=Ce(l,!0),p=u.map(function(g,y){var w=Un(Un(Un({key:"dot-".concat(y),r:3},f),d),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,w)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(wt,Pc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var f=GR(a,C_e),d=Un(Un(Un({},Ce(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return D.createElement(Dw,Pc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,d=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,y=s.height,w=this.state,_=w.prevPoints,b=w.totalLength;return D.createElement(ki,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(_){var A=_.length/a.length,E=a.map(function(N,R){var B=Math.floor(R*A);if(_[B]){var U=_[B],W=Ar(U.x,N.x),G=Ar(U.y,N.y);return Un(Un({},N),{},{x:W(S),y:G(S)})}if(m){var L=Ar(g*2,N.x),z=Ar(y/2,N.y);return Un(Un({},N),{},{x:L(S),y:z(S)})}return Un(Un({},N),{},{x:N.x,y:N.y})});return o.renderCurveStatically(E,r,i)}var x=Ar(0,b),P=x(S),I;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});I=o.getStrokeDasharray(P,b,O)}else I=o.generateSimpleStrokeDasharray(b,P);return o.renderCurveStatically(a,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!sy(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,_=a.length===1,b=ke("recharts-line",l),C=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,A=C||S,E=Se(y)?this.id:y,x=(r=Ce(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=x.r,I=P===void 0?3:P,O=x.strokeWidth,N=O===void 0?2:O,R=eX(s)?s:{},B=R.clipDot,U=B===void 0?!0:B,W=I*2+N;return D.createElement(wt,{className:b},C||S?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:C?d:d-p/2,y:S?f:f-m/2,width:C?p:p*2,height:S?m:m*2})),!U&&D.createElement("clipPath",{id:"clipPath-dots-".concat(E)},D.createElement("rect",{x:d-W/2,y:f-W/2,width:p+W,height:m+W}))):null,!_&&this.renderCurve(A,E),this.renderErrorBar(A,E),(_||s)&&this.renderDots(A,U,E),(!g||w)&&So.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(ra(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(ra(s),ra(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=GR(i,O_e),l=ke("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(OS,Pc({key:s},a,{className:l}))}return o}}])}($.PureComponent);Sr(gi,"displayName","Line");Sr(gi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ru.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Sr(gi,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var m=Qn(d,s);return c==="horizontal"?{x:OI({axis:n,ticks:i,bandSize:a,entry:d,index:p}),y:Se(m)?null:r.scale(m),value:m,payload:d}:{x:Se(m)?null:n.scale(m),y:OI({axis:r,ticks:o,bandSize:a,entry:d,index:p}),value:m,payload:d}});return Un({points:f,layout:c},u)});function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function U_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g4(r.key),r)}}function W_e(t,e,n){return e&&z_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q_e(t,e,n){return e=Dm(e),H_e(t,p4()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function H_e(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G_e(t)}function G_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p4=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function K_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}function ob(t,e){return ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ob(t,e)}function m4(t,e,n){return e=g4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g4(t){var e=Y_e(t,"string");return Pl(e)=="symbol"?e:e+""}function Y_e(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function Q_e(t){var e=t.xAxisId,n=kS(),r=MS(),i=e4(e);return i==null?null:$.createElement(au,sb({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return mi(s,!0)}}))}var _h=function(t){function e(){return U_e(this,e),q_e(this,e,arguments)}return K_e(e,t),W_e(e,[{key:"render",value:function(){return $.createElement(Q_e,this.props)}}])}($.Component);m4(_h,"displayName","XAxis");m4(_h,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function X_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_4(r.key),r)}}function Z_e(t,e,n){return e&&J_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e0e(t,e,n){return e=$m(e),t0e(t,y4()?Reflect.construct(e,n||[],$m(t).constructor):e.apply(t,n))}function t0e(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n0e(t)}function n0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$m(t)}function r0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ab(t,e)}function v4(t,e,n){return e=_4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _4(t){var e=i0e(t,"string");return Cl(e)=="symbol"?e:e+""}function i0e(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lb.apply(this,arguments)}var o0e=function(e){var n=e.yAxisId,r=kS(),i=MS(),o=t4(n);return o==null?null:$.createElement(au,lb({},o,{className:ke("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return mi(a,!0)}}))},wh=function(t){function e(){return X_e(this,e),e0e(this,e,arguments)}return r0e(e,t),Z_e(e,[{key:"render",value:function(){return $.createElement(o0e,this.props)}}])}($.Component);v4(wh,"displayName","YAxis");v4(wh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QR(t){return u0e(t)||l0e(t)||a0e(t)||s0e()}function s0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a0e(t,e){if(t){if(typeof t=="string")return ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ub(t,e)}}function l0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u0e(t){if(Array.isArray(t))return ub(t)}function ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cb=function(e,n,r,i,o){var s=cr(e,$S),a=cr(e,dy),l=[].concat(QR(s),QR(a)),u=cr(e,my),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,y){if(y.props[c]===r&&ei(y.props,"extendDomain")&&ne(y.props[f])){var w=y.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,y){if(y.props[c]===r&&ei(y.props,"extendDomain")&&ne(y.props[p])&&ne(y.props[m])){var w=y.props[p],_=y.props[m];return[Math.min(g[0],w,_),Math.max(g[1],w,_)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,y){return ne(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},d)),d},w4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,_,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,d),!0;case 5:return y.fn.call(y.context,c,f,d,p),!0;case 6:return y.fn.call(y.context,c,f,d,p,m),!0}for(b=1,_=new Array(w-1);b<w;b++)_[b-1]=arguments[b];y.fn.apply(y.context,_)}else{var C=y.length,S;for(b=0;b<C;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,f);break;case 4:y[b].fn.call(y[b].context,c,f,d);break;default:if(!_)for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];y[b].fn.apply(y[b].context,_)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(w4);var c0e=w4.exports;const f0e=We(c0e);var Zv=new f0e,e_="recharts.syncMouseEvents";function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function h0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b4(r.key),r)}}function p0e(t,e,n){return e&&d0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t_(t,e,n){return e=b4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b4(t){var e=m0e(t,"string");return Uf(e)=="symbol"?e:e+""}function m0e(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g0e=function(){function t(){h0e(this,t),t_(this,"activeIndex",0),t_(this,"coordinateList",[]),t_(this,"layout","horizontal")}return p0e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function y0e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ne(r)&&ne(i))return!0}return!1}function v0e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function E4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=en(e,n,r,i),a=en(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function _0e(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=en(a,l,u,f),p=en(a,l,c,f);r=d.x,i=d.y,o=p.x,s=p.y}else return E4(e);return[{x:r,y:i},{x:o,y:s}]}function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){w0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0e(t,e,n){return e=b0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0e(t){var e=E0e(t,"string");return zf(e)=="symbol"?e:e+""}function E0e(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S0e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!s||d!=="ScatterChart"&&i!=="axis")return null;var m,g=Dw;if(d==="ScatterChart")m=s,g=Eme;else if(d==="BarChart")m=v0e(f,s,l,c),g=CS;else if(f==="radial"){var y=E4(s),w=y.cx,_=y.cy,b=y.radius,C=y.startAngle,S=y.endAngle;m={cx:w,cy:_,startAngle:C,endAngle:S,innerRadius:b,outerRadius:b},g=AF}else m={points:_0e(f,s,l)},g=Dw;var A=yd(yd(yd(yd({stroke:"#ccc",pointerEvents:"none"},l),m),Ce(p,!1)),{},{payload:a,payloadIndex:u,className:ke("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,A):$.createElement(g,A)}var x0e=["item"],T0e=["children","className","width","height","style","compact","title","desc"];function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}function JR(t,e){return C0e(t)||P0e(t,e)||x4(t,e)||A0e()}function A0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function C0e(t){if(Array.isArray(t))return t}function ZR(t,e){if(t==null)return{};var n=O0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T4(r.key),r)}}function N0e(t,e,n){return e&&R0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k0e(t,e,n){return e=jm(e),M0e(t,S4()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function M0e(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D0e(t)}function D0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S4=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function $0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fb(t,e)}function Il(t){return F0e(t)||L0e(t)||x4(t)||j0e()}function j0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4(t,e){if(t){if(typeof t=="string")return hb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(t,e)}}function L0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F0e(t){if(Array.isArray(t))return hb(t)}function hb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ce(t,e,n){return e=T4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4(t){var e=V0e(t,"string");return Ol(e)=="symbol"?e:e+""}function V0e(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B0e={xAxis:["bottom","top"],yAxis:["left","right"]},U0e={width:"100%",height:"100%"},A4={x:0,y:0};function vd(t){return t}var z0e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},W0e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return q(q(q({},i),en(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return q(q(q({},i),en(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return A4},gy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Il(a),Il(u)):a},[]);return s.length>0?s:e&&e.length&&ne(i)&&ne(o)?e.slice(i,o+1):[]};function P4(t){return t==="number"?[0,"auto"]:void 0}var db=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=gy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?a:f;d=Fp(p,s.dataKey,i)}else d=f&&f[r]||a[r];return d?[].concat(Il(l),[SF(u,d)]):l},[])},tN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=z0e(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=rhe(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=db(e,n,c,f),p=W0e(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},q0e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=wF(c,o);return r.reduce(function(m,g){var y,w=g.type.defaultProps!==void 0?q(q({},g.type.defaultProps),g.props):g.props,_=w.type,b=w.dataKey,C=w.allowDataOverflow,S=w.allowDuplicatedCategory,A=w.scale,E=w.ticks,x=w.includeHidden,P=w[s];if(m[P])return m;var I=gy(e.data,{graphicalItems:i.filter(function(Q){var le,pe=s in Q.props?Q.props[s]:(le=Q.type.defaultProps)===null||le===void 0?void 0:le[s];return pe===P}),dataStartIndex:l,dataEndIndex:u}),O=I.length,N,R,B;y0e(w.domain,C,_)&&(N=Iw(w.domain,null,C),p&&(_==="number"||A!=="auto")&&(B=Tc(I,b,"category")));var U=P4(_);if(!N||N.length===0){var W,G=(W=w.domain)!==null&&W!==void 0?W:U;if(b){if(N=Tc(I,b,_),_==="category"&&p){var L=WQ(N);S&&L?(R=N,N=xm(0,O)):S||(N=kI(G,N,g).reduce(function(Q,le){return Q.indexOf(le)>=0?Q:[].concat(Il(Q),[le])},[]))}else if(_==="category")S?N=N.filter(function(Q){return Q!==""&&!Se(Q)}):N=kI(G,N,g).reduce(function(Q,le){return Q.indexOf(le)>=0||le===""||Se(le)?Q:[].concat(Il(Q),[le])},[]);else if(_==="number"){var z=lhe(I,i.filter(function(Q){var le,pe,De=s in Q.props?Q.props[s]:(le=Q.type.defaultProps)===null||le===void 0?void 0:le[s],Ye="hide"in Q.props?Q.props.hide:(pe=Q.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return De===P&&(x||!Ye)}),b,o,c);z&&(N=z)}p&&(_==="number"||A!=="auto")&&(B=Tc(I,b,"category"))}else p?N=xm(0,O):a&&a[P]&&a[P].hasStack&&_==="number"?N=d==="expand"?[0,1]:EF(a[P].stackGroups,l,u):N=_F(I,i.filter(function(Q){var le=s in Q.props?Q.props[s]:Q.type.defaultProps[s],pe="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return le===P&&(x||!pe)}),_,c,!0);if(_==="number")N=cb(f,N,P,o,E),G&&(N=Iw(G,N,C));else if(_==="category"&&G){var Y=G,ee=N.every(function(Q){return Y.indexOf(Q)>=0});ee&&(N=Y)}}return q(q({},m),{},ce({},P,q(q({},w),{},{axisType:o,domain:N,categoricalDomain:B,duplicateDomain:R,originalDomain:(y=w.domain)!==null&&y!==void 0?y:U,isCategorical:p,layout:c})))},{})},H0e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=gy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=wF(c,o),g=-1;return r.reduce(function(y,w){var _=w.type.defaultProps!==void 0?q(q({},w.type.defaultProps),w.props):w.props,b=_[s],C=P4("number");if(!y[b]){g++;var S;return m?S=xm(0,p):a&&a[b]&&a[b].hasStack?(S=EF(a[b].stackGroups,l,u),S=cb(f,S,b,o)):(S=Iw(C,_F(d,r.filter(function(A){var E,x,P=s in A.props?A.props[s]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[s],I="hide"in A.props?A.props.hide:(x=A.type.defaultProps)===null||x===void 0?void 0:x.hide;return P===b&&!I}),"number",c),i.defaultProps.allowDataOverflow),S=cb(f,S,b,o)),q(q({},y),{},ce({},b,q(q({axisType:o},i.defaultProps),{},{hide:!0,orientation:ur(B0e,"".concat(o,".").concat(g%2),null),domain:S,originalDomain:C,isCategorical:m,layout:c})))}return y},{})},G0e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=cr(c,o),p={};return d&&d.length?p=q0e(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=H0e(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),p},K0e=function(e){var n=Zi(e),r=mi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:tS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:mm(n,r)}},nN=function(e){var n=e.children,r=e.defaultShowTooltip,i=qn(n,wl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Y0e=function(e){return!e||!e.length?!1:e.some(function(n){var r=_i(n&&n.type);return r&&r.indexOf("Bar")>=0})},rN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Q0e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=qn(f,wl),m=qn(f,Fa),g=Object.keys(l).reduce(function(S,A){var E=l[A],x=E.orientation;return!E.mirror&&!E.hide?q(q({},S),{},ce({},x,S[x]+E.width)):S},{left:d.left||0,right:d.right||0}),y=Object.keys(s).reduce(function(S,A){var E=s[A],x=E.orientation;return!E.mirror&&!E.hide?q(q({},S),{},ce({},x,ur(S,"".concat(x))+E.height)):S},{top:d.top||0,bottom:d.bottom||0}),w=q(q({},y),g),_=w.bottom;p&&(w.bottom+=p.props.height||wl.defaultProps.height),m&&n&&(w=she(w,i,r,n));var b=u-w.left-w.right,C=c-w.top-w.bottom;return q(q({brushBottom:_},w),{},{width:Math.max(b,0),height:Math.max(C,0)})},X0e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},J0e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(w,_){var b=_.graphicalItems,C=_.stackGroups,S=_.offset,A=_.updateId,E=_.dataStartIndex,x=_.dataEndIndex,P=w.barSize,I=w.layout,O=w.barGap,N=w.barCategoryGap,R=w.maxBarSize,B=rN(I),U=B.numericAxisName,W=B.cateAxisName,G=Y0e(b),L=[];return b.forEach(function(z,Y){var ee=gy(w.data,{graphicalItems:[z],dataStartIndex:E,dataEndIndex:x}),Q=z.type.defaultProps!==void 0?q(q({},z.type.defaultProps),z.props):z.props,le=Q.dataKey,pe=Q.maxBarSize,De=Q["".concat(U,"Id")],Ye=Q["".concat(W,"Id")],on={},Lt=l.reduce(function(Zn,oi){var Hs=_["".concat(oi.axisType,"Map")],bh=Q["".concat(oi.axisType,"Id")];Hs&&Hs[bh]||oi.axisType==="zAxis"||$s();var Vi=Hs[bh];return q(q({},Zn),{},ce(ce({},oi.axisType,Vi),"".concat(oi.axisType,"Ticks"),mi(Vi)))},on),re=Lt[W],me=Lt["".concat(W,"Ticks")],ye=C&&C[De]&&C[De].hasStack&&whe(z,C[De].stackGroups),K=_i(z.type).indexOf("Bar")>=0,qe=mm(re,me),Te=[],yt=G&&ihe({barSize:P,stackGroups:C,totalSize:X0e(Lt,W)});if(K){var st,Ft,gr=Se(pe)?R:pe,at=(st=(Ft=mm(re,me,!0))!==null&&Ft!==void 0?Ft:gr)!==null&&st!==void 0?st:0;Te=ohe({barGap:O,barCategoryGap:N,bandSize:at!==qe?at:qe,sizeList:yt[Ye],maxBarSize:gr}),at!==qe&&(Te=Te.map(function(Zn){return q(q({},Zn),{},{position:q(q({},Zn.position),{},{offset:Zn.position.offset-at/2})})}))}var Et=z&&z.type&&z.type.getComposedData;Et&&L.push({props:q(q({},Et(q(q({},Lt),{},{displayedData:ee,props:w,dataKey:le,item:z,bandSize:qe,barPosition:Te,offset:S,stackedData:ye,layout:I,dataStartIndex:E,dataEndIndex:x}))),{},ce(ce(ce({key:z.key||"item-".concat(Y)},U,Lt[U]),W,Lt[W]),"animationId",A)),childIndex:rX(z,w.children),item:z})}),L},p=function(w,_){var b=w.props,C=w.dataStartIndex,S=w.dataEndIndex,A=w.updateId;if(!AC({props:b}))return null;var E=b.children,x=b.layout,P=b.stackOffset,I=b.data,O=b.reverseStackOrder,N=rN(x),R=N.numericAxisName,B=N.cateAxisName,U=cr(E,r),W=yhe(I,U,"".concat(R,"Id"),"".concat(B,"Id"),P,O),G=l.reduce(function(Q,le){var pe="".concat(le.axisType,"Map");return q(q({},Q),{},ce({},pe,G0e(b,q(q({},le),{},{graphicalItems:U,stackGroups:le.axisType===R&&W,dataStartIndex:C,dataEndIndex:S}))))},{}),L=Q0e(q(q({},G),{},{props:b,graphicalItems:U}),_==null?void 0:_.legendBBox);Object.keys(G).forEach(function(Q){G[Q]=c(b,G[Q],L,Q.replace("Map",""),n)});var z=G["".concat(B,"Map")],Y=K0e(z),ee=d(b,q(q({},G),{},{dataStartIndex:C,dataEndIndex:S,updateId:A,graphicalItems:U,stackGroups:W,offset:L}));return q(q({formattedGraphicalItems:ee,graphicalItems:U,offset:L,stackGroups:W},Y),G)},m=function(y){function w(_){var b,C,S;return I0e(this,w),S=k0e(this,w,[_]),ce(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ce(S,"accessibilityManager",new g0e),ce(S,"handleLegendBBoxUpdate",function(A){if(A){var E=S.state,x=E.dataStartIndex,P=E.dataEndIndex,I=E.updateId;S.setState(q({legendBBox:A},p({props:S.props,dataStartIndex:x,dataEndIndex:P,updateId:I},q(q({},S.state),{},{legendBBox:A}))))}}),ce(S,"handleReceiveSyncEvent",function(A,E,x){if(S.props.syncId===A){if(x===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),ce(S,"handleBrushChange",function(A){var E=A.startIndex,x=A.endIndex;if(E!==S.state.dataStartIndex||x!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return q({dataStartIndex:E,dataEndIndex:x},p({props:S.props,dataStartIndex:E,dataEndIndex:x,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:x})}}),ce(S,"handleMouseEnter",function(A){var E=S.getMouseInfo(A);if(E){var x=q(q({},E),{},{isTooltipActive:!0});S.setState(x),S.triggerSyncEvent(x);var P=S.props.onMouseEnter;_e(P)&&P(x,A)}}),ce(S,"triggeredAfterMouseMove",function(A){var E=S.getMouseInfo(A),x=E?q(q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(x),S.triggerSyncEvent(x);var P=S.props.onMouseMove;_e(P)&&P(x,A)}),ce(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ce(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ce(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),ce(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var x=S.props.onMouseLeave;_e(x)&&x(E,A)}),ce(S,"handleOuterEvent",function(A){var E=nX(A),x=ur(S.props,"".concat(E));if(E&&_e(x)){var P,I;/.*touch.*/i.test(E)?I=S.getMouseInfo(A.changedTouches[0]):I=S.getMouseInfo(A),x((P=I)!==null&&P!==void 0?P:{},A)}}),ce(S,"handleClick",function(A){var E=S.getMouseInfo(A);if(E){var x=q(q({},E),{},{isTooltipActive:!0});S.setState(x),S.triggerSyncEvent(x);var P=S.props.onClick;_e(P)&&P(x,A)}}),ce(S,"handleMouseDown",function(A){var E=S.props.onMouseDown;if(_e(E)){var x=S.getMouseInfo(A);E(x,A)}}),ce(S,"handleMouseUp",function(A){var E=S.props.onMouseUp;if(_e(E)){var x=S.getMouseInfo(A);E(x,A)}}),ce(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ce(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),ce(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),ce(S,"handleDoubleClick",function(A){var E=S.props.onDoubleClick;if(_e(E)){var x=S.getMouseInfo(A);E(x,A)}}),ce(S,"handleContextMenu",function(A){var E=S.props.onContextMenu;if(_e(E)){var x=S.getMouseInfo(A);E(x,A)}}),ce(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&Zv.emit(e_,S.props.syncId,A,S.eventEmitterSymbol)}),ce(S,"applySyncEvent",function(A){var E=S.props,x=E.layout,P=E.syncMethod,I=S.state.updateId,O=A.dataStartIndex,N=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(q({dataStartIndex:O,dataEndIndex:N},p({props:S.props,dataStartIndex:O,dataEndIndex:N,updateId:I},S.state)));else if(A.activeTooltipIndex!==void 0){var R=A.chartX,B=A.chartY,U=A.activeTooltipIndex,W=S.state,G=W.offset,L=W.tooltipTicks;if(!G)return;if(typeof P=="function")U=P(L,A);else if(P==="value"){U=-1;for(var z=0;z<L.length;z++)if(L[z].value===A.activeLabel){U=z;break}}var Y=q(q({},G),{},{x:G.left,y:G.top}),ee=Math.min(R,Y.x+Y.width),Q=Math.min(B,Y.y+Y.height),le=L[U]&&L[U].value,pe=db(S.state,S.props.data,U),De=L[U]?{x:x==="horizontal"?L[U].coordinate:ee,y:x==="horizontal"?Q:L[U].coordinate}:A4;S.setState(q(q({},A),{},{activeLabel:le,activeCoordinate:De,activePayload:pe,activeTooltipIndex:U}))}else S.setState(A)}),ce(S,"renderCursor",function(A){var E,x=S.state,P=x.isTooltipActive,I=x.activeCoordinate,O=x.activePayload,N=x.offset,R=x.activeTooltipIndex,B=x.tooltipAxisBandSize,U=S.getTooltipEventType(),W=(E=A.props.active)!==null&&E!==void 0?E:P,G=S.props.layout,L=A.key||"_recharts-cursor";return D.createElement(S0e,{key:L,activeCoordinate:I,activePayload:O,activeTooltipIndex:R,chartName:n,element:A,isActive:W,layout:G,offset:N,tooltipAxisBandSize:B,tooltipEventType:U})}),ce(S,"renderPolarAxis",function(A,E,x){var P=ur(A,"type.axisType"),I=ur(S.state,"".concat(P,"Map")),O=A.type.defaultProps,N=O!==void 0?q(q({},O),A.props):A.props,R=I&&I[N["".concat(P,"Id")]];return $.cloneElement(A,q(q({},R),{},{className:ke(P,R.className),key:A.key||"".concat(E,"-").concat(x),ticks:mi(R,!0)}))}),ce(S,"renderPolarGrid",function(A){var E=A.props,x=E.radialLines,P=E.polarAngles,I=E.polarRadius,O=S.state,N=O.radiusAxisMap,R=O.angleAxisMap,B=Zi(N),U=Zi(R),W=U.cx,G=U.cy,L=U.innerRadius,z=U.outerRadius;return $.cloneElement(A,{polarAngles:Array.isArray(P)?P:mi(U,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(I)?I:mi(B,!0).map(function(Y){return Y.coordinate}),cx:W,cy:G,innerRadius:L,outerRadius:z,key:A.key||"polar-grid",radialLines:x})}),ce(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,E=S.props,x=E.children,P=E.width,I=E.height,O=S.props.margin||{},N=P-(O.left||0)-(O.right||0),R=yF({children:x,formattedGraphicalItems:A,legendWidth:N,legendContent:u});if(!R)return null;var B=R.item,U=ZR(R,x0e);return $.cloneElement(B,q(q({},U),{},{chartWidth:P,chartHeight:I,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ce(S,"renderTooltip",function(){var A,E=S.props,x=E.children,P=E.accessibilityLayer,I=qn(x,br);if(!I)return null;var O=S.state,N=O.isTooltipActive,R=O.activeCoordinate,B=O.activePayload,U=O.activeLabel,W=O.offset,G=(A=I.props.active)!==null&&A!==void 0?A:N;return $.cloneElement(I,{viewBox:q(q({},W),{},{x:W.left,y:W.top}),active:G,label:U,payload:G?B:[],coordinate:R,accessibilityLayer:P})}),ce(S,"renderBrush",function(A){var E=S.props,x=E.margin,P=E.data,I=S.state,O=I.offset,N=I.dataStartIndex,R=I.dataEndIndex,B=I.updateId;return $.cloneElement(A,{key:A.key||"_recharts-brush",onChange:dd(S.handleBrushChange,A.props.onChange),data:P,x:ne(A.props.x)?A.props.x:O.left,y:ne(A.props.y)?A.props.y:O.top+O.height+O.brushBottom-(x.bottom||0),width:ne(A.props.width)?A.props.width:O.width,startIndex:N,endIndex:R,updateId:"brush-".concat(B)})}),ce(S,"renderReferenceElement",function(A,E,x){if(!A)return null;var P=S,I=P.clipPathId,O=S.state,N=O.xAxisMap,R=O.yAxisMap,B=O.offset,U=A.type.defaultProps||{},W=A.props,G=W.xAxisId,L=G===void 0?U.xAxisId:G,z=W.yAxisId,Y=z===void 0?U.yAxisId:z;return $.cloneElement(A,{key:A.key||"".concat(E,"-").concat(x),xAxis:N[L],yAxis:R[Y],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:I})}),ce(S,"renderActivePoints",function(A){var E=A.item,x=A.activePoint,P=A.basePoint,I=A.childIndex,O=A.isRange,N=[],R=E.props.key,B=E.item.type.defaultProps!==void 0?q(q({},E.item.type.defaultProps),E.item.props):E.item.props,U=B.activeDot,W=B.dataKey,G=q(q({index:I,dataKey:W,cx:x.x,cy:x.y,r:4,fill:PS(E.item),strokeWidth:2,stroke:"#fff",payload:x.payload,value:x.value},Ce(U,!1)),Vp(U));return N.push(w.renderActiveDot(U,G,"".concat(R,"-activePoint-").concat(I))),P?N.push(w.renderActiveDot(U,q(q({},G),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(I))):O&&N.push(null),N}),ce(S,"renderGraphicChild",function(A,E,x){var P=S.filterFormatItem(A,E,x);if(!P)return null;var I=S.getTooltipEventType(),O=S.state,N=O.isTooltipActive,R=O.tooltipAxis,B=O.activeTooltipIndex,U=O.activeLabel,W=S.props.children,G=qn(W,br),L=P.props,z=L.points,Y=L.isRange,ee=L.baseLine,Q=P.item.type.defaultProps!==void 0?q(q({},P.item.type.defaultProps),P.item.props):P.item.props,le=Q.activeDot,pe=Q.hide,De=Q.activeBar,Ye=Q.activeShape,on=!!(!pe&&N&&G&&(le||De||Ye)),Lt={};I!=="axis"&&G&&G.props.trigger==="click"?Lt={onClick:dd(S.handleItemMouseEnter,A.props.onClick)}:I!=="axis"&&(Lt={onMouseLeave:dd(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:dd(S.handleItemMouseEnter,A.props.onMouseEnter)});var re=$.cloneElement(A,q(q({},P.props),Lt));function me(oi){return typeof R.dataKey=="function"?R.dataKey(oi.payload):null}if(on)if(B>=0){var ye,K;if(R.dataKey&&!R.allowDuplicatedCategory){var qe=typeof R.dataKey=="function"?me:"payload.".concat(R.dataKey.toString());ye=Fp(z,qe,U),K=Y&&ee&&Fp(ee,qe,U)}else ye=z==null?void 0:z[B],K=Y&&ee&&ee[B];if(Ye||De){var Te=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[$.cloneElement(A,q(q(q({},P.props),Lt),{},{activeIndex:Te})),null,null]}if(!Se(ye))return[re].concat(Il(S.renderActivePoints({item:P,activePoint:ye,basePoint:K,childIndex:B,isRange:Y})))}else{var yt,st=(yt=S.getItemByXY(S.state.activeCoordinate))!==null&&yt!==void 0?yt:{graphicalItem:re},Ft=st.graphicalItem,gr=Ft.item,at=gr===void 0?A:gr,Et=Ft.childIndex,Zn=q(q(q({},P.props),Lt),{},{activeIndex:Et});return[$.cloneElement(at,Zn),null,null]}return Y?[re,null,null]:[re,null]}),ce(S,"renderCustomized",function(A,E,x){return $.cloneElement(A,q(q({key:"recharts-customized-".concat(x)},S.props),S.state))}),ce(S,"renderMap",{CartesianGrid:{handler:vd,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:vd},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:vd},YAxis:{handler:vd},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=_.id)!==null&&b!==void 0?b:fh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=mL(S.triggeredAfterMouseMove,(C=_.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return $0e(w,y),N0e(w,[{key:"componentDidMount",value:function(){var b,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,C=b.children,S=b.data,A=b.height,E=b.layout,x=qn(C,br);if(x){var P=x.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=db(this.state,S,P,I),N=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+A)/2,B=E==="horizontal",U=B?{x:N,y:R}:{y:N,x:R},W=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});W&&(U=q(q({},U),W.props.points[P].tooltipPosition),O=W.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:I,activePayload:O,activeCoordinate:U};this.setState(G),this.renderCursor(x),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){q0([qn(b.children,br)],[qn(this.props.children,br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=qn(this.props.children,br);if(b&&typeof b.props.shared=="boolean"){var C=b.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),A=Oae(S),E={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},x=S.width/C.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,x);if(!P)return null;var I=this.state,O=I.xAxisMap,N=I.yAxisMap,R=this.getTooltipEventType(),B=tN(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&O&&N){var U=Zi(O).scale,W=Zi(N).scale,G=U&&U.invert?U.invert(E.chartX):null,L=W&&W.invert?W.invert(E.chartY):null;return q(q({},E),{},{xValue:G,yValue:L},B)}return B?q(q({},E),B):null}},{key:"inRange",value:function(b,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=b/S,x=C/S;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,I=E>=P.left&&E<=P.left+P.width&&x>=P.top&&x<=P.top+P.height;return I?{x:E,y:x}:null}var O=this.state,N=O.angleAxisMap,R=O.radiusAxisMap;if(N&&R){var B=Zi(N);return $I({x:E,y:x},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,C=this.getTooltipEventType(),S=qn(b,br),A={};S&&C==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Vp(this.props,this.handleOuterEvent);return q(q({},E),A)}},{key:"addListener",value:function(){Zv.on(e_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zv.removeListener(e_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,C,S){for(var A=this.state.formattedGraphicalItems,E=0,x=A.length;E<x;E++){var P=A[E];if(P.item===b||P.props.key===b.key||C===_i(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,C=this.state.offset,S=C.left,A=C.top,E=C.height,x=C.width;return D.createElement("defs",null,D.createElement("clipPath",{id:b},D.createElement("rect",{x:S,y:A,height:E,width:x})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(C,S){var A=JR(S,2),E=A[0],x=A[1];return q(q({},C),{},ce({},E,x.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(C,S){var A=JR(S,2),E=A[0],x=A[1];return q(q({},C),{},ce({},E,x.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(b){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[b])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(b){var C=this.state,S=C.formattedGraphicalItems,A=C.activeItem;if(S&&S.length)for(var E=0,x=S.length;E<x;E++){var P=S[E],I=P.props,O=P.item,N=O.type.defaultProps!==void 0?q(q({},O.type.defaultProps),O.props):O.props,R=_i(O.type);if(R==="Bar"){var B=(I.data||[]).find(function(L){return hme(b,L)});if(B)return{graphicalItem:P,payload:B}}else if(R==="RadialBar"){var U=(I.data||[]).find(function(L){return $I(b,L)});if(U)return{graphicalItem:P,payload:U}}else if(uy(P,A)||cy(P,A)||jf(P,A)){var W=mge({graphicalItem:P,activeTooltipItem:A,itemData:N.data}),G=N.activeIndex===void 0?W:N.activeIndex;return{graphicalItem:q(q({},P),{},{childIndex:G}),payload:jf(P,A)?N.data[W]:P.props.data[W]}}}return null}},{key:"render",value:function(){var b=this;if(!AC(this))return null;var C=this.props,S=C.children,A=C.className,E=C.width,x=C.height,P=C.style,I=C.compact,O=C.title,N=C.desc,R=ZR(C,T0e),B=Ce(R,!1);if(I)return D.createElement(MR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(G0,Sa({},B,{width:E,height:x,title:O,desc:N}),this.renderClipPath(),CC(S,this.renderMap)));if(this.props.accessibilityLayer){var U,W;B.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,B.role=(W=this.props.role)!==null&&W!==void 0?W:"application",B.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},B.onFocus=function(){b.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return D.createElement(MR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Sa({className:ke("recharts-wrapper",A),style:q({position:"relative",cursor:"default",width:E,height:x},P)},G,{ref:function(z){b.container=z}}),D.createElement(G0,Sa({},B,{width:E,height:x,title:O,desc:N,style:U0e}),this.renderClipPath(),CC(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);ce(m,"displayName",n),ce(m,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ce(m,"getDerivedStateFromProps",function(y,w){var _=y.dataKey,b=y.data,C=y.children,S=y.width,A=y.height,E=y.layout,x=y.stackOffset,P=y.margin,I=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var N=nN(y);return q(q(q({},N),{},{updateId:0},p(q(q({props:y},N),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:b,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:x,prevMargin:P,prevChildren:C})}if(_!==w.prevDataKey||b!==w.prevData||S!==w.prevWidth||A!==w.prevHeight||E!==w.prevLayout||x!==w.prevStackOffset||!La(P,w.prevMargin)){var R=nN(y),B={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},U=q(q({},tN(w,b,E)),{},{updateId:w.updateId+1}),W=q(q(q({},R),B),U);return q(q(q({},W),p(q({props:y},W),w)),{},{prevDataKey:_,prevData:b,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:x,prevMargin:P,prevChildren:C})}if(!q0(C,w.prevChildren)){var G,L,z,Y,ee=qn(C,wl),Q=ee&&(G=(L=ee.props)===null||L===void 0?void 0:L.startIndex)!==null&&G!==void 0?G:I,le=ee&&(z=(Y=ee.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&z!==void 0?z:O,pe=Q!==I||le!==O,De=!Se(b),Ye=De&&!pe?w.updateId:w.updateId+1;return q(q({updateId:Ye},p(q(q({props:y},w),{},{updateId:Ye,dataStartIndex:Q,dataEndIndex:le}),w)),{},{prevChildren:C,dataStartIndex:Q,dataEndIndex:le})}return null}),ce(m,"renderActiveDot",function(y,w,_){var b;return $.isValidElement(y)?b=$.cloneElement(y,w):_e(y)?b=y(w):b=D.createElement(OS,w),D.createElement(wt,{className:"recharts-active-dot",key:_},b)});var g=$.forwardRef(function(w,_){return D.createElement(m,Sa({},w,{ref:_}))});return g.displayName=m.displayName,g},C4=J0e({chartName:"LineChart",GraphicalChild:gi,axisComponents:[{axisType:"xAxis",AxisComp:_h},{axisType:"yAxis",AxisComp:wh}],formatAxisMap:Vye});const Z0e=({data:t})=>{const[e,n]=$.useState(!0),[r,i]=$.useState(0);return $.useEffect(()=>{t.length>0&&(n(!0),i(o=>o+1))},[t]),$.useEffect(()=>{let o;const s=()=>{clearTimeout(o),o=setTimeout(()=>{n(!0),i(a=>a+1)},300)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),clearTimeout(o)}},[]),M.jsxs("div",{className:"lux-history-chart sensor-card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h3",{className:"card-title",children:"Light Intensity History"}),M.jsx("div",{className:"card-icon",children:M.jsx("img",{src:Gt.frame.lightIcon,alt:"Chart"})})]}),M.jsx("div",{className:"chart-legend",children:M.jsxs("div",{className:"legend-item",children:[M.jsx("div",{className:"legend-color",style:{backgroundColor:"#ffd54f"}}),M.jsx("span",{className:"legend-label",children:"Lux"})]})}),M.jsx("div",{className:"chart-container",children:M.jsx(gL,{width:"100%",height:"100%",children:M.jsxs(C4,{data:t,margin:{top:5,right:20,left:0,bottom:5},children:[M.jsx(FS,{strokeDasharray:"3 3",stroke:"#e0e0e0",opacity:.5}),M.jsx(_h,{dataKey:"time",stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"}}),M.jsx(wh,{stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"}}),M.jsx(br,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:"Poppins"}}),M.jsx(gi,{type:"monotone",dataKey:"lux",stroke:"#ffd54f",strokeWidth:3,dot:!1,isAnimationActive:e,animationDuration:1500,animationEasing:"ease-out"})]},r)})})]})},ewe=({data:t,isLoading:e,error:n})=>{const[r,i]=D.useState(!0),[o,s]=D.useState(0),a=D.useRef(null),l=D.useRef(null),u=D.useCallback(()=>{t.length!==0&&(i(!0),a.current!==null&&window.clearTimeout(a.current),a.current=window.setTimeout(()=>{i(!1)},1600))},[t.length]);return D.useEffect(()=>{t.length>0&&u()},[t.length,u]),D.useEffect(()=>{const c=()=>{l.current!==null&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>{t.length>0&&(s(f=>f+1),u())},300)};return window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c),l.current!==null&&window.clearTimeout(l.current),a.current!==null&&window.clearTimeout(a.current)}},[t.length,u]),M.jsxs("div",{className:"rpm-history-chart sensor-card",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("h3",{className:"card-title",children:"Fan RPM History"}),M.jsx("div",{className:"card-icon",children:M.jsx("img",{src:Gt.frame.fanIcon,alt:"Fan"})})]}),e&&M.jsx("div",{className:"chart-status",children:M.jsx("p",{className:"status-message loading",children:"Connecting to Firebase..."})}),n&&!e&&M.jsx("div",{className:"chart-status",children:M.jsx("p",{className:"status-message error",children:n})}),!e&&!n&&t.length===0&&M.jsx("div",{className:"chart-status",children:M.jsx("p",{className:"status-message empty",children:"Waiting for data..."})}),!e&&!n&&t.length>0&&M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"chart-legend",children:[M.jsxs("div",{className:"legend-item",children:[M.jsx("div",{className:"legend-color",style:{backgroundColor:"#e74c3c"}}),M.jsx("span",{className:"legend-label",children:"Fan 1"})]}),M.jsxs("div",{className:"legend-item",children:[M.jsx("div",{className:"legend-color",style:{backgroundColor:"#3498db"}}),M.jsx("span",{className:"legend-label",children:"Fan 2"})]}),M.jsxs("div",{className:"legend-item",children:[M.jsx("div",{className:"legend-color",style:{backgroundColor:"#2ecc71"}}),M.jsx("span",{className:"legend-label",children:"Fan 3"})]}),M.jsxs("div",{className:"legend-item",children:[M.jsx("div",{className:"legend-color",style:{backgroundColor:"#f39c12"}}),M.jsx("span",{className:"legend-label",children:"Fan 4"})]})]}),M.jsx("div",{className:"chart-container",children:M.jsx(gL,{width:"100%",height:"100%",children:M.jsxs(C4,{data:t,margin:{top:5,right:20,left:0,bottom:5},children:[M.jsx(FS,{strokeDasharray:"3 3",stroke:"#e0e0e0",opacity:.5}),M.jsx(_h,{dataKey:"time",stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"}}),M.jsx(wh,{stroke:"#7f8c8d",style:{fontSize:"12px",fontFamily:"Poppins"}}),M.jsx(br,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:"Poppins"},animationDuration:200}),M.jsx(gi,{type:"monotone",dataKey:"fan1",stroke:"#e74c3c",strokeWidth:2,dot:!1,isAnimationActive:r,animationDuration:1500,animationEasing:"ease-out"}),M.jsx(gi,{type:"monotone",dataKey:"fan2",stroke:"#3498db",strokeWidth:2,dot:!1,isAnimationActive:r,animationDuration:1500,animationEasing:"ease-out"}),M.jsx(gi,{type:"monotone",dataKey:"fan3",stroke:"#2ecc71",strokeWidth:2,dot:!1,isAnimationActive:r,animationDuration:1500,animationEasing:"ease-out"}),M.jsx(gi,{type:"monotone",dataKey:"fan4",stroke:"#f39c12",strokeWidth:2,dot:!1,isAnimationActive:r,animationDuration:1500,animationEasing:"ease-out"})]},o)})})]})]})},twe=()=>{const{sensorData:t,luxHistory:e,rpmHistory:n,plantInfo:r,isLoading:i,error:o,isRealtimeConnected:s}=J$();return i&&!t?M.jsx("div",{className:"dashboard-page",style:{backgroundImage:`url(${Gt.background})`},children:M.jsx("div",{className:"loading-container",children:M.jsx("p",{children:"Loading dashboard..."})})}):M.jsxs("div",{className:"dashboard-page",style:{backgroundImage:`url(${Gt.background})`},children:[M.jsxs("header",{className:"dashboard-header",children:[M.jsx("h1",{className:"dashboard-title",children:"Judul Proyek Ini"}),M.jsx("p",{className:"dashboard-subtitle",children:"Dashboard"})]}),o&&M.jsx("div",{className:"error-message",children:o}),M.jsxs("div",{className:"dashboard-content",children:[M.jsx("div",{className:"left-section",children:M.jsx(oG,{plantInfo:r})}),M.jsx("div",{className:"right-section",children:M.jsxs("div",{className:"cards-grid",children:[M.jsx(sG,{value:t.temperature,isConnected:s}),M.jsx(aG,{value:t.windSpeed,isConnected:s}),M.jsx(fG,{value:t.lightIntensity,isConnected:s}),M.jsx(lG,{value:t.airHumidity,isConnected:s}),M.jsx(uG,{value:t.soilMoisture,isConnected:s}),M.jsx(cG,{value:t.waterTankLevel,isConnected:s}),M.jsx(Z0e,{data:e}),M.jsx(ewe,{data:n,isLoading:i,error:o})]})})]})]})},nwe={apiKey:"AIzaSyBRQuZFv7qBlftLINSFxgGeMo4j2uYAwtQ",authDomain:"despro-43cdc.firebaseapp.com",databaseURL:"https://despro-43cdc-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"despro-43cdc",storageBucket:"despro-43cdc.firebasestorage.app",messagingSenderId:"1022318213486",appId:"1:1022318213486:web:5e7f4f4307bda6230f697f",measurementId:"G-N2YW51X1Q9"},rwe=gE(nwe,"manual-control-app"),Gu=T$(rwe),iwe=()=>{const{rpmHistory:t}=J$(),n=(()=>{if(!t||t.length===0)return{fan1:0,fan2:0,fan3:0,fan4:0};const g=t[t.length-1];return{fan1:Math.round(g.fan1),fan2:Math.round(g.fan2),fan3:Math.round(g.fan3),fan4:Math.round(g.fan4)}})(),[r,i]=$.useState(!0),[o,s]=$.useState(50),[a,l]=$.useState(!1),[u,c]=$.useState(!0),[f,d]=$.useState(50),p=async()=>{try{await Du(Tr(Gu,"status/group30/autoControl"),r),r||await Du(Tr(Gu,"status/group30/duty"),o),console.log(" Fan settings saved:",{autoControl:r,duty:o}),alert("Fan settings saved to Firebase!")}catch(g){console.error(" Error saving fan settings:",g),alert("Failed to save fan settings")}},m=async()=>{try{await Du(Tr(Gu,"status/group3/lampStatus"),a),a&&(await Du(Tr(Gu,"status/group3/autoControl"),u),u||await Du(Tr(Gu,"status/group3/duty"),f)),console.log(" Light settings saved:",{lampStatus:a,autoControl:u,duty:f}),alert("Light settings saved to Firebase!")}catch(g){console.error(" Error saving light settings:",g),alert("Failed to save light settings")}};return M.jsxs("div",{className:"manual-control-page",style:{backgroundImage:`url(${Gt.background})`},children:[M.jsxs("header",{className:"manual-control-header",children:[M.jsx("h1",{className:"manual-control-title",children:"Judul Proyek Ini"}),M.jsx("p",{className:"manual-control-subtitle",children:"Manual Control"})]}),M.jsxs("div",{className:"control-container",children:[M.jsxs("div",{className:"control-card",children:[M.jsxs("div",{className:"card-header-row",children:[M.jsxs("div",{className:"card-title-wrapper",children:[M.jsx("h2",{className:"card-title",children:"Fan Control"}),M.jsx("div",{className:"card-icon",children:M.jsx("img",{src:Gt.frame.fanIcon,alt:"Fan"})})]}),M.jsx("div",{className:"switch-container-right",children:M.jsxs("div",{className:"mode-switch",children:[M.jsx("button",{className:`switch-option ${r?"active":""}`,onClick:()=>i(!0),children:"auto"}),M.jsx("button",{className:`switch-option ${r?"":"active"}`,onClick:()=>i(!1),children:"manual"})]})})]}),M.jsx("div",{className:"card-center",children:M.jsxs("div",{className:"four-fans-grid",children:[M.jsxs("div",{className:"single-fan-display",children:[M.jsxs("div",{className:"fan-container spinning",children:[M.jsx("div",{className:"fan-blades-small",children:Array.from({length:7}).map((g,y)=>M.jsx("div",{className:"fan-blade-small",style:{transform:`rotate(${y*51.43}deg)`}},y))}),M.jsx("div",{className:"fan-ring"}),M.jsx("div",{className:"fan-rpm-small",children:M.jsx("span",{className:"rpm-value-small",children:n.fan1})})]}),M.jsx("span",{className:"fan-label",children:"Fan 1"})]}),M.jsxs("div",{className:"single-fan-display",children:[M.jsxs("div",{className:"fan-container spinning",children:[M.jsx("div",{className:"fan-blades-small",children:Array.from({length:7}).map((g,y)=>M.jsx("div",{className:"fan-blade-small",style:{transform:`rotate(${y*51.43}deg)`}},y))}),M.jsx("div",{className:"fan-ring"}),M.jsx("div",{className:"fan-rpm-small",children:M.jsx("span",{className:"rpm-value-small",children:n.fan2})})]}),M.jsx("span",{className:"fan-label",children:"Fan 2"})]}),M.jsxs("div",{className:"single-fan-display",children:[M.jsxs("div",{className:"fan-container spinning",children:[M.jsx("div",{className:"fan-blades-small",children:Array.from({length:7}).map((g,y)=>M.jsx("div",{className:"fan-blade-small",style:{transform:`rotate(${y*51.43}deg)`}},y))}),M.jsx("div",{className:"fan-ring"}),M.jsx("div",{className:"fan-rpm-small",children:M.jsx("span",{className:"rpm-value-small",children:n.fan3})})]}),M.jsx("span",{className:"fan-label",children:"Fan 3"})]}),M.jsxs("div",{className:"single-fan-display",children:[M.jsxs("div",{className:"fan-container spinning",children:[M.jsx("div",{className:"fan-blades-small",children:Array.from({length:7}).map((g,y)=>M.jsx("div",{className:"fan-blade-small",style:{transform:`rotate(${y*51.43}deg)`}},y))}),M.jsx("div",{className:"fan-ring"}),M.jsx("div",{className:"fan-rpm-small",children:M.jsx("span",{className:"rpm-value-small",children:n.fan4})})]}),M.jsx("span",{className:"fan-label",children:"Fan 4"})]})]})}),M.jsxs("div",{className:"card-controls",children:[M.jsxs("div",{className:"slider-section",children:[M.jsx("label",{className:"slider-label",children:"Duty 0%  100%"}),M.jsxs("div",{className:"slider-container",children:[M.jsx("input",{type:"range",min:"0",max:"100",value:o,onChange:g=>s(Number(g.target.value)),className:"duty-slider",disabled:r,style:{opacity:r?.4:1}}),M.jsxs("span",{className:"slider-value",children:[o,"%"]})]})]}),M.jsx("button",{className:"save-button-large",onClick:p,children:"Save"})]})]}),M.jsxs("div",{className:"control-card",children:[M.jsxs("div",{className:"card-header-row",children:[M.jsxs("div",{className:"card-title-wrapper",children:[M.jsx("h2",{className:"card-title",children:"Light Control"}),M.jsx("div",{className:"card-icon",children:M.jsx("img",{src:Gt.frame.lightIcon,alt:"Light"})})]}),M.jsxs("div",{className:"switch-container-right",children:[M.jsx("div",{className:"power-toggle-container",children:M.jsxs("div",{className:`power-toggle ${a?"on":"off"}`,onClick:()=>l(!a),children:[M.jsxs("div",{className:"toggle-track",children:[M.jsx("span",{className:`toggle-label-on ${a?"active":""}`,children:"On"}),M.jsx("span",{className:`toggle-label-off ${a?"":"active"}`,children:"Off"})]}),M.jsx("div",{className:"toggle-thumb"})]})}),M.jsxs("div",{className:"mode-switch",style:{opacity:a?1:.4,pointerEvents:a?"auto":"none"},children:[M.jsx("button",{className:`switch-option ${u?"active":""}`,onClick:()=>c(!0),disabled:!a,children:"auto"}),M.jsx("button",{className:`switch-option ${u?"":"active"}`,onClick:()=>c(!1),disabled:!a,children:"manual"})]})]})]}),M.jsx("div",{className:"card-center",children:M.jsx("div",{className:"light-indicator",style:{backgroundColor:a?"#f4e04d":"#d0d0d0",opacity:a?1:.5}})}),M.jsxs("div",{className:"card-controls",children:[M.jsxs("div",{className:"slider-section",children:[M.jsx("label",{className:"slider-label",children:"PWM 0  255"}),M.jsxs("div",{className:"slider-container",children:[M.jsx("input",{type:"range",min:"0",max:"255",value:f,onChange:g=>d(Number(g.target.value)),className:"duty-slider",disabled:!a||u,style:{opacity:!a||u?.4:1}}),M.jsx("span",{className:"slider-value",children:f})]})]}),M.jsx("button",{className:"save-button-large",onClick:m,children:"Save"})]})]})]})]})},owe=()=>M.jsxs("div",{className:"about-page",children:[M.jsxs("header",{className:"page-header",children:[M.jsx("h1",{className:"page-title",children:"About"}),M.jsx("p",{className:"page-subtitle",children:"Smart Greenhouse Monitoring System"})]}),M.jsxs("div",{className:"about-content",children:[M.jsxs("div",{className:"about-section",children:[M.jsx("h2",{className:"section-title",children:"Tentang Proyek"}),M.jsx("p",{className:"section-text",children:"Smart Greenhouse Monitoring System adalah sistem IoT yang dirancang untuk memantau dan mengontrol kondisi lingkungan greenhouse secara real-time. Sistem ini menggunakan berbagai sensor untuk mengukur parameter penting seperti suhu, kelembaban udara, kelembaban tanah, kecepatan angin, dan intensitas cahaya."})]}),M.jsxs("div",{className:"about-section",children:[M.jsx("h2",{className:"section-title",children:"Fitur Utama"}),M.jsxs("ul",{className:"feature-list",children:[M.jsx("li",{children:"Monitoring real-time suhu dan kelembaban"}),M.jsx("li",{children:"Kontrol otomatis sistem ventilasi (kipas)"}),M.jsx("li",{children:"Monitoring tingkat air pada tangki"}),M.jsx("li",{children:"Pengukuran intensitas cahaya"}),M.jsx("li",{children:"Visualisasi data historis"}),M.jsx("li",{children:"Kontrol manual perangkat"})]})]}),M.jsxs("div",{className:"about-section",children:[M.jsx("h2",{className:"section-title",children:"Teknologi"}),M.jsxs("div",{className:"tech-grid",children:[M.jsxs("div",{className:"tech-item",children:[M.jsx("h3",{children:"Frontend"}),M.jsx("p",{children:"React + TypeScript"})]}),M.jsxs("div",{className:"tech-item",children:[M.jsx("h3",{children:"Backend"}),M.jsx("p",{children:"Node.js + Express"})]}),M.jsxs("div",{className:"tech-item",children:[M.jsx("h3",{children:"Database"}),M.jsx("p",{children:"Firebase Realtime DB"})]}),M.jsxs("div",{className:"tech-item",children:[M.jsx("h3",{children:"IoT Platform"}),M.jsx("p",{children:"ESP32 / Arduino"})]})]})]}),M.jsxs("div",{className:"about-section",children:[M.jsx("h2",{className:"section-title",children:"Tim Pengembang"}),M.jsx("p",{className:"section-text",children:"Proyek ini dikembangkan sebagai bagian dari tugas Desain Proyek 2, Semester 7, Program Studi Teknik Elektro."})]})]})]}),swe=()=>M.jsx(T6,{basename:"/GROBOX",children:M.jsx(nG,{children:M.jsxs("div",{className:"app-container",children:[M.jsx(iG,{}),M.jsx("main",{className:"main-content",children:M.jsxs(y6,{children:[M.jsx(Ju,{path:"/",element:M.jsx(twe,{})}),M.jsx(Ju,{path:"/manual-control",element:M.jsx(iwe,{})}),M.jsx(Ju,{path:"/about",element:M.jsx(owe,{})}),M.jsx(Ju,{path:"*",element:M.jsx(m6,{to:"/",replace:!0})})]})})]})})});n_.createRoot(document.getElementById("root")).render(M.jsx(D.StrictMode,{children:M.jsx(swe,{})}));
